---
title: Bloquear la ejecución de una aplicación mediante AsyncWaitHandle
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- blocks, asynchronous operations
- ending asynchronous operations
- asynchronous programming, ending operations
- asynchronous programming, blocking applications
- stopping asynchronous operations
- blocking application execution
ms.assetid: 3e32daf2-8161-4e8f-addd-9fd9ff101b03
ms.openlocfilehash: 15750575aaa4f937104bd36db5f9dedd4cd12f0a
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/18/2020
ms.locfileid: "94830472"
---
# <a name="blocking-application-execution-using-an-asyncwaithandle"></a><span data-ttu-id="23076-102">Bloquear la ejecución de una aplicación mediante AsyncWaitHandle</span><span class="sxs-lookup"><span data-stu-id="23076-102">Blocking Application Execution Using an AsyncWaitHandle</span></span>
<span data-ttu-id="23076-103">Las aplicaciones que no pueden seguir realizando otro trabajo mientras esperan los resultados de una operación asincrónica se deben bloquear hasta que se complete la operación.</span><span class="sxs-lookup"><span data-stu-id="23076-103">Applications that cannot continue to do other work while waiting for the results of an asynchronous operation must block until the operation completes.</span></span> <span data-ttu-id="23076-104">Use una de las opciones siguientes para bloquear el subproceso principal de la aplicación mientras se espera a que se complete una operación asincrónica:</span><span class="sxs-lookup"><span data-stu-id="23076-104">Use one of the following options to block your application's main thread while waiting for an asynchronous operation to complete:</span></span>  
  
- <span data-ttu-id="23076-105">Use la propiedad <xref:System.IAsyncResult.AsyncWaitHandle%2A> de la interfaz <xref:System.IAsyncResult> devuelta por el método **Begin**_OperationName_ de la operación asincrónica.</span><span class="sxs-lookup"><span data-stu-id="23076-105">Use the <xref:System.IAsyncResult.AsyncWaitHandle%2A> property of the <xref:System.IAsyncResult> returned by the asynchronous operation's **Begin**_OperationName_ method.</span></span> <span data-ttu-id="23076-106">Este método se muestra en este tema.</span><span class="sxs-lookup"><span data-stu-id="23076-106">This approach is demonstrated in this topic.</span></span>  
  
- <span data-ttu-id="23076-107">Llamar al método **End**_OperationName_ para operaciones asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="23076-107">Call the asynchronous operation's **End**_OperationName_ method.</span></span> <span data-ttu-id="23076-108">Para ver un ejemplo que ilustre este método, consulte [Bloquear la ejecución de una aplicación al finalizar una operación asincrónica](blocking-application-execution-by-ending-an-async-operation.md).</span><span class="sxs-lookup"><span data-stu-id="23076-108">For an example that demonstrates this approach, see [Blocking Application Execution by Ending an Async Operation](blocking-application-execution-by-ending-an-async-operation.md).</span></span>  
  
 <span data-ttu-id="23076-109">Las aplicaciones que usan uno o varios objetos <xref:System.Threading.WaitHandle> para el bloqueo hasta que se completa una operación asincrónica normalmente llamarán al método **Begin**_OperationName_, realizarán cualquier trabajo que se pueda realizar sin los resultados de la operación y luego se bloquearán hasta que se completen las operaciones asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="23076-109">Applications that use one or more <xref:System.Threading.WaitHandle> objects to block until an asynchronous operation is complete will typically call the **Begin**_OperationName_ method, perform any work that can be done without the results of the operation, and then block until the asynchronous operation(s) completes.</span></span> <span data-ttu-id="23076-110">Una aplicación puede bloquearse en una sola operación si llama a uno de los métodos <xref:System.Threading.WaitHandle.WaitOne%2A> con el uso de <xref:System.IAsyncResult.AsyncWaitHandle%2A>.</span><span class="sxs-lookup"><span data-stu-id="23076-110">An application can block on a single operation by calling one of the <xref:System.Threading.WaitHandle.WaitOne%2A> methods using the <xref:System.IAsyncResult.AsyncWaitHandle%2A>.</span></span> <span data-ttu-id="23076-111">Para realizar el bloqueo mientras se espera a que finalicen una serie de operaciones asincrónicas, almacene los objetos <xref:System.IAsyncResult.AsyncWaitHandle%2A> asociados en una matriz y llame a uno de los métodos <xref:System.Threading.WaitHandle.WaitAll%2A>.</span><span class="sxs-lookup"><span data-stu-id="23076-111">To block while waiting for a set of asynchronous operations to complete, store the associated <xref:System.IAsyncResult.AsyncWaitHandle%2A> objects in an array and call one of the <xref:System.Threading.WaitHandle.WaitAll%2A> methods.</span></span> <span data-ttu-id="23076-112">Para realizar el bloqueo mientras se espera a que finalice cualquier serie de operaciones asincrónicas, almacene los objetos <xref:System.IAsyncResult.AsyncWaitHandle%2A> asociados en una matriz y llame a uno de los métodos <xref:System.Threading.WaitHandle.WaitAny%2A>.</span><span class="sxs-lookup"><span data-stu-id="23076-112">To block while waiting for any one of a set of asynchronous operations to complete, store the associated <xref:System.IAsyncResult.AsyncWaitHandle%2A> objects in an array and call one of the <xref:System.Threading.WaitHandle.WaitAny%2A> methods.</span></span>  
  
## <a name="example"></a><span data-ttu-id="23076-113">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="23076-113">Example</span></span>  
 <span data-ttu-id="23076-114">En el ejemplo de código siguiente se explica cómo utilizar los métodos asincrónicos en la clase DNS para recuperar información del sistema de nombres de dominio de un equipo especificado por el usuario.</span><span class="sxs-lookup"><span data-stu-id="23076-114">The following code example demonstrates using asynchronous methods in the DNS class to retrieve Domain Name System information for a user-specified computer.</span></span> <span data-ttu-id="23076-115">En el ejemplo se muestra el bloqueo con el uso del método <xref:System.Threading.WaitHandle> asociado con la operación asincrónica.</span><span class="sxs-lookup"><span data-stu-id="23076-115">The example demonstrates blocking using the <xref:System.Threading.WaitHandle> associated with the asynchronous operation.</span></span> <span data-ttu-id="23076-116">Tenga en cuenta que `null` (`Nothing` en Visual Basic) se pasa para los parámetros <xref:System.Net.Dns.BeginGetHostByName%2A>`requestCallback` y `stateObject`, porque estos no son necesarios cuando se usa este método.</span><span class="sxs-lookup"><span data-stu-id="23076-116">Note that `null` (`Nothing` in Visual Basic) is passed for the <xref:System.Net.Dns.BeginGetHostByName%2A>`requestCallback` and `stateObject` parameters because these are not required when using this approach.</span></span>  
  
 [!code-csharp[AsyncDesignPattern#2](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDesignPattern/CS/Async_EndBlockWait.cs#2)]
 [!code-vb[AsyncDesignPattern#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDesignPattern/VB/Async_EndBlockWait.vb#2)]  
  
## <a name="see-also"></a><span data-ttu-id="23076-117">Vea también</span><span class="sxs-lookup"><span data-stu-id="23076-117">See also</span></span>

- [<span data-ttu-id="23076-118">Modelo asincrónico basado en eventos (EAP)</span><span class="sxs-lookup"><span data-stu-id="23076-118">Event-based Asynchronous Pattern (EAP)</span></span>](event-based-asynchronous-pattern-eap.md)
- <span data-ttu-id="23076-119">[Event-based Asynchronous Pattern Overview](event-based-asynchronous-pattern-overview.md) (Información general sobre el modelo asincrónico basado en eventos)</span><span class="sxs-lookup"><span data-stu-id="23076-119">[Event-based Asynchronous Pattern Overview](event-based-asynchronous-pattern-overview.md)</span></span>
