---
title: Directrices de serialización
description: En este documento se proporcionan directrices que se deben tener en cuenta al diseñar una API que se va a serializar y un resumen de las tres tecnologías principales de serialización que ofrece .NET.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- serialization, guidelines
- binary serialization, guidelines
ms.assetid: ebbeddff-179d-443f-bf08-9c373199a73a
ms.openlocfilehash: 110efce0bd7fae1a4f39f5d879496bf541ffe667
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/24/2020
ms.locfileid: "95722159"
---
# <a name="serialization-guidelines"></a><span data-ttu-id="30750-103">Directrices de serialización</span><span class="sxs-lookup"><span data-stu-id="30750-103">Serialization guidelines</span></span>

<span data-ttu-id="30750-104">En este artículo se enumeran las instrucciones que se deben tener en cuenta al diseñar una API para su serialización.</span><span class="sxs-lookup"><span data-stu-id="30750-104">This article lists the guidelines to consider when designing an API to be serialized.</span></span>

[!INCLUDE [binary-serialization-warning](../../../includes/binary-serialization-warning.md)]

 <span data-ttu-id="30750-105">.NET proporciona tres tecnologías de serialización principales que están optimizadas para varios escenarios de serialización.</span><span class="sxs-lookup"><span data-stu-id="30750-105">.NET offers three main serialization technologies that are optimized for various serialization scenarios.</span></span> <span data-ttu-id="30750-106">En la siguiente tabla se enumeran estas tecnologías y los principales tipos de .NET relacionados con ellas.</span><span class="sxs-lookup"><span data-stu-id="30750-106">The following table lists these technologies and the main .NET types related to these technologies.</span></span>

|<span data-ttu-id="30750-107">Tecnología</span><span class="sxs-lookup"><span data-stu-id="30750-107">Technology</span></span>|<span data-ttu-id="30750-108">Clases pertinentes</span><span class="sxs-lookup"><span data-stu-id="30750-108">Relevant Classes</span></span>|<span data-ttu-id="30750-109">Notas</span><span class="sxs-lookup"><span data-stu-id="30750-109">Notes</span></span>|
|----------------|----------------------|-----------|
|<span data-ttu-id="30750-110">Serialización de contratos de datos</span><span class="sxs-lookup"><span data-stu-id="30750-110">Data Contract Serialization</span></span>|<xref:System.Runtime.Serialization.DataContractAttribute><br /><br /> <xref:System.Runtime.Serialization.DataMemberAttribute><br /><br /> <xref:System.Runtime.Serialization.DataContractSerializer><br /><br /> <xref:System.Runtime.Serialization.NetDataContractSerializer><br /><br /> <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer><br /><br /> <xref:System.Runtime.Serialization.ISerializable>|<span data-ttu-id="30750-111">Persistencia general</span><span class="sxs-lookup"><span data-stu-id="30750-111">General persistence</span></span><br /><br /> <span data-ttu-id="30750-112">Servicios Web</span><span class="sxs-lookup"><span data-stu-id="30750-112">Web Services</span></span><br /><br /> <span data-ttu-id="30750-113">JSON</span><span class="sxs-lookup"><span data-stu-id="30750-113">JSON</span></span>|
|<span data-ttu-id="30750-114">Serialización XML</span><span class="sxs-lookup"><span data-stu-id="30750-114">XML Serialization</span></span>|<xref:System.Xml.Serialization.XmlSerializer>|<span data-ttu-id="30750-115">Formato XML</span><span class="sxs-lookup"><span data-stu-id="30750-115">XML format</span></span> <br /><span data-ttu-id="30750-116">con control completo</span><span class="sxs-lookup"><span data-stu-id="30750-116">with full control</span></span>|
|<span data-ttu-id="30750-117">Serialización en tiempo de ejecución (Binary y SOAP)</span><span class="sxs-lookup"><span data-stu-id="30750-117">Runtime -Serialization (Binary and SOAP)</span></span>|<xref:System.SerializableAttribute><br /><br /> <xref:System.Runtime.Serialization.ISerializable><br /><br /> <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter><br /><br /> <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>|<span data-ttu-id="30750-118">.NET Remoting</span><span class="sxs-lookup"><span data-stu-id="30750-118">.NET Remoting</span></span>|

 <span data-ttu-id="30750-119">Al diseñar tipos nuevos, debería decidir cuales de estas tecnologías deben admitir esos tipos (en caso de que haya alguna).</span><span class="sxs-lookup"><span data-stu-id="30750-119">When you design new types, you should decide which, if any, of these technologies those types need to support.</span></span> <span data-ttu-id="30750-120">Las siguientes instrucciones describen cómo tomar una decisión y cómo proporcionar dicha compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="30750-120">The following guidelines describe how to make that choice and how to provide such support.</span></span> <span data-ttu-id="30750-121">Estas instrucciones no están pensadas para ayudarle a elegir qué tecnología de serialización debería utilizar en la implementación de su aplicación o biblioteca.</span><span class="sxs-lookup"><span data-stu-id="30750-121">These guidelines are not meant to help you choose which serialization technology you should use in the implementation of your application or library.</span></span> <span data-ttu-id="30750-122">Tales instrucciones no están relacionadas directamente con el diseño de la API y, por lo tanto, no forman parte de este tema.</span><span class="sxs-lookup"><span data-stu-id="30750-122">Such guidelines are not directly related to API design and thus are not within the scope of this topic.</span></span>

## <a name="guidelines"></a><span data-ttu-id="30750-123">Instrucciones</span><span class="sxs-lookup"><span data-stu-id="30750-123">Guidelines</span></span>

- <span data-ttu-id="30750-124">Piense en la serialización al diseñar los nuevos tipos.</span><span class="sxs-lookup"><span data-stu-id="30750-124">DO think about serialization when you design new types.</span></span>

  <span data-ttu-id="30750-125">La serialización es un factor importante en el diseño de cualquier tipo, es posible que los programas necesiten conservar o transmitir instancias del tipo.</span><span class="sxs-lookup"><span data-stu-id="30750-125">Serialization is an important design consideration for any type, because programs might need to persist or transmit instances of the type.</span></span>

### <a name="choosing-the-right-serialization-technology-to-support"></a><span data-ttu-id="30750-126">Elegir la tecnología de serialización correcta que se va a admitir</span><span class="sxs-lookup"><span data-stu-id="30750-126">Choosing the right serialization technology to support</span></span>

 <span data-ttu-id="30750-127">Un tipo dado puede admitir una o varias tecnologías de serialización, o ninguna.</span><span class="sxs-lookup"><span data-stu-id="30750-127">Any given type can support none, one, or more of the serialization technologies.</span></span>

- <span data-ttu-id="30750-128">CONSIDERE admitir la *serialización de contrato de datos* si puede que las instancias de su tipo deban conservarse o usarse en Servicios Web.</span><span class="sxs-lookup"><span data-stu-id="30750-128">CONSIDER supporting *data contract serialization* if instances of your type might need to be persisted or used in Web Services.</span></span>

- <span data-ttu-id="30750-129">CONSIDERE la posibilidad de admitir la *serialización XML* en lugar de —o además de— la serialización de contrato de datos si necesita más control sobre el formato XML que se genera cuando se serializa el tipo.</span><span class="sxs-lookup"><span data-stu-id="30750-129">CONSIDER supporting the *XML serialization* instead of or in addition to data contract serialization if you need more control over the XML format that is produced when the type is serialized.</span></span>

     <span data-ttu-id="30750-130">Esto puede ser necesario en algunos escenarios de interoperabilidad donde es necesario utilizar una construcción XML no admitida por la serialización de contrato de datos; por ejemplo, para generar atributos XML.</span><span class="sxs-lookup"><span data-stu-id="30750-130">This may be necessary in some interoperability scenarios where you need to use an XML construct that is not supported by data contract serialization, for example, to produce XML attributes.</span></span>

- <span data-ttu-id="30750-131">CONSIDERE la posibilidad de admitir la *serialización en tiempo de ejecución* si las instancias de su tipo necesitan traspasar los límites de .NET Remoting.</span><span class="sxs-lookup"><span data-stu-id="30750-131">CONSIDER supporting *runtime serialization* if instances of your type need to travel across .NET Remoting boundaries.</span></span>

- <span data-ttu-id="30750-132">EVITE admitir la serialización en tiempo de ejecución o la serialización XML solo por motivos generales de persistencia.</span><span class="sxs-lookup"><span data-stu-id="30750-132">AVOID supporting runtime serialization or XML serialization just for general persistence reasons.</span></span> <span data-ttu-id="30750-133">Preferencia por la serialización de contrato de datos</span><span class="sxs-lookup"><span data-stu-id="30750-133">Prefer data contract serialization instead</span></span>

#### <a name="data-contract-serialization"></a><span data-ttu-id="30750-134">Serialización de contratos de datos</span><span class="sxs-lookup"><span data-stu-id="30750-134">Data contract serialization</span></span>

 <span data-ttu-id="30750-135">Los tipos pueden admitir la serialización de contrato de datos mediante la aplicación de <xref:System.Runtime.Serialization.DataContractAttribute> al tipo y <xref:System.Runtime.Serialization.DataMemberAttribute> a los miembros (campos y propiedades) del tipo.</span><span class="sxs-lookup"><span data-stu-id="30750-135">Types can support data contract serialization by applying the <xref:System.Runtime.Serialization.DataContractAttribute> to the type and the <xref:System.Runtime.Serialization.DataMemberAttribute> to the members (fields and properties) of the type.</span></span>

 [!code-csharp[SerializationGuidelines#1](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#1)]
 [!code-vb[SerializationGuidelines#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#1)]

1. <span data-ttu-id="30750-136">CONSIDERE la posibilidad de marcar como públicos los miembros de datos del tipo si el tipo se puede utilizar con confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="30750-136">CONSIDER marking data members of your type public if the type can be used in partial trust.</span></span> <span data-ttu-id="30750-137">Con plena confianza, los serializadores de contrato de datos pueden serializar y deserializar tipos y miembros no públicos, pero solo los miembros públicos se pueden serializar y deserializar con confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="30750-137">In full trust, data contract serializers can serialize and deserialize nonpublic types and members, but only public members can be serialized and deserialized in partial trust.</span></span>

2. <span data-ttu-id="30750-138">Implemente getter y setter en todas las propiedades que tienen Data-MemberAttribute.</span><span class="sxs-lookup"><span data-stu-id="30750-138">DO implement a getter and setter on all properties that have Data-MemberAttribute.</span></span> <span data-ttu-id="30750-139">Los serializadores de contrato de datos requieren getter y setter para que el tipo se considere serializable.</span><span class="sxs-lookup"><span data-stu-id="30750-139">Data contract serializers require both the getter and the setter for the type to be considered serializable.</span></span> <span data-ttu-id="30750-140">Si el tipo no se va a usar con confianza parcial, uno o los dos descriptores de acceso de propiedad pueden ser no públicos.</span><span class="sxs-lookup"><span data-stu-id="30750-140">If the type won't be used in partial trust, one or both of the property accessors can be nonpublic.</span></span>

     [!code-csharp[SerializationGuidelines#2](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#2)]
     [!code-vb[SerializationGuidelines#2](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#2)]

3. <span data-ttu-id="30750-141">CONSIDERE la posibilidad de usar devoluciones de llamada de serialización para la inicialización de instancias deserializadas.</span><span class="sxs-lookup"><span data-stu-id="30750-141">CONSIDER using the serialization callbacks for initialization of deserialized instances.</span></span>

     <span data-ttu-id="30750-142">No se llama a los constructores cuando se deserializan los objetos.</span><span class="sxs-lookup"><span data-stu-id="30750-142">Constructors are not called when objects are deserialized.</span></span> <span data-ttu-id="30750-143">Por consiguiente, cualquier lógica que se ejecute durante la construcción normal debe implementarse como una de las *devoluciones de llamada de serialización*.</span><span class="sxs-lookup"><span data-stu-id="30750-143">Therefore, any logic that executes during normal construction needs to be implemented as one of the *serialization callbacks*.</span></span>

     [!code-csharp[SerializationGuidelines#3](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#3)]
     [!code-vb[SerializationGuidelines#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#3)]

     <span data-ttu-id="30750-144">El atributo <xref:System.Runtime.Serialization.OnDeserializedAttribute> es el atributo de devolución de llamada más utilizado.</span><span class="sxs-lookup"><span data-stu-id="30750-144">The <xref:System.Runtime.Serialization.OnDeserializedAttribute> attribute is the most commonly used callback attribute.</span></span> <span data-ttu-id="30750-145">Los demás atributos de la familia son <xref:System.Runtime.Serialization.OnDeserializingAttribute>, <xref:System.Runtime.Serialization.OnSerializingAttribute> y <xref:System.Runtime.Serialization.OnSerializedAttribute>.</span><span class="sxs-lookup"><span data-stu-id="30750-145">The other attributes in the family are <xref:System.Runtime.Serialization.OnDeserializingAttribute>, <xref:System.Runtime.Serialization.OnSerializingAttribute>, and <xref:System.Runtime.Serialization.OnSerializedAttribute>.</span></span> <span data-ttu-id="30750-146">Se pueden utilizar para marcar devoluciones de llamada que se ejecutan antes de la deserialización, antes de la serialización y, por último, después de la serialización, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="30750-146">They can be used to mark callbacks that get executed before deserialization, before serialization, and finally, after serialization, respectively.</span></span>

4. <span data-ttu-id="30750-147">CONSIDERE la posibilidad de usar <xref:System.Runtime.Serialization.KnownTypeAttribute> para indicar tipos concretos que se deberían utilizar al deserializar un gráfico de objetos complejo.</span><span class="sxs-lookup"><span data-stu-id="30750-147">CONSIDER using the <xref:System.Runtime.Serialization.KnownTypeAttribute> to indicate concrete types that should be used when deserializing a complex object graph.</span></span>

     <span data-ttu-id="30750-148">Por ejemplo, si una clase abstracta representa un tipo de un miembro de datos deserializado, el serializador necesitará la información del *tipo conocido* para decidir de qué tipo concreto se crearán instancias para asignarlas al miembro.</span><span class="sxs-lookup"><span data-stu-id="30750-148">For example, if a type of a deserialized data member is represented by an abstract class, the serializer will need the *known type* information to decide what concrete type to instantiate and assign to the member.</span></span> <span data-ttu-id="30750-149">Si el tipo conocido no se especifica utilizando el atributo, deberá pasarse al serializador explícitamente (puede hacerlo pasando tipos conocidos al constructor del serializador) o deberá especificarse en el archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="30750-149">If the known type is not specified using the attribute, it will need to be passed to the serializer explicitly (you can do it by passing known types to the serializer constructor) or it will need to be specified in the configuration file.</span></span>

     [!code-csharp[SerializationGuidelines#4](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#4)]
     [!code-vb[SerializationGuidelines#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#4)]

     <span data-ttu-id="30750-150">Cuando no se conoce la lista de tipos conocidos estáticamente (cuando se compila la clase **Person**), **KnownTypeAttribute** también puede apuntar a un método que devuelve una lista de tipos conocidos en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="30750-150">In cases where the list of known types is not known statically (when the **Person** class is compiled), the **KnownTypeAttribute** can also point to a method that returns a list of known types at run time.</span></span>

5. <span data-ttu-id="30750-151">Tenga en cuenta la compatibilidad con versiones anteriores y posteriores al crear o cambiar tipos serializables.</span><span class="sxs-lookup"><span data-stu-id="30750-151">DO consider backward and forward compatibility when creating or changing serializable types.</span></span>

     <span data-ttu-id="30750-152">Tenga presente que las secuencias serializadas de futuras versiones del tipo se puedan deserializar en la versión actual del tipo y viceversa.</span><span class="sxs-lookup"><span data-stu-id="30750-152">Keep in mind that serialized streams of future versions of your type can be deserialized into the current version of the type, and vice versa.</span></span> <span data-ttu-id="30750-153">Asegúrese de que entiende que los miembros de datos, incluso los privados e internos, no pueden sufrir cambios en sus nombres, tipos, o incluso su orden, en versiones futuras del tipo a menos que se tomen precauciones para conservar el contrato mediante el uso de parámetros explícitos para los atributos del contrato de datos. Pruebe la compatibilidad de la serialización cuando realice cambios en los tipos serializables.</span><span class="sxs-lookup"><span data-stu-id="30750-153">Make sure you understand that data members, even private and internal, cannot change their names, types, or even their order in future versions of the type unless special care is taken to preserve the contract using explicit parameters to the data contract attributes.Test compatibility of serialization when making changes to serializable types.</span></span> <span data-ttu-id="30750-154">Pruebe a deserializar la nueva versión en una versión anterior, y viceversa.</span><span class="sxs-lookup"><span data-stu-id="30750-154">Try deserializing the new version into an old version, and vice versa.</span></span>

6. <span data-ttu-id="30750-155">CONSIDERE la posibilidad de implementar la interfaz <xref:System.Runtime.Serialization.IExtensibleDataObject> para permitir los viajes de ida y vuelta entre distintas versiones del tipo.</span><span class="sxs-lookup"><span data-stu-id="30750-155">CONSIDER implementing <xref:System.Runtime.Serialization.IExtensibleDataObject> interface to allow round-tripping between different versions of the type.</span></span>

     <span data-ttu-id="30750-156">La interfaz permite al serializador asegurarse de que no se pierden datos durante los viajes de ida y vuelta.</span><span class="sxs-lookup"><span data-stu-id="30750-156">The interface allows the serializer to ensure that no data is lost during round-tripping.</span></span> <span data-ttu-id="30750-157">La propiedad <xref:System.Runtime.Serialization.IExtensibleDataObject.ExtensionData%2A> almacena cualquier dato de la versión futura del tipo que es desconocido para la versión actual.</span><span class="sxs-lookup"><span data-stu-id="30750-157">The <xref:System.Runtime.Serialization.IExtensibleDataObject.ExtensionData%2A> property stores any data from the future version of the type that is unknown to the current version.</span></span> <span data-ttu-id="30750-158">Cuando la versión actual se serialice y deserialice en una versión futura, los datos adicionales estarán disponibles en la secuencia serializada a través del valor de propiedad **ExtensionData**.</span><span class="sxs-lookup"><span data-stu-id="30750-158">When the current version is subsequently serialized and deserialized into a future version, the additional data will be available in the serialized stream through the **ExtensionData** property value.</span></span>

     [!code-csharp[SerializationGuidelines#5](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#5)]
     [!code-vb[SerializationGuidelines#5](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#5)]

     <span data-ttu-id="30750-159">Para obtener más información, vea [Forward-Compatible Data Contracts](../../framework/wcf/feature-details/forward-compatible-data-contracts.md) (Contratos de datos compatibles con el reenvío).</span><span class="sxs-lookup"><span data-stu-id="30750-159">For more information, see [Forward-Compatible Data Contracts](../../framework/wcf/feature-details/forward-compatible-data-contracts.md).</span></span>

#### <a name="xml-serialization"></a><span data-ttu-id="30750-160">serialización XML</span><span class="sxs-lookup"><span data-stu-id="30750-160">XML serialization</span></span>

 <span data-ttu-id="30750-161">La serialización de contrato de datos es la tecnología de serialización principal (predeterminada) en .NET Framework, pero hay escenarios de serialización que la serialización de contrato de datos no admite.</span><span class="sxs-lookup"><span data-stu-id="30750-161">Data contract serialization is the main (default) serialization technology in .NET Framework, but there are serialization scenarios that data contract serialization does not support.</span></span> <span data-ttu-id="30750-162">Por ejemplo, no proporciona control total sobre la forma del XML generado o utilizado por el serializador.</span><span class="sxs-lookup"><span data-stu-id="30750-162">For example, it does not give you full control over the shape of XML produced or consumed by the serializer.</span></span> <span data-ttu-id="30750-163">Si se requiere un control tan detallado, debe usarse la *serialización XML* y los tipos se deben diseñar para admitir esta tecnología de serialización.</span><span class="sxs-lookup"><span data-stu-id="30750-163">If such fine control is required, *XML serialization* has to be used, and you need to design your types to support this serialization technology.</span></span>

1. <span data-ttu-id="30750-164">EVITE diseñar sus tipos concretamente para la serialización XML, a menos que tenga una razón de peso para controlar la forma del XML generado.</span><span class="sxs-lookup"><span data-stu-id="30750-164">AVOID designing your types specifically for XML Serialization, unless you have a very strong reason to control the shape of the XML produced.</span></span> <span data-ttu-id="30750-165">Esta tecnología de serialización ha sido reemplazada por la serialización de contrato de datos que se describió en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="30750-165">This serialization technology has been superseded by the Data Contract Serialization discussed in the previous section.</span></span>

     <span data-ttu-id="30750-166">En otras palabras, no aplique atributos del espacio de nombres <xref:System.Xml.Serialization> a los tipos nuevos, a menos que sepa que el tipo se utilizará con la serialización XML.</span><span class="sxs-lookup"><span data-stu-id="30750-166">In other words, don't apply attributes from the <xref:System.Xml.Serialization> namespace to new types, unless you know that the type will be used with XML Serialization.</span></span> <span data-ttu-id="30750-167">El siguiente ejemplo muestra cómo se puede usar **System.Xml.Serialization** para controlar la forma del XML generado.</span><span class="sxs-lookup"><span data-stu-id="30750-167">The following example shows how **System.Xml.Serialization** can be used to control the shape of the XML -produced.</span></span>

     [!code-csharp[SerializationGuidelines#6](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#6)]
     [!code-vb[SerializationGuidelines#6](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#6)]

2. <span data-ttu-id="30750-168">CONSIDERE la posibilidad de implementar la interfaz <xref:System.Xml.Serialization.IXmlSerializable> si desea un mayor control sobre la forma del XML serializado del que se proporciona aplicando los atributos de serialización XML.</span><span class="sxs-lookup"><span data-stu-id="30750-168">CONSIDER implementing the <xref:System.Xml.Serialization.IXmlSerializable> interface if you want even more control over the shape of the serialized XML than what's offered by applying the XML Serialization attributes.</span></span> <span data-ttu-id="30750-169">Dos métodos de la interfaz, <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> y <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A>, permiten controlar totalmente la secuencia XML serializada.</span><span class="sxs-lookup"><span data-stu-id="30750-169">Two methods of the interface, <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> and <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A>, allow you to fully control the serialized XML stream.</span></span> <span data-ttu-id="30750-170">También puede controlar el esquema XML que se genera para el tipo aplicando el atributo <xref:System.Xml.Serialization.XmlSchemaProviderAttribute>.</span><span class="sxs-lookup"><span data-stu-id="30750-170">You can also control the XML schema that gets generated for the type by applying the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> attribute.</span></span>

#### <a name="runtime-serialization"></a><span data-ttu-id="30750-171">Serialización en tiempo de ejecución</span><span class="sxs-lookup"><span data-stu-id="30750-171">Runtime serialization</span></span>

 <span data-ttu-id="30750-172">La *serialización en tiempo de ejecución* es una tecnología usada por .NET Remoting.</span><span class="sxs-lookup"><span data-stu-id="30750-172">*Runtime serialization* is a technology used by .NET Remoting.</span></span> <span data-ttu-id="30750-173">Si piensa que sus tipos se transportarán mediante .NET Remoting, asegúrese de que admitan la serialización en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="30750-173">If you think your types will be transported using .NET Remoting, make sure they support runtime serialization.</span></span>

 <span data-ttu-id="30750-174">La compatibilidad básica para la *serialización en tiempo de ejecución* se puede proporcionar aplicando el atributo <xref:System.SerializableAttribute> y, en escenarios más avanzados, se implementa un *patrón serializable en tiempo de ejecución* simple (implemente -<xref:System.Runtime.Serialization.ISerializable> y proporcione un constructor de serialización).</span><span class="sxs-lookup"><span data-stu-id="30750-174">The basic support for *runtime serialization* can be provided by applying the <xref:System.SerializableAttribute> attribute, and more advanced scenarios involve implementing a simple *runtime serializable pattern* (implement -<xref:System.Runtime.Serialization.ISerializable> and provide a serialization constructor).</span></span>

1. <span data-ttu-id="30750-175">CONSIDERE la posibilidad de admitir la serialización en tiempo de ejecución si sus tipos se van a usar con .NET Remoting.</span><span class="sxs-lookup"><span data-stu-id="30750-175">CONSIDER supporting runtime serialization if your types will be used with .NET Remoting.</span></span> <span data-ttu-id="30750-176">Por ejemplo, el espacio de nombres <xref:System.AddIn> usa .NET Remoting. Así, todos los tipos intercambiados entre los complementos **System.AddIn** deben admitir la serialización en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="30750-176">For example, the <xref:System.AddIn> namespace uses .NET Remoting, and so all types exchanged between **System.AddIn** add-ins need to support runtime serialization.</span></span>

     [!code-csharp[SerializationGuidelines#7](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#7)]
     [!code-vb[SerializationGuidelines#7](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#7)]

2. <span data-ttu-id="30750-177">CONSIDERE la implementación del *patrón serializable en tiempo de ejecución* si desea un control completo sobre el proceso de serialización.</span><span class="sxs-lookup"><span data-stu-id="30750-177">CONSIDER implementing the *runtime serializable pattern* if you want complete control over the serialization process.</span></span> <span data-ttu-id="30750-178">Por ejemplo, si desea transformar los datos cuando se serializan o deserializan.</span><span class="sxs-lookup"><span data-stu-id="30750-178">For example, if you want to transform data as it gets serialized or deserialized.</span></span>

     <span data-ttu-id="30750-179">El patrón es muy simple.</span><span class="sxs-lookup"><span data-stu-id="30750-179">The pattern is very simple.</span></span> <span data-ttu-id="30750-180">Todo lo que necesita hacer es implementar la interfaz <xref:System.Runtime.Serialization.ISerializable> y proporcionar un constructor especial que se utiliza cuando se deserializa el objeto.</span><span class="sxs-lookup"><span data-stu-id="30750-180">All you need to do is implement the <xref:System.Runtime.Serialization.ISerializable> interface and provide a special constructor that is used when the object is deserialized.</span></span>

     [!code-csharp[SerializationGuidelines#8](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#8)]
     [!code-vb[SerializationGuidelines#8](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#8)]

3. <span data-ttu-id="30750-181">Proteja el constructor de serialización y proporcione dos parámetros con el tipo y el nombre que se indican en el ejemplo que se muestra aquí.</span><span class="sxs-lookup"><span data-stu-id="30750-181">DO make the serialization constructor protected and provide two parameters typed and named exactly as shown in the sample here.</span></span>

     [!code-csharp[SerializationGuidelines#9](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#9)]
     [!code-vb[SerializationGuidelines#9](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#9)]

4. <span data-ttu-id="30750-182">Implemente los miembros ISerializable explícitamente.</span><span class="sxs-lookup"><span data-stu-id="30750-182">DO implement the ISerializable members explicitly.</span></span>

     [!code-csharp[SerializationGuidelines#10](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#10)]
     [!code-vb[SerializationGuidelines#10](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#10)]

5. <span data-ttu-id="30750-183">Aplique una petición de vínculo a la implementación **ISerializable.GetObjectData**.</span><span class="sxs-lookup"><span data-stu-id="30750-183">DO apply a link demand to **ISerializable.GetObjectData** implementation.</span></span> <span data-ttu-id="30750-184">De este modo se garantiza que solo el núcleo de plena confianza y el serializador en tiempo de ejecución tienen acceso al miembro.</span><span class="sxs-lookup"><span data-stu-id="30750-184">This ensures that only fully trusted core and the runtime serializer have access to the member.</span></span>

     [!code-csharp[SerializationGuidelines#11](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#11)]
     [!code-vb[SerializationGuidelines#11](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#11)]

## <a name="see-also"></a><span data-ttu-id="30750-185">Vea también</span><span class="sxs-lookup"><span data-stu-id="30750-185">See also</span></span>

- [<span data-ttu-id="30750-186">Utilización de contratos de datos</span><span class="sxs-lookup"><span data-stu-id="30750-186">Using Data Contracts</span></span>](../../framework/wcf/feature-details/using-data-contracts.md)
- [<span data-ttu-id="30750-187">Serializador de contratos de datos</span><span class="sxs-lookup"><span data-stu-id="30750-187">Data Contract Serializer</span></span>](../../framework/wcf/feature-details/data-contract-serializer.md)
- [<span data-ttu-id="30750-188">Tipos admitidos por el serializador de contratos de datos</span><span class="sxs-lookup"><span data-stu-id="30750-188">Types Supported by the Data Contract Serializer</span></span>](../../framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)
- [<span data-ttu-id="30750-189">Serialización binaria</span><span class="sxs-lookup"><span data-stu-id="30750-189">Binary Serialization</span></span>](binary-serialization.md)
- <span data-ttu-id="30750-190">[.NET Remoting](/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="30750-190">[.NET Remoting](/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span></span>
- [<span data-ttu-id="30750-191">Serialización SOAP y XML</span><span class="sxs-lookup"><span data-stu-id="30750-191">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="30750-192">Seguridad y serialización</span><span class="sxs-lookup"><span data-stu-id="30750-192">Security and Serialization</span></span>](../../framework/misc/security-and-serialization.md)
