---
title: Conceptos de serialización
description: La serialización se puede utilizar para capturar el estado de un objeto para que se pueda crear una copia, o para enviar un objeto por valor de un dominio de aplicación a otro.
ms.date: 08/07/2017
ms.assetid: e1ff4740-20a1-4c76-a8ad-d857db307054
ms.openlocfilehash: dcaa3fa0d9080c958e63a3ae9d1e8f951ea1f70b
ms.sourcegitcommit: 74d05613d6c57106f83f82ce8ee71176874ea3f0
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/03/2020
ms.locfileid: "93282298"
---
# <a name="serialization-concepts"></a><span data-ttu-id="4a65a-103">Conceptos de serialización</span><span class="sxs-lookup"><span data-stu-id="4a65a-103">Serialization concepts</span></span>
<span data-ttu-id="4a65a-104">¿Por qué desearía utilizar la serialización?</span><span class="sxs-lookup"><span data-stu-id="4a65a-104">Why would you want to use serialization?</span></span> <span data-ttu-id="4a65a-105">Las dos razones más importantes son conservar así el estado de un objeto a los medios de almacenamiento, de manera que una copia exacta se puede recrear en una copia intermedia posterior y para enviar por valor el objeto de un dominio de aplicación a otro.</span><span class="sxs-lookup"><span data-stu-id="4a65a-105">The two most important reasons are to persist the state of an object to a storage medium so an exact copy can be re-created at a later stage, and to send the object by value from one application domain to another.</span></span> <span data-ttu-id="4a65a-106">Por ejemplo, la serialización se utiliza para guardar el estado de sesión en ASP.NET y copiar los objetos en el Portapapeles en Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="4a65a-106">For example, serialization is used to save session state in ASP.NET and to copy objects to the Clipboard in Windows Forms.</span></span> <span data-ttu-id="4a65a-107">La comunicación remota se utiliza también para pasar por valor los objetos de un dominio de aplicación a otro.</span><span class="sxs-lookup"><span data-stu-id="4a65a-107">It is also used by remoting to pass objects by value from one application domain to another.</span></span>

[!INCLUDE [binary-serialization-warning](../../../includes/binary-serialization-warning.md)]

## <a name="persistent-storage"></a><span data-ttu-id="4a65a-108">Almacenamiento persistente</span><span class="sxs-lookup"><span data-stu-id="4a65a-108">Persistent storage</span></span>
<span data-ttu-id="4a65a-109">Es a menudo necesario almacenar el valor de los campos de un objeto en el disco y a continuación, más tarde, recuperar estos datos.</span><span class="sxs-lookup"><span data-stu-id="4a65a-109">It is often necessary to store the value of the fields of an object to disk and then, later, retrieve this data.</span></span> <span data-ttu-id="4a65a-110">Aunque esto es fácil de lograr sin confiar en la serialización, este enfoque es a menudo embarazoso y propenso a errores y se vuelve progresivamente más complejo al necesitar realizar el seguimiento de una jerarquía de objetos.</span><span class="sxs-lookup"><span data-stu-id="4a65a-110">Although this is easy to achieve without relying on serialization, this approach is often cumbersome and error prone, and becomes progressively more complex when you need to track a hierarchy of objects.</span></span> <span data-ttu-id="4a65a-111">Imagine escribir una aplicación empresarial grande, que contiene miles de objetos, y tener que escribir el código para guardar y restaurar los campos y propiedades a y desde el disco para cada objeto.</span><span class="sxs-lookup"><span data-stu-id="4a65a-111">Imagine writing a large business application, that contains thousands of objects, and having to write code to save and restore the fields and properties to and from disk for each object.</span></span> <span data-ttu-id="4a65a-112">La serialización proporciona un mecanismo conveniente para lograr este objetivo.</span><span class="sxs-lookup"><span data-stu-id="4a65a-112">Serialization provides a convenient mechanism for achieving this objective.</span></span>

<span data-ttu-id="4a65a-113">Common Language Runtime administra cómo se almacenan los objetos en memoria y proporciona un mecanismo de serialización automatizado mediante [reflexión](../../framework/reflection-and-codedom/reflection.md).</span><span class="sxs-lookup"><span data-stu-id="4a65a-113">The common language runtime manages how objects are stored in memory and provides an automated serialization mechanism by using [reflection](../../framework/reflection-and-codedom/reflection.md).</span></span> <span data-ttu-id="4a65a-114">Cuando se serializa un objeto, el nombre de la clase, el ensamblado y todos los miembros de datos de la instancia de clase se escribe en el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="4a65a-114">When an object is serialized, the name of the class, the assembly, and all the data members of the class instance are written to storage.</span></span> <span data-ttu-id="4a65a-115">Los objetos almacenan a menudo referencias a otras instancias en variables miembro.</span><span class="sxs-lookup"><span data-stu-id="4a65a-115">Objects often store references to other instances in member variables.</span></span> <span data-ttu-id="4a65a-116">Cuando se serializa la clase, las pistas de motor de serialización hacen referencia a los objetos, ya serializados, para asegurarse de que no se serializa el mismo objeto más de una vez.</span><span class="sxs-lookup"><span data-stu-id="4a65a-116">When the class is serialized, the serialization engine tracks referenced objects, already serialized, to ensure that the same object is not serialized more than once.</span></span> <span data-ttu-id="4a65a-117">La arquitectura de la serialización que .NET proporciona administra correctamente gráficos de objetos y referencias circulares de manera automática.</span><span class="sxs-lookup"><span data-stu-id="4a65a-117">The serialization architecture provided by .NET correctly handles object graphs and circular references automatically.</span></span> <span data-ttu-id="4a65a-118">El único requisito de los gráficos de objetos es que todos los objetos, a los que hace referencia el objeto serializado, también se deben marcar como `Serializable` (para más información, vea [Serialización básica](basic-serialization.md)).</span><span class="sxs-lookup"><span data-stu-id="4a65a-118">The only requirement placed on object graphs is that all objects, referenced by the serialized object, must also be marked as `Serializable` (for more information, see [Basic Serialization](basic-serialization.md)).</span></span> <span data-ttu-id="4a65a-119">Si no se hace esto, se producirá una excepción cuando el serializador intente serializar el objeto sin marca.</span><span class="sxs-lookup"><span data-stu-id="4a65a-119">If this is not done, an exception will be thrown when the serializer attempts to serialize the unmarked object.</span></span>

<span data-ttu-id="4a65a-120">Cuando se deserializa la clase serializada, se vuelve a crear la clase y se restauran automáticamente los valores de todos los miembros de datos.</span><span class="sxs-lookup"><span data-stu-id="4a65a-120">When the serialized class is deserialized, the class is recreated and the values of all the data members are automatically restored.</span></span>

## <a name="marshal-by-value"></a><span data-ttu-id="4a65a-121">Serializar por valor</span><span class="sxs-lookup"><span data-stu-id="4a65a-121">Marshal by value</span></span>
<span data-ttu-id="4a65a-122">Los objetos sólo son válidos en el dominio de aplicación donde se crean.</span><span class="sxs-lookup"><span data-stu-id="4a65a-122">Objects are valid only in the application domain where they are created.</span></span> <span data-ttu-id="4a65a-123">Se produce un error ante cualquier intento de pasar el objeto como un parámetro o de devolverlo como un resultado, a menos que el objeto derive de `MarshalByRefObject` o esté marcado como `Serializable`.</span><span class="sxs-lookup"><span data-stu-id="4a65a-123">Any attempt to pass the object as a parameter or return it as a result will fail unless the object derives from `MarshalByRefObject` or is marked as `Serializable`.</span></span> <span data-ttu-id="4a65a-124">Si el objeto está marcado como `Serializable`, se serializa automáticamente, se transporta de un dominio de aplicación al otro y luego se deserializa para generar una copia exacta del objeto en el segundo dominio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="4a65a-124">If the object is marked as `Serializable`, the object will automatically be serialized, transported from the one application domain to the other, and then deserialized to produce an exact copy of the object in the second application domain.</span></span> <span data-ttu-id="4a65a-125">Este proceso se conoce normalmente como valor por cálculo de referencias.</span><span class="sxs-lookup"><span data-stu-id="4a65a-125">This process is typically referred to as marshal-by-value.</span></span>

<span data-ttu-id="4a65a-126">Cuando un objeto deriva de `MarshalByRefObject`, se pasa una referencia al objeto de un dominio de aplicación a otro, en lugar de pasar el propio objeto.</span><span class="sxs-lookup"><span data-stu-id="4a65a-126">When an object derives from `MarshalByRefObject`, an object reference is passed from one application domain to another, rather than the object itself.</span></span> <span data-ttu-id="4a65a-127">También puede marcar un objeto que derive de `MarshalByRefObject` como `Serializable`.</span><span class="sxs-lookup"><span data-stu-id="4a65a-127">You can also mark an object that derives from `MarshalByRefObject` as `Serializable`.</span></span> <span data-ttu-id="4a65a-128">Cuando se usa este objeto con comunicación remota, el formateador responsable de la serialización, que se ha preconfigurado con un selector suplente (`SurrogateSelector`), toma el control del proceso de serialización y reemplaza todos los objetos derivados de `MarshalByRefObject` por un proxy.</span><span class="sxs-lookup"><span data-stu-id="4a65a-128">When this object is used with remoting, the formatter responsible for serialization, which has been preconfigured with a surrogate selector (`SurrogateSelector`), takes control of the serialization process, and replaces all objects derived from `MarshalByRefObject` with a proxy.</span></span> <span data-ttu-id="4a65a-129">Sin `SurrogateSelector`, la arquitectura de serialización sigue las reglas de serialización estándar descritas en [Pasos del proceso de serialización](steps-in-the-serialization-process.md).</span><span class="sxs-lookup"><span data-stu-id="4a65a-129">Without the `SurrogateSelector` in place, the serialization architecture follows the standard serialization rules described in [Steps in the Serialization Process](steps-in-the-serialization-process.md).</span></span>  

## <a name="related-sections"></a><span data-ttu-id="4a65a-130">Secciones relacionadas</span><span class="sxs-lookup"><span data-stu-id="4a65a-130">Related sections</span></span>  
 [<span data-ttu-id="4a65a-131">Serialización binaria</span><span class="sxs-lookup"><span data-stu-id="4a65a-131">Binary Serialization</span></span>](binary-serialization.md)  
 <span data-ttu-id="4a65a-132">Describe el mecanismo de la serialización binaria que está incluido con Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="4a65a-132">Describes the binary serialization mechanism that is included with the common language runtime.</span></span>
  
 [<span data-ttu-id="4a65a-133">Serialización SOAP y XML</span><span class="sxs-lookup"><span data-stu-id="4a65a-133">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)  
 <span data-ttu-id="4a65a-134">Describe el mecanismo de la serialización XML y SOAP que está incluido con Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="4a65a-134">Describes the XML and SOAP serialization mechanism that is included with the common language runtime.</span></span>
