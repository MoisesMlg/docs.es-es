---
title: Diseño de propiedades
ms.date: 10/22/2008
helpviewer_keywords:
- member design guidelines, properties
- properties [.NET Framework], design guidelines
ms.assetid: 127cbc0c-cbed-48fd-9c89-7c5d4f98f163
ms.openlocfilehash: 1cf41a08c641e9251084e5dcac6c46bc54857717
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/18/2020
ms.locfileid: "94828743"
---
# <a name="property-design"></a><span data-ttu-id="6c34a-102">Diseño de propiedades</span><span class="sxs-lookup"><span data-stu-id="6c34a-102">Property Design</span></span>
<span data-ttu-id="6c34a-103">Aunque las propiedades son técnicamente muy similares a los métodos, son bastante diferentes en cuanto a sus escenarios de uso.</span><span class="sxs-lookup"><span data-stu-id="6c34a-103">Although properties are technically very similar to methods, they are quite different in terms of their usage scenarios.</span></span> <span data-ttu-id="6c34a-104">Deberían aparecer como campos inteligentes.</span><span class="sxs-lookup"><span data-stu-id="6c34a-104">They should be seen as smart fields.</span></span> <span data-ttu-id="6c34a-105">Tienen la sintaxis de llamada de los campos y la flexibilidad de los métodos.</span><span class="sxs-lookup"><span data-stu-id="6c34a-105">They have the calling syntax of fields, and the flexibility of methods.</span></span>

 <span data-ttu-id="6c34a-106">✔️ crear propiedades Get-only Si el autor de la llamada no debe ser capaz de cambiar el valor de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="6c34a-106">✔️ DO create get-only properties if the caller should not be able to change the value of the property.</span></span>

 <span data-ttu-id="6c34a-107">Tenga en cuenta que si el tipo de la propiedad es un tipo de referencia mutable, el valor de la propiedad se puede cambiar aunque la propiedad sea de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="6c34a-107">Keep in mind that if the type of the property is a mutable reference type, the property value can be changed even if the property is get-only.</span></span>

 <span data-ttu-id="6c34a-108">❌ NO proporcione propiedades o propiedades de solo conjunto con el establecedor que tenga una accesibilidad más amplia que el captador.</span><span class="sxs-lookup"><span data-stu-id="6c34a-108">❌ DO NOT provide set-only properties or properties with the setter having broader accessibility than the getter.</span></span>

 <span data-ttu-id="6c34a-109">Por ejemplo, no utilice propiedades con un establecedor público y un captador protegido.</span><span class="sxs-lookup"><span data-stu-id="6c34a-109">For example, do not use properties with a public setter and a protected getter.</span></span>

 <span data-ttu-id="6c34a-110">Si no se puede proporcionar el captador de propiedad, implemente la funcionalidad como un método en su lugar.</span><span class="sxs-lookup"><span data-stu-id="6c34a-110">If the property getter cannot be provided, implement the functionality as a method instead.</span></span> <span data-ttu-id="6c34a-111">Considere la posibilidad de iniciar el nombre del método con `Set` y siga con lo que habría llamado a la propiedad.</span><span class="sxs-lookup"><span data-stu-id="6c34a-111">Consider starting the method name with `Set` and follow with what you would have named the property.</span></span> <span data-ttu-id="6c34a-112">Por ejemplo, <xref:System.AppDomain> tiene un método denominado `SetCachePath` en lugar de tener una propiedad de solo conjunto denominada `CachePath` .</span><span class="sxs-lookup"><span data-stu-id="6c34a-112">For example, <xref:System.AppDomain> has a method called `SetCachePath` instead of having a set-only property called `CachePath`.</span></span>

 <span data-ttu-id="6c34a-113">✔️ proporcionan valores predeterminados razonables para todas las propiedades, asegurándose de que los valores predeterminados no dan lugar a un agujero de seguridad ni a un código ineficaz.</span><span class="sxs-lookup"><span data-stu-id="6c34a-113">✔️ DO provide sensible default values for all properties, ensuring that the defaults do not result in a security hole or terribly inefficient code.</span></span>

 <span data-ttu-id="6c34a-114">✔️ permitir que las propiedades se establezcan en cualquier orden, incluso si el resultado es un estado no válido temporal del objeto.</span><span class="sxs-lookup"><span data-stu-id="6c34a-114">✔️ DO allow properties to be set in any order even if this results in a temporary invalid state of the object.</span></span>

 <span data-ttu-id="6c34a-115">Es común que dos o más propiedades se interrelacionan con un punto en el que algunos valores de una propiedad podrían no ser válidos dados los valores de otras propiedades en el mismo objeto.</span><span class="sxs-lookup"><span data-stu-id="6c34a-115">It is common for two or more properties to be interrelated to a point where some values of one property might be invalid given the values of other properties on the same object.</span></span> <span data-ttu-id="6c34a-116">En tales casos, las excepciones resultantes del estado no válido se deben posponer hasta que el objeto utilice realmente las propiedades interrelacionadas.</span><span class="sxs-lookup"><span data-stu-id="6c34a-116">In such cases, exceptions resulting from the invalid state should be postponed until the interrelated properties are actually used together by the object.</span></span>

 <span data-ttu-id="6c34a-117">✔️ conservar el valor anterior si un establecedor de propiedad produce una excepción.</span><span class="sxs-lookup"><span data-stu-id="6c34a-117">✔️ DO preserve the previous value if a property setter throws an exception.</span></span>

 <span data-ttu-id="6c34a-118">❌ Evite iniciar excepciones desde captadores de propiedad.</span><span class="sxs-lookup"><span data-stu-id="6c34a-118">❌ AVOID throwing exceptions from property getters.</span></span>

 <span data-ttu-id="6c34a-119">Los captadores de propiedad deben ser operaciones simples y no deben tener ninguna condición previa.</span><span class="sxs-lookup"><span data-stu-id="6c34a-119">Property getters should be simple operations and should not have any preconditions.</span></span> <span data-ttu-id="6c34a-120">Si un captador puede producir una excepción, probablemente se debe volver a diseñar para que sea un método.</span><span class="sxs-lookup"><span data-stu-id="6c34a-120">If a getter can throw an exception, it should probably be redesigned to be a method.</span></span> <span data-ttu-id="6c34a-121">Tenga en cuenta que esta regla no se aplica a los indexadores, donde se esperan excepciones como resultado de la validación de los argumentos.</span><span class="sxs-lookup"><span data-stu-id="6c34a-121">Notice that this rule does not apply to indexers, where we do expect exceptions as a result of validating the arguments.</span></span>

### <a name="indexed-property-design"></a><span data-ttu-id="6c34a-122">Diseño de propiedades indizadas</span><span class="sxs-lookup"><span data-stu-id="6c34a-122">Indexed Property Design</span></span>
 <span data-ttu-id="6c34a-123">Una propiedad indizada es una propiedad especial que puede tener parámetros y se puede llamar con una sintaxis especial similar a la indización de matrices.</span><span class="sxs-lookup"><span data-stu-id="6c34a-123">An indexed property is a special property that can have parameters and can be called with special syntax similar to array indexing.</span></span>

 <span data-ttu-id="6c34a-124">Las propiedades indizadas se conocen normalmente como indexadores.</span><span class="sxs-lookup"><span data-stu-id="6c34a-124">Indexed properties are commonly referred to as indexers.</span></span> <span data-ttu-id="6c34a-125">Los indizadores deben usarse solo en las API que proporcionan acceso a los elementos de una colección lógica.</span><span class="sxs-lookup"><span data-stu-id="6c34a-125">Indexers should be used only in APIs that provide access to items in a logical collection.</span></span> <span data-ttu-id="6c34a-126">Por ejemplo, una cadena es una colección de caracteres y se ha agregado el indizador en <xref:System.String?displayProperty=nameWithType> para tener acceso a sus caracteres.</span><span class="sxs-lookup"><span data-stu-id="6c34a-126">For example, a string is a collection of characters, and the indexer on <xref:System.String?displayProperty=nameWithType> was added to access its characters.</span></span>

 <span data-ttu-id="6c34a-127">✔️ considere la posibilidad de usar indizadores para proporcionar acceso a los datos almacenados en una matriz interna.</span><span class="sxs-lookup"><span data-stu-id="6c34a-127">✔️ CONSIDER using indexers to provide access to data stored in an internal array.</span></span>

 <span data-ttu-id="6c34a-128">✔️ considere la posibilidad de proporcionar indexadores en tipos que representan colecciones de elementos.</span><span class="sxs-lookup"><span data-stu-id="6c34a-128">✔️ CONSIDER providing indexers on types representing collections of items.</span></span>

 <span data-ttu-id="6c34a-129">❌ Evite el uso de propiedades indizadas con más de un parámetro.</span><span class="sxs-lookup"><span data-stu-id="6c34a-129">❌ AVOID using indexed properties with more than one parameter.</span></span>

 <span data-ttu-id="6c34a-130">Si el diseño requiere varios parámetros, reconsidere si la propiedad realmente representa un descriptor de acceso a una colección lógica.</span><span class="sxs-lookup"><span data-stu-id="6c34a-130">If the design requires multiple parameters, reconsider whether the property really represents an accessor to a logical collection.</span></span> <span data-ttu-id="6c34a-131">Si no es así, use los métodos en su lugar.</span><span class="sxs-lookup"><span data-stu-id="6c34a-131">If it does not, use methods instead.</span></span> <span data-ttu-id="6c34a-132">Considere la posibilidad de iniciar el nombre del método con `Get` o `Set` .</span><span class="sxs-lookup"><span data-stu-id="6c34a-132">Consider starting the method name with `Get` or `Set`.</span></span>

 <span data-ttu-id="6c34a-133">❌ Evite los indizadores con tipos de parámetros distintos de <xref:System.Int32?displayProperty=nameWithType> ,, <xref:System.Int64?displayProperty=nameWithType> <xref:System.String?displayProperty=nameWithType> , <xref:System.Object?displayProperty=nameWithType> o una enumeración.</span><span class="sxs-lookup"><span data-stu-id="6c34a-133">❌ AVOID indexers with parameter types other than <xref:System.Int32?displayProperty=nameWithType>, <xref:System.Int64?displayProperty=nameWithType>, <xref:System.String?displayProperty=nameWithType>, <xref:System.Object?displayProperty=nameWithType>, or an enum.</span></span>

 <span data-ttu-id="6c34a-134">Si el diseño requiere otros tipos de parámetros, vuelva a evaluar de forma segura si la API representa realmente un descriptor de acceso a una colección lógica.</span><span class="sxs-lookup"><span data-stu-id="6c34a-134">If the design requires other types of parameters, strongly reevaluate whether the API really represents an accessor to a logical collection.</span></span> <span data-ttu-id="6c34a-135">En caso contrario, utilice un método.</span><span class="sxs-lookup"><span data-stu-id="6c34a-135">If it does not, use a method.</span></span> <span data-ttu-id="6c34a-136">Considere la posibilidad de iniciar el nombre del método con `Get` o `Set` .</span><span class="sxs-lookup"><span data-stu-id="6c34a-136">Consider starting the method name with `Get` or `Set`.</span></span>

 <span data-ttu-id="6c34a-137">✔️ usar el nombre `Item` para las propiedades indizadas, a menos que haya un nombre más claramente mejor (por ejemplo, vea la <xref:System.String.Chars%2A> propiedad en `System.String` ).</span><span class="sxs-lookup"><span data-stu-id="6c34a-137">✔️ DO use the name `Item` for indexed properties unless there is an obviously better name (e.g., see the <xref:System.String.Chars%2A> property on `System.String`).</span></span>

 <span data-ttu-id="6c34a-138">En C#, los indizadores se llaman de forma predeterminada Item.</span><span class="sxs-lookup"><span data-stu-id="6c34a-138">In C#, indexers are by default named Item.</span></span> <span data-ttu-id="6c34a-139"><xref:System.Runtime.CompilerServices.IndexerNameAttribute>Se puede usar para personalizar este nombre.</span><span class="sxs-lookup"><span data-stu-id="6c34a-139">The <xref:System.Runtime.CompilerServices.IndexerNameAttribute> can be used to customize this name.</span></span>

 <span data-ttu-id="6c34a-140">❌ NO proporcione un indexador y métodos que sean semánticamente equivalentes.</span><span class="sxs-lookup"><span data-stu-id="6c34a-140">❌ DO NOT provide both an indexer and methods that are semantically equivalent.</span></span>

 <span data-ttu-id="6c34a-141">❌ NO proporcione más de una familia de indexadores sobrecargados en un tipo.</span><span class="sxs-lookup"><span data-stu-id="6c34a-141">❌ DO NOT provide more than one family of overloaded indexers in one type.</span></span>

 <span data-ttu-id="6c34a-142">Esto lo exige el compilador de C#.</span><span class="sxs-lookup"><span data-stu-id="6c34a-142">This is enforced by the C# compiler.</span></span>

 <span data-ttu-id="6c34a-143">❌ No utilice propiedades indizadas no predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="6c34a-143">❌ DO NOT use nondefault indexed properties.</span></span>

 <span data-ttu-id="6c34a-144">Esto lo exige el compilador de C#.</span><span class="sxs-lookup"><span data-stu-id="6c34a-144">This is enforced by the C# compiler.</span></span>

### <a name="property-change-notification-events"></a><span data-ttu-id="6c34a-145">Eventos de notificación de cambio de propiedad</span><span class="sxs-lookup"><span data-stu-id="6c34a-145">Property Change Notification Events</span></span>
 <span data-ttu-id="6c34a-146">A veces resulta útil proporcionar un evento que notifique al usuario los cambios en un valor de propiedad.</span><span class="sxs-lookup"><span data-stu-id="6c34a-146">Sometimes it is useful to provide an event notifying the user of changes in a property value.</span></span> <span data-ttu-id="6c34a-147">Por ejemplo, `System.Windows.Forms.Control` genera un `TextChanged` evento después de que el valor de su `Text` propiedad haya cambiado.</span><span class="sxs-lookup"><span data-stu-id="6c34a-147">For example, `System.Windows.Forms.Control` raises a `TextChanged` event after the value of its `Text` property has changed.</span></span>

 <span data-ttu-id="6c34a-148">✔️ considere la posibilidad de generar eventos de notificación de cambios cuando se modifiquen los valores de propiedad en las API de alto nivel (normalmente los componentes del diseñador).</span><span class="sxs-lookup"><span data-stu-id="6c34a-148">✔️ CONSIDER raising change notification events when property values in high-level APIs (usually designer components) are modified.</span></span>

 <span data-ttu-id="6c34a-149">Si hay un buen escenario para que un usuario sepa cuándo está cambiando una propiedad de un objeto, el objeto debe generar un evento de notificación de cambios para la propiedad.</span><span class="sxs-lookup"><span data-stu-id="6c34a-149">If there is a good scenario for a user to know when a property of an object is changing, the object should raise a change notification event for the property.</span></span>

 <span data-ttu-id="6c34a-150">Sin embargo, no es probable que merezca la pena la sobrecarga de generar tales eventos para las API de bajo nivel, como los tipos base o las colecciones.</span><span class="sxs-lookup"><span data-stu-id="6c34a-150">However, it is unlikely to be worth the overhead to raise such events for low-level APIs such as base types or collections.</span></span> <span data-ttu-id="6c34a-151">Por ejemplo, <xref:System.Collections.Generic.List%601> no generaría estos eventos cuando se agrega un nuevo elemento a la lista y la `Count` propiedad cambia.</span><span class="sxs-lookup"><span data-stu-id="6c34a-151">For example, <xref:System.Collections.Generic.List%601> would not raise such events when a new item is added to the list and the `Count` property changes.</span></span>

 <span data-ttu-id="6c34a-152">✔️ considere la posibilidad de generar eventos de notificación de cambios cuando el valor de una propiedad cambia a través de fuerzas externas.</span><span class="sxs-lookup"><span data-stu-id="6c34a-152">✔️ CONSIDER raising change notification events when the value of a property changes via external forces.</span></span>

 <span data-ttu-id="6c34a-153">Si un valor de propiedad cambia a través de una fuerza externa (de forma distinta a llamando a los métodos del objeto), los eventos de generación indican al desarrollador que el valor está cambiando y ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="6c34a-153">If a property value changes via some external force (in a way other than by calling methods on the object), raise events indicate to the developer that the value is changing and has changed.</span></span> <span data-ttu-id="6c34a-154">Un buen ejemplo es la `Text` propiedad de un control de cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="6c34a-154">A good example is the `Text` property of a text box control.</span></span> <span data-ttu-id="6c34a-155">Cuando el usuario escribe texto en un `TextBox` , el valor de la propiedad cambia automáticamente.</span><span class="sxs-lookup"><span data-stu-id="6c34a-155">When the user types text in a `TextBox`, the property value automatically changes.</span></span>

 <span data-ttu-id="6c34a-156">*Partes © 2005, 2009 Microsoft Corporation. Todos los derechos reservados.*</span><span class="sxs-lookup"><span data-stu-id="6c34a-156">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>

 <span data-ttu-id="6c34a-157">*Material reimpreso con el consentimiento de Pearson Education, Inc. y extraído de [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) (Instrucciones de diseño de .NET Framework: convenciones, expresiones y patrones para bibliotecas .NET reutilizables, 2.ª edición), de Krzysztof Cwalina y Brad Abrams, publicado el 22 de octubre de 2008 por Addison-Wesley Professional como parte de la serie Microsoft Windows Development.*</span><span class="sxs-lookup"><span data-stu-id="6c34a-157">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>

## <a name="see-also"></a><span data-ttu-id="6c34a-158">Vea también</span><span class="sxs-lookup"><span data-stu-id="6c34a-158">See also</span></span>

- [<span data-ttu-id="6c34a-159">Instrucciones para el diseño de miembros</span><span class="sxs-lookup"><span data-stu-id="6c34a-159">Member Design Guidelines</span></span>](member.md)
- [<span data-ttu-id="6c34a-160">Directrices de diseño de marco</span><span class="sxs-lookup"><span data-stu-id="6c34a-160">Framework Design Guidelines</span></span>](index.md)
