---
title: Almacenamiento aislado
description: Explore el almacenamiento aislado, que es un mecanismo de almacenamiento de datos que proporciona aislamiento y seguridad mediante la definición de formas estándar de asociar código a los datos guardados.
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- data storage using isolated storage
- stores
- storing data using isolated storage
- isolated storage
- location of isolated storage in file system
- standardizing storage systems
- storing data using isolated storage, when not to use
- code, isolated storage
- isolated storage, options
- data storage using isolated storage, when not to use
- storing data using isolated storage, options
- isolated storage, when not to use
- data storage using isolated storage, options
- isolation
ms.assetid: aff939d7-9e49-46f2-a8cd-938d3020e94e
ms.openlocfilehash: 3699edda6cce24adb8e932d6e8b8a0a5bb977142
ms.sourcegitcommit: 74d05613d6c57106f83f82ce8ee71176874ea3f0
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/03/2020
ms.locfileid: "93282030"
---
# <a name="isolated-storage"></a><span data-ttu-id="24b5d-103">Almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-103">Isolated storage</span></span>

<span data-ttu-id="24b5d-104">Para las aplicaciones de escritorio, el almacenamiento aislado es un mecanismo de almacenamiento de datos que proporciona aislamiento y seguridad mediante la definición de modos estándar de asociar código a los datos guardados.</span><span class="sxs-lookup"><span data-stu-id="24b5d-104">For desktop apps, isolated storage is a data storage mechanism that provides isolation and safety by defining standardized ways of associating code with saved data.</span></span> <span data-ttu-id="24b5d-105">La estandarización ofrece además otras ventajas.</span><span class="sxs-lookup"><span data-stu-id="24b5d-105">Standardization provides other benefits as well.</span></span> <span data-ttu-id="24b5d-106">Los administradores pueden usar herramientas diseñadas para manipular el almacenamiento aislado para configurar el espacio de almacenamiento de archivos, establecer directivas de seguridad y eliminar los datos no utilizados.</span><span class="sxs-lookup"><span data-stu-id="24b5d-106">Administrators can use tools designed to manipulate isolated storage to configure file storage space, set security policies, and delete unused data.</span></span> <span data-ttu-id="24b5d-107">Con el almacenamiento aislado, el código ya no requiere rutas de acceso únicas para especificar ubicaciones seguras en el sistema de archivos y los datos están protegidos de otras aplicaciones que solo tienen acceso a un almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-107">With isolated storage, your code no longer needs unique paths to specify safe locations in the file system, and data is protected from other applications that only have isolated storage access.</span></span> <span data-ttu-id="24b5d-108">La información en código que indica la ubicación del área de almacenamiento de la aplicación no es necesaria.</span><span class="sxs-lookup"><span data-stu-id="24b5d-108">Hard-coded information that indicates where an application's storage area is located is unnecessary.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="24b5d-109">El almacenamiento aislado no está disponible para las aplicaciones de la Tienda Windows 8.x.</span><span class="sxs-lookup"><span data-stu-id="24b5d-109">Isolated storage is not available for Windows 8.x Store apps.</span></span> <span data-ttu-id="24b5d-110">En su lugar, use las clases de datos de la aplicación de los espacios de nombres `Windows.Storage` incluidas en la API de Windows Runtime para almacenar archivos y datos locales.</span><span class="sxs-lookup"><span data-stu-id="24b5d-110">Instead, use the application data classes in the `Windows.Storage` namespaces included in the Windows Runtime API to store local data and files.</span></span> <span data-ttu-id="24b5d-111">Para más información, vea [Datos de aplicación](/previous-versions/windows/apps/hh464917(v=win.10)) en el Centro de desarrollo de Windows.</span><span class="sxs-lookup"><span data-stu-id="24b5d-111">For more information, see [Application data](/previous-versions/windows/apps/hh464917(v=win.10)) in the Windows Dev Center.</span></span>

<a name="data_compartments_and_stores"></a>

## <a name="data-compartments-and-stores"></a><span data-ttu-id="24b5d-112">Compartimientos y almacenes de datos</span><span class="sxs-lookup"><span data-stu-id="24b5d-112">Data Compartments and Stores</span></span>

<span data-ttu-id="24b5d-113">Cuando una aplicación almacena datos en un archivo, el nombre de archivo y la ubicación de almacenamiento se deben elegir con cuidado para minimizar el riesgo de que otra aplicación llegue a conocer dicha ubicación, lo que la haría susceptible de recibir daños.</span><span class="sxs-lookup"><span data-stu-id="24b5d-113">When an application stores data in a file, the file name and storage location must be carefully chosen to minimize the possibility that the storage location will be known to another application and, therefore, vulnerable to corruption.</span></span> <span data-ttu-id="24b5d-114">Si no se dispone de un sistema estándar que controle estos problemas, la improvisación de técnicas ad hoc para minimizar los conflictos de almacenamiento puede ser complicada y los resultados poco confiables.</span><span class="sxs-lookup"><span data-stu-id="24b5d-114">Without a standard system in place to manage these problems, improvising techniques that minimize storage conflicts can be complex, and the results can be unreliable.</span></span>

<span data-ttu-id="24b5d-115">Con el almacenamiento aislado, los datos están siempre aislados por usuario y ensamblado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-115">With isolated storage, data is always isolated by user and by assembly.</span></span> <span data-ttu-id="24b5d-116">Las credenciales como el origen o el nombre seguro del ensamblado determinan la identidad del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-116">Credentials such as the origin or the strong name of the assembly determine assembly identity.</span></span> <span data-ttu-id="24b5d-117">Los datos se pueden aislar también por el dominio de la aplicación, usando credenciales parecidas.</span><span class="sxs-lookup"><span data-stu-id="24b5d-117">Data can also be isolated by application domain, using similar credentials.</span></span>

<span data-ttu-id="24b5d-118">Al usar el almacenamiento aislado, las aplicaciones guardan los datos en un compartimiento de datos único asociado a algún aspecto de la identidad del código, como su publicador o signatura.</span><span class="sxs-lookup"><span data-stu-id="24b5d-118">When you use isolated storage, your application saves data to a unique data compartment that is associated with some aspect of the code's identity, such as its publisher or signature.</span></span> <span data-ttu-id="24b5d-119">El compartimiento de datos es abstracto, no una ubicación de almacenamiento concreta; está formado por uno o varios archivos de almacenamiento aislado, denominados almacenes, que contienen las ubicaciones reales del directorio donde están almacenados los datos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-119">The data compartment is an abstraction, not a specific storage location; it consists of one or more isolated storage files, called stores, which contain the actual directory locations where data is stored.</span></span> <span data-ttu-id="24b5d-120">Por ejemplo, una aplicación puede tener un compartimiento de datos asociado, y un directorio del sistema de archivos implementaría el almacén que conserva de hecho los datos de esa aplicación.</span><span class="sxs-lookup"><span data-stu-id="24b5d-120">For example, an application might have a data compartment associated with it, and a directory in the file system would implement the store that actually preserves the data for that application.</span></span> <span data-ttu-id="24b5d-121">Los datos guardados en el almacén pueden ser de cualquier tipo, desde información de preferencia del usuario hasta el estado de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="24b5d-121">The data saved in the store can be any kind of data, from user preference information to application state.</span></span> <span data-ttu-id="24b5d-122">Para el desarrollador, la ubicación del compartimiento de datos es transparente.</span><span class="sxs-lookup"><span data-stu-id="24b5d-122">For the developer, the location of the data compartment is transparent.</span></span> <span data-ttu-id="24b5d-123">Los almacenes residen normalmente en el cliente, pero una aplicación de servidor puede usar almacenes aislados para almacenar información suplantando al usuario en cuyo nombre está trabajando.</span><span class="sxs-lookup"><span data-stu-id="24b5d-123">Stores usually reside on the client, but a server application could use isolated stores to store information by impersonating the user on whose behalf it is functioning.</span></span> <span data-ttu-id="24b5d-124">El almacenamiento aislado también puede guardar información en un servidor con un perfil de usuario móvil para que éste pueda tener acceso a la información desde donde se encuentre.</span><span class="sxs-lookup"><span data-stu-id="24b5d-124">Isolated storage can also store information on a server with a user's roaming profile so that the information will travel with the roaming user.</span></span>

<a name="quotas"></a>

## <a name="quotas-for-isolated-storage"></a><span data-ttu-id="24b5d-125">Cuotas para el almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-125">Quotas for Isolated Storage</span></span>

<span data-ttu-id="24b5d-126">Una cuota es un límite de la cantidad de almacenamiento aislado que se puede usar.</span><span class="sxs-lookup"><span data-stu-id="24b5d-126">A quota is a limit on the amount of isolated storage that can be used.</span></span> <span data-ttu-id="24b5d-127">La cuota contiene bytes de espacio de archivo además de la sobrecarga asociada al directorio y otra información del almacén.</span><span class="sxs-lookup"><span data-stu-id="24b5d-127">The quota includes bytes of file space as well as the overhead associated with the directory and other information in the store.</span></span> <span data-ttu-id="24b5d-128">El almacenamiento aislado usa cuotas de permisos, que son límites de almacenamiento que se establecen mediante objetos <xref:System.Security.Permissions.IsolatedStoragePermission> .</span><span class="sxs-lookup"><span data-stu-id="24b5d-128">Isolated storage uses permission quotas, which are storage limits that are set by using <xref:System.Security.Permissions.IsolatedStoragePermission> objects.</span></span> <span data-ttu-id="24b5d-129">Si se intenta escribir datos que superan la cuota, se produce una excepción <xref:System.IO.IsolatedStorage.IsolatedStorageException> .</span><span class="sxs-lookup"><span data-stu-id="24b5d-129">If you try to write data that exceeds the quota, an <xref:System.IO.IsolatedStorage.IsolatedStorageException> exception is thrown.</span></span>  <span data-ttu-id="24b5d-130">La Directiva de seguridad, que se puede modificar con la herramienta Configuración de .NET Framework (Mscorcfg.msc), determina los permisos que se conceden al código.</span><span class="sxs-lookup"><span data-stu-id="24b5d-130">Security policy, which can be modified using the .NET Framework Configuration Tool (Mscorcfg.msc), determines which permissions are granted to code.</span></span> <span data-ttu-id="24b5d-131">El código al que se le ha concedido el permiso <xref:System.Security.Permissions.IsolatedStoragePermission> está restringido para que no utilice más almacenamiento que el que permite la propiedad <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> .</span><span class="sxs-lookup"><span data-stu-id="24b5d-131">Code that has been granted <xref:System.Security.Permissions.IsolatedStoragePermission> is restricted to using no more storage than the <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> property allows.</span></span> <span data-ttu-id="24b5d-132">Sin embargo, como el código puede omitir las cuotas de permisos presentando distintas identidades de usuario, dichas cuotas sirven como directrices sobre cómo debe comportarse el código y no como un límite estricto del comportamiento del código.</span><span class="sxs-lookup"><span data-stu-id="24b5d-132">However, because code can bypass permission quotas by presenting different user identities, permission quotas serve as guidelines for how code should behave rather than as a firm limit on code behavior.</span></span>

<span data-ttu-id="24b5d-133">Las cuotas no se aplican a los almacenes móviles.</span><span class="sxs-lookup"><span data-stu-id="24b5d-133">Quotas are not enforced on roaming stores.</span></span> <span data-ttu-id="24b5d-134">Por ello, para que el código los use es necesario un nivel de permiso algo más alto.</span><span class="sxs-lookup"><span data-stu-id="24b5d-134">Because of this, a slightly higher level of permission is required for code to use them.</span></span> <span data-ttu-id="24b5d-135">Los valores de enumeración <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> y <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> especifican un permiso para usar el almacenamiento aislado para un usuario móvil.</span><span class="sxs-lookup"><span data-stu-id="24b5d-135">The enumeration values <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> and <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> specify a permission to use isolated storage for a roaming user.</span></span>

<a name="secure_access"></a>

## <a name="secure-access"></a><span data-ttu-id="24b5d-136">Acceso seguro</span><span class="sxs-lookup"><span data-stu-id="24b5d-136">Secure Access</span></span>

<span data-ttu-id="24b5d-137">La utilización de un almacenamiento aislado permite que las aplicaciones que no son de plena confianza almacenen datos de una forma controlada por la directiva de seguridad del equipo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-137">Using isolated storage enables partially trusted applications to store data in a manner that is controlled by the computer's security policy.</span></span> <span data-ttu-id="24b5d-138">Esto resulta especialmente útil para componentes descargados que quizás el usuario desee usar con cautela.</span><span class="sxs-lookup"><span data-stu-id="24b5d-138">This is especially useful for downloaded components that a user might want to run cautiously.</span></span> <span data-ttu-id="24b5d-139">La directiva de seguridad raramente concede este tipo de permiso de código cuando se tiene acceso al sistema de archivos mediante los mecanismos de E/S estándar.</span><span class="sxs-lookup"><span data-stu-id="24b5d-139">Security policy rarely grants this kind of code permission when you access the file system by using standard I/O mechanisms.</span></span> <span data-ttu-id="24b5d-140">Sin embargo, de forma predeterminada, el código que se ejecuta desde el equipo local, una red local o Internet tiene derecho a utilizar almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-140">However, by default, code running from the local computer, a local network, or the Internet is granted the right to use isolated storage.</span></span>

<span data-ttu-id="24b5d-141">Los administradores pueden limitar la cantidad de almacenamiento aislado de que disponen un usuario o una aplicación, basándose en un nivel de confianza adecuado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-141">Administrators can limit how much isolated storage an application or a user has available, based on an appropriate trust level.</span></span> <span data-ttu-id="24b5d-142">Además, los administradores pueden quitar los datos que se conservan de un usuario por completo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-142">In addition, administrators can remove a user's persisted data completely.</span></span> <span data-ttu-id="24b5d-143">Para crear o tener acceso al almacenamiento aislado, el código debe disponer del permiso <xref:System.Security.Permissions.IsolatedStorageFilePermission> correspondiente.</span><span class="sxs-lookup"><span data-stu-id="24b5d-143">To create or access isolated storage, code must be granted the appropriate <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission.</span></span>

<span data-ttu-id="24b5d-144">El código debe tener todos los derechos del sistema operativo de plataforma nativa necesarios para tener acceso al almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-144">To access isolated storage, code must have all necessary native platform operating system rights.</span></span> <span data-ttu-id="24b5d-145">Se deben cumplir las listas de control de acceso (ACL) que controlan qué usuarios tienen derechos para usar el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-145">The access control lists (ACLs) that control which users have the rights to use the file system must be satisfied.</span></span> <span data-ttu-id="24b5d-146">Las aplicaciones de .NET ya tienen los derechos de sistema operativo para acceder al almacenamiento aislado a menos que realicen la suplantación (específica de la plataforma).</span><span class="sxs-lookup"><span data-stu-id="24b5d-146">.NET applications already have operating system rights to access isolated storage unless they perform (platform-specific) impersonation.</span></span> <span data-ttu-id="24b5d-147">En ese caso, la aplicación tiene la responsabilidad de garantizar que la identidad del usuario suplantado disponga de los derechos de sistema operativo adecuados para tener acceso al almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-147">In this case, the application is responsible for ensuring that the impersonated user identity has the proper operating system rights to access isolated storage.</span></span> <span data-ttu-id="24b5d-148">Este acceso proporciona una forma cómoda para que el código que se ejecuta o se descarga desde Web lea y escriba en un área de almacenamiento relacionada con un usuario concreto.</span><span class="sxs-lookup"><span data-stu-id="24b5d-148">This access provides a convenient way for code that is run or downloaded from the web to read and write to a storage area related to a particular user.</span></span>

<span data-ttu-id="24b5d-149">Para controlar el acceso al almacenamiento aislado, Common Language Runtime usa objetos <xref:System.Security.Permissions.IsolatedStorageFilePermission> .</span><span class="sxs-lookup"><span data-stu-id="24b5d-149">To control access to isolated storage, the common language runtime uses <xref:System.Security.Permissions.IsolatedStorageFilePermission> objects.</span></span> <span data-ttu-id="24b5d-150">Cada objeto tiene propiedades que especifican los valores siguientes:</span><span class="sxs-lookup"><span data-stu-id="24b5d-150">Each object has properties that specify the following values:</span></span>

- <span data-ttu-id="24b5d-151">Uso permitido, que indica el tipo de acceso permitido.</span><span class="sxs-lookup"><span data-stu-id="24b5d-151">Allowed usage, which indicates the type of access that is allowed.</span></span> <span data-ttu-id="24b5d-152">Los valores son miembros de la enumeración <xref:System.Security.Permissions.IsolatedStorageContainment> .</span><span class="sxs-lookup"><span data-stu-id="24b5d-152">The values are members of the <xref:System.Security.Permissions.IsolatedStorageContainment> enumeration.</span></span> <span data-ttu-id="24b5d-153">Para obtener más información sobre estos valores, vea la tabla de la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="24b5d-153">For more information about these values, see the table in the next section.</span></span>

- <span data-ttu-id="24b5d-154">Cuota de almacenamiento, como se describe en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="24b5d-154">Storage quota, as discussed in the preceding section.</span></span>

<span data-ttu-id="24b5d-155">El runtime exige el permiso <xref:System.Security.Permissions.IsolatedStorageFilePermission> la primera vez que el código intenta abrir un almacén.</span><span class="sxs-lookup"><span data-stu-id="24b5d-155">The runtime demands <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission when code first attempts to open a store.</span></span> <span data-ttu-id="24b5d-156">Decide si debe conceder este permiso basándose en el nivel de confianza del código.</span><span class="sxs-lookup"><span data-stu-id="24b5d-156">It decides whether to grant this permission, based on how much the code is trusted.</span></span> <span data-ttu-id="24b5d-157">Si se concede el permiso, los valores de uso permitido y cuota de almacenamiento se determinan mediante la directiva de seguridad y la solicitud del código de <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span><span class="sxs-lookup"><span data-stu-id="24b5d-157">If the permission is granted, the allowed usage and storage quota values are determined by security policy and by the code's request for <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span> <span data-ttu-id="24b5d-158">La directiva de seguridad se configura mediante la herramienta Configuración de .NET Framework (Mscorcfg.msc).</span><span class="sxs-lookup"><span data-stu-id="24b5d-158">Security policy is set by using the .NET Framework Configuration Tool (Mscorcfg.msc).</span></span> <span data-ttu-id="24b5d-159">Se comprueban todos los llamadores de la pila de llamadas, para garantizar que cada llamador tiene al menos el uso permitido adecuado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-159">All callers in the call stack are checked to ensure that each caller has at least the appropriate allowed usage.</span></span> <span data-ttu-id="24b5d-160">El motor en tiempo de ejecución comprueba también la cuota impuesta en el código que abrió o creó el almacén en que se va a guardar el archivo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-160">The runtime also checks the quota imposed on the code that opened or created the store in which the file is to be saved.</span></span> <span data-ttu-id="24b5d-161">Si se cumplen estas condiciones, se concede el permiso.</span><span class="sxs-lookup"><span data-stu-id="24b5d-161">If these conditions are satisfied, permission is granted.</span></span> <span data-ttu-id="24b5d-162">La cuota se vuelve a comprobar cada vez que se escribe un archivo en el almacén.</span><span class="sxs-lookup"><span data-stu-id="24b5d-162">The quota is checked again every time a file is written to the store.</span></span>

<span data-ttu-id="24b5d-163">El código de la aplicación no necesita solicitar permiso porque Common Language Runtime concederá el <xref:System.Security.Permissions.IsolatedStorageFilePermission> adecuado basándose en la directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="24b5d-163">Application code is not required to request permission because the common language runtime will grant whatever <xref:System.Security.Permissions.IsolatedStorageFilePermission> is appropriate based on security policy.</span></span> <span data-ttu-id="24b5d-164">Sin embargo, existen buenas razones para solicitar permisos concretos que necesita la aplicación, como <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span><span class="sxs-lookup"><span data-stu-id="24b5d-164">However, there are good reasons to request specific permissions that your application needs, including <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span>

<a name="allowed_usage"></a>

## <a name="allowed-usage-and-security-risks"></a><span data-ttu-id="24b5d-165">Uso permitido y riesgos de seguridad</span><span class="sxs-lookup"><span data-stu-id="24b5d-165">Allowed Usage and Security Risks</span></span>

<span data-ttu-id="24b5d-166">El uso permitido que especifica <xref:System.Security.Permissions.IsolatedStorageFilePermission> determina hasta qué punto el código podrá crear y usar el almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-166">The allowed usage specified by <xref:System.Security.Permissions.IsolatedStorageFilePermission> determines the degree to which code will be allowed to create and use isolated storage.</span></span> <span data-ttu-id="24b5d-167">En la siguiente tabla se muestra la correspondencia entre el uso permitido especificado en el permiso y los tipos de aislamiento, y se resumen los riesgos de seguridad asociados a cada uso permitido.</span><span class="sxs-lookup"><span data-stu-id="24b5d-167">The following table shows how the allowed usage specified in the permission corresponds to types of isolation and summarizes the security risks associated with each allowed usage.</span></span>

|<span data-ttu-id="24b5d-168">Uso permitido</span><span class="sxs-lookup"><span data-stu-id="24b5d-168">Allowed usage</span></span>|<span data-ttu-id="24b5d-169">Tipos de aislamiento</span><span class="sxs-lookup"><span data-stu-id="24b5d-169">Isolation types</span></span>|<span data-ttu-id="24b5d-170">Riesgos de seguridad</span><span class="sxs-lookup"><span data-stu-id="24b5d-170">Security impact</span></span>|
|-------------------|---------------------|---------------------|
|<xref:System.Security.Permissions.IsolatedStorageContainment.None>|<span data-ttu-id="24b5d-171">No se permite el uso de almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-171">No isolated storage use is allowed.</span></span>|<span data-ttu-id="24b5d-172">No hay ningún riesgo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="24b5d-172">There is no security impact.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByUser>|<span data-ttu-id="24b5d-173">Aislamiento por usuario, dominio y ensamblado</span><span class="sxs-lookup"><span data-stu-id="24b5d-173">Isolation by user, domain, and assembly.</span></span> <span data-ttu-id="24b5d-174">Cada ensamblado tiene un subalmacén separado dentro del dominio.</span><span class="sxs-lookup"><span data-stu-id="24b5d-174">Each assembly has a separate substore within the domain.</span></span> <span data-ttu-id="24b5d-175">Los almacenes que usan este permiso también están aislados de forma implícita por equipo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-175">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="24b5d-176">Este nivel de permiso deja los recursos abiertos a un sobreuso no autorizado, aunque las cuotas impuestas lo hacen más difícil.</span><span class="sxs-lookup"><span data-stu-id="24b5d-176">This permission level leaves resources open to unauthorized overuse, although enforced quotas make it more difficult.</span></span> <span data-ttu-id="24b5d-177">Se denomina ataque de denegación de servicio.</span><span class="sxs-lookup"><span data-stu-id="24b5d-177">This is called a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser>|<span data-ttu-id="24b5d-178">Igual que `DomainIsolationByUser`, pero el almacén se guarda en una ubicación que se trasladará si están habilitados los perfiles de usuario móvil y no se imponen cuotas.</span><span class="sxs-lookup"><span data-stu-id="24b5d-178">Same as `DomainIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="24b5d-179">Como las cuotas deben estar deshabilitadas, los recursos de almacenamiento son más vulnerables a los ataques de denegación de servicio.</span><span class="sxs-lookup"><span data-stu-id="24b5d-179">Because quotas must be disabled, storage resources are more vulnerable to a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByUser>|<span data-ttu-id="24b5d-180">Aislamiento por usuario y ensamblado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-180">Isolation by user and assembly.</span></span> <span data-ttu-id="24b5d-181">Los almacenes que usan este permiso también están aislados de forma implícita por equipo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-181">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="24b5d-182">En este nivel se imponen cuotas para tratar de impedir los ataques de denegación de servicio.</span><span class="sxs-lookup"><span data-stu-id="24b5d-182">Quotas are enforced at this level to help prevent a denial of service attack.</span></span> <span data-ttu-id="24b5d-183">El mismo ensamblado de otro dominio puede tener acceso a este almacén, por lo que existe la posibilidad de que se filtre información de una aplicación a otra.</span><span class="sxs-lookup"><span data-stu-id="24b5d-183">The same assembly in another domain can access this store, opening the possibility that information could be leaked between applications.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser>|<span data-ttu-id="24b5d-184">Igual que `AssemblyIsolationByUser`, pero el almacén se guarda en una ubicación que se trasladará si están habilitados los perfiles de usuario móvil y no se imponen cuotas.</span><span class="sxs-lookup"><span data-stu-id="24b5d-184">Same as `AssemblyIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="24b5d-185">Igual que en `AssemblyIsolationByUser`, pero sin cuotas; el riesgo de un ataque de denegación de servicio aumenta.</span><span class="sxs-lookup"><span data-stu-id="24b5d-185">Same as in `AssemblyIsolationByUser`, but without quotas, the risk of a denial of service attack increases.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AdministerIsolatedStorageByUser>|<span data-ttu-id="24b5d-186">Aislamiento por usuario.</span><span class="sxs-lookup"><span data-stu-id="24b5d-186">Isolation by user.</span></span> <span data-ttu-id="24b5d-187">Normalmente, sólo usan este nivel de permiso las herramientas administrativas o de depuración.</span><span class="sxs-lookup"><span data-stu-id="24b5d-187">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="24b5d-188">El acceso con este permiso permite al código ver o eliminar cualquiera de los archivos o directorios de almacenamiento aislado de un usuario (independientemente del aislamiento de ensamblado).</span><span class="sxs-lookup"><span data-stu-id="24b5d-188">Access with this permission allows code to view or delete any of a user's isolated storage files or directories (regardless of assembly isolation).</span></span> <span data-ttu-id="24b5d-189">Existen, entre otros, riesgos de filtrado de información y de pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-189">Risks include, but are not limited to, leaking information and data loss.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.UnrestrictedIsolatedStorage>|<span data-ttu-id="24b5d-190">Aislamiento por todos los usuarios, dominios y ensamblados.</span><span class="sxs-lookup"><span data-stu-id="24b5d-190">Isolation by all users, domains, and assemblies.</span></span> <span data-ttu-id="24b5d-191">Normalmente, sólo usan este nivel de permiso las herramientas administrativas o de depuración.</span><span class="sxs-lookup"><span data-stu-id="24b5d-191">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="24b5d-192">Este permiso crea una situación de riesgo total en todos los almacenes aislados de todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="24b5d-192">This permission creates the potential for a total compromise of all isolated stores for all users.</span></span>|

## <a name="safety-of-isolated-storage-components-with-regard-to-untrusted-data"></a><span data-ttu-id="24b5d-193">Seguridad de los componentes de almacenamiento aislado con respecto a los datos que no son de confianza</span><span class="sxs-lookup"><span data-stu-id="24b5d-193">Safety of isolated storage components with regard to untrusted data</span></span>

<span data-ttu-id="24b5d-194">__Esta sección es aplicable a los siguientes marcos:__</span><span class="sxs-lookup"><span data-stu-id="24b5d-194">__This section applies to the following frameworks:__</span></span>

- <span data-ttu-id="24b5d-195">.NET Framework (todas las versiones)</span><span class="sxs-lookup"><span data-stu-id="24b5d-195">.NET Framework (all versions)</span></span>
- <span data-ttu-id="24b5d-196">.NET Core 2.1+</span><span class="sxs-lookup"><span data-stu-id="24b5d-196">.NET Core 2.1+</span></span>
- <span data-ttu-id="24b5d-197">.NET 5.0+</span><span class="sxs-lookup"><span data-stu-id="24b5d-197">.NET 5.0+</span></span>

<span data-ttu-id="24b5d-198">Las plataformas .NET Framework y .NET Core ofrecen almacenamiento aislado como mecanismo para conservar los datos de un usuario, una aplicación o un componente.</span><span class="sxs-lookup"><span data-stu-id="24b5d-198">.NET Framework and .NET Core offer isolated storage as a mechanism to persist data for a user, an application, or a component.</span></span> <span data-ttu-id="24b5d-199">Se trata de un componente heredado especialmente diseñado para escenarios de seguridad de acceso del código en desuso.</span><span class="sxs-lookup"><span data-stu-id="24b5d-199">This is a legacy component primarily designed for now-deprecated Code Access Security scenarios.</span></span>

<span data-ttu-id="24b5d-200">Se pueden usar diversas API y herramientas de almacenamiento aislado para leer datos a través de límites de confianza.</span><span class="sxs-lookup"><span data-stu-id="24b5d-200">Various isolated storage APIs and tools can be used to read data across trust boundaries.</span></span> <span data-ttu-id="24b5d-201">Por ejemplo, la lectura de datos desde un ámbito de nivel de máquina puede agregar datos de otras cuentas de usuario, posiblemente de menos confianza, a la máquina.</span><span class="sxs-lookup"><span data-stu-id="24b5d-201">For example, reading data from a machine-wide scope can aggregate data from other, possibly less-trusted user accounts on the machine.</span></span> <span data-ttu-id="24b5d-202">Los componentes o las aplicaciones que leen desde ámbitos de almacenamiento aislado de nivel de máquina deben tener en cuenta las consecuencias de leer estos datos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-202">Components or applications that read from machine-wide isolated storage scopes should be aware of the consequences of reading this data.</span></span>

### <a name="security-sensitive-apis-that-can-read-from-the-machine-wide-scope"></a><span data-ttu-id="24b5d-203">API relativas a la seguridad que pueden leer el ámbito de nivel de máquina</span><span class="sxs-lookup"><span data-stu-id="24b5d-203">Security-sensitive APIs that can read from the machine-wide scope</span></span>

<span data-ttu-id="24b5d-204">Los componentes o las aplicaciones que llaman a cualquiera de las siguientes API se leen desde el ámbito de nivel de máquina:</span><span class="sxs-lookup"><span data-stu-id="24b5d-204">Components or applications that call any of the following APIs read from the machine-wide scope:</span></span>

* <span data-ttu-id="24b5d-205">[IsolatedStorageFile.GetEnumerator](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getenumerator) (pasa un ámbito que incluye la marca IsolatedStorageScope.Machine)</span><span class="sxs-lookup"><span data-stu-id="24b5d-205">[IsolatedStorageFile.GetEnumerator](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getenumerator), passing a scope that includes the IsolatedStorageScope.Machine flag</span></span>
* [<span data-ttu-id="24b5d-206">IsolatedStorageFile.GetMachineStoreForApplication</span><span class="sxs-lookup"><span data-stu-id="24b5d-206">IsolatedStorageFile.GetMachineStoreForApplication</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestoreforapplication)
* [<span data-ttu-id="24b5d-207">IsolatedStorageFile.GetMachineStoreForAssembly</span><span class="sxs-lookup"><span data-stu-id="24b5d-207">IsolatedStorageFile.GetMachineStoreForAssembly</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestoreforassembly)
* [<span data-ttu-id="24b5d-208">IsolatedStorageFile.GetMachineStoreForDomain</span><span class="sxs-lookup"><span data-stu-id="24b5d-208">IsolatedStorageFile.GetMachineStoreForDomain</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestorefordomain)
* <span data-ttu-id="24b5d-209">[IsolatedStorageFile.GetStore](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getstore) (pasa un ámbito que incluye la marca IsolatedStorageScope.Machine)</span><span class="sxs-lookup"><span data-stu-id="24b5d-209">[IsolatedStorageFile.GetStore](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getstore), passing a scope that includes the IsolatedStorageScope.Machine flag</span></span>
* <span data-ttu-id="24b5d-210">[IsolatedStorageFile.Remove](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.remove) (pasa un ámbito que incluye la marca `IsolatedStorageScope.Machine`)</span><span class="sxs-lookup"><span data-stu-id="24b5d-210">[IsolatedStorageFile.Remove](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.remove), passing a scope that includes the `IsolatedStorageScope.Machine` flag</span></span>

<span data-ttu-id="24b5d-211">La [herramienta de almacenamiento aislado](../../framework/tools/storeadm-exe-isolated-storage-tool.md) `storeadm.exe` se ve afectada si se llama con el modificador `/machine`, tal y como se muestra en el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="24b5d-211">The [isolated storage tool](../../framework/tools/storeadm-exe-isolated-storage-tool.md) `storeadm.exe` is impacted if called with the `/machine` switch, as shown in the following code:</span></span>

```txt
storeadm.exe /machine [any-other-switches]
```

<span data-ttu-id="24b5d-212">La herramienta de almacenamiento aislado se proporciona como parte de Visual Studio y el SDK de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="24b5d-212">The isolated storage tool is provided as part of Visual Studio and the .NET Framework SDK.</span></span>

<span data-ttu-id="24b5d-213">Si la aplicación no implica llamadas a las API anteriores, o si el flujo de trabajo no implica la llamada a `storeadm.exe` de esta manera, no se aplica este documento.</span><span class="sxs-lookup"><span data-stu-id="24b5d-213">If the application doesn't involve calls to the preceding APIs, or if the workflow doesn't involve calling `storeadm.exe` in this manner, this document doesn't apply.</span></span>

### <a name="impact-in-multi-user-environments"></a><span data-ttu-id="24b5d-214">Efecto en entornos multiusuario</span><span class="sxs-lookup"><span data-stu-id="24b5d-214">Impact in multi-user environments</span></span>

<span data-ttu-id="24b5d-215">Como se mencionó anteriormente, el efecto en la seguridad de estas API se deriva de que los datos escritos en un entorno de confianza se leen en otro entorno de confianza.</span><span class="sxs-lookup"><span data-stu-id="24b5d-215">As mentioned previously, the security impact from these APIs results from data written from one trust environment is read from a different trust environment.</span></span> <span data-ttu-id="24b5d-216">En general, el almacenamiento aislado usa una de estas tres ubicaciones para leer y escribir datos:</span><span class="sxs-lookup"><span data-stu-id="24b5d-216">Isolated storage generally uses one of three locations to read and write data:</span></span>

1. <span data-ttu-id="24b5d-217">`%LOCALAPPDATA%\IsolatedStorage\`: Por ejemplo, `C:\Users\<username>\AppData\Local\IsolatedStorage\` para el ámbito `User`.</span><span class="sxs-lookup"><span data-stu-id="24b5d-217">`%LOCALAPPDATA%\IsolatedStorage\`: For example, `C:\Users\<username>\AppData\Local\IsolatedStorage\`, for `User` scope.</span></span>
2. <span data-ttu-id="24b5d-218">`%APPDATA%\IsolatedStorage\`: Por ejemplo, `C:\Users\<username>\AppData\Roaming\IsolatedStorage\` para el ámbito `User|Roaming`.</span><span class="sxs-lookup"><span data-stu-id="24b5d-218">`%APPDATA%\IsolatedStorage\`: For example, `C:\Users\<username>\AppData\Roaming\IsolatedStorage\`, for `User|Roaming` scope.</span></span>
3. <span data-ttu-id="24b5d-219">`%PROGRAMDATA%\IsolatedStorage\`: Por ejemplo, `C:\ProgramData\IsolatedStorage\` para el ámbito `Machine`.</span><span class="sxs-lookup"><span data-stu-id="24b5d-219">`%PROGRAMDATA%\IsolatedStorage\`: For example, `C:\ProgramData\IsolatedStorage\`, for `Machine` scope.</span></span>

<span data-ttu-id="24b5d-220">Las dos primeras ubicaciones están aisladas por usuario.</span><span class="sxs-lookup"><span data-stu-id="24b5d-220">The first two locations are isolated per-user.</span></span> <span data-ttu-id="24b5d-221">Windows garantiza que las distintas cuentas de usuario de una misma máquina no puedan acceder a las carpetas de perfil de usuario de las demás.</span><span class="sxs-lookup"><span data-stu-id="24b5d-221">Windows ensures that different user accounts on the same machine cannot access each other's user profile folders.</span></span> <span data-ttu-id="24b5d-222">Dos cuentas de usuario diferentes que utilizan los almacenes `User` o `User|Roaming` no verán los datos de la otra ni pueden interferir con los datos de la otra.</span><span class="sxs-lookup"><span data-stu-id="24b5d-222">Two different user accounts who use the `User` or `User|Roaming` stores will not see each other's data and cannot interfere with each other's data.</span></span>

<span data-ttu-id="24b5d-223">La tercera ubicación se comparte entre todas las cuentas de usuario de la máquina.</span><span class="sxs-lookup"><span data-stu-id="24b5d-223">The third location is shared across all user accounts on the machine.</span></span> <span data-ttu-id="24b5d-224">Distintas cuentas pueden leer y escribir en esta ubicación y pueden ver los datos de las demás.</span><span class="sxs-lookup"><span data-stu-id="24b5d-224">Different accounts can read from and write to this location, and they're able to see each other's data.</span></span>

<span data-ttu-id="24b5d-225">Las rutas de acceso anteriores pueden diferir en función de la versión de Windows en uso.</span><span class="sxs-lookup"><span data-stu-id="24b5d-225">The preceding paths may differ based on the version of Windows in use.</span></span>

<span data-ttu-id="24b5d-226">Ahora plantéese usar un sistema multiusuario con dos usuarios registrados _Mallory_ y _Bob_.</span><span class="sxs-lookup"><span data-stu-id="24b5d-226">Now consider a multi-user system with two registered users _Mallory_ and _Bob_.</span></span> <span data-ttu-id="24b5d-227">Mallory tiene la capacidad de acceder a su directorio de perfil de usuario `C:\Users\Mallory\`, así como a la ubicación de almacenamiento compartida de nivel de máquina `C:\ProgramData\IsolatedStorage\`.</span><span class="sxs-lookup"><span data-stu-id="24b5d-227">Mallory has the ability to access her user profile directory `C:\Users\Mallory\`, and she can access the shared machine-wide storage location `C:\ProgramData\IsolatedStorage\`.</span></span> <span data-ttu-id="24b5d-228">No puede acceder al directorio de perfil de usuario de Bob `C:\Users\Bob\`.</span><span class="sxs-lookup"><span data-stu-id="24b5d-228">She cannot access Bob's user profile directory `C:\Users\Bob\`.</span></span>

<span data-ttu-id="24b5d-229">Si Mallory quiere atacar a Bob, puede escribir datos en la ubicación de almacenamiento de nivel de máquina y luego intentar influir en Bob para que lea desde el almacén de nivel de máquina.</span><span class="sxs-lookup"><span data-stu-id="24b5d-229">If Mallory wishes to attack Bob, she might write data to the machine-wide storage location, then attempt to influence Bob into reading from the machine-wide store.</span></span> <span data-ttu-id="24b5d-230">Cuando Bob ejecute una aplicación que lea en este almacén, la aplicación operará en los datos que Mallory colocó en él, pero desde el contexto de una cuenta de usuario de Bob.</span><span class="sxs-lookup"><span data-stu-id="24b5d-230">When Bob runs an app that reads from this store, that app will operate on the data Mallory placed there, but from within the context of Bob's user account.</span></span> <span data-ttu-id="24b5d-231">En el resto de este documento se contemplan varios vectores de ataque y los pasos que pueden seguir las aplicaciones para minimizar el riesgo de estos ataques.</span><span class="sxs-lookup"><span data-stu-id="24b5d-231">The remainder of this document contemplates various attack vectors and what steps apps can do to minimize their risk to these attacks.</span></span>

> [!NOTE]
> <span data-ttu-id="24b5d-232">Para que se produzca este tipo de ataque, Mallory necesita lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="24b5d-232">In order for such an attack to take place, Mallory requires:</span></span>
>
> * <span data-ttu-id="24b5d-233">Una cuenta de usuario en la máquina.</span><span class="sxs-lookup"><span data-stu-id="24b5d-233">A user account on the machine.</span></span>
> * <span data-ttu-id="24b5d-234">La capacidad de colocar un archivo en una ubicación conocida en el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-234">The ability to place a file into a known location on the file system.</span></span>
> * <span data-ttu-id="24b5d-235">Saber que, en algún momento, Bob ejecutará una aplicación que intente leer estos datos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-235">Knowledge that Bob will at some point run an app that attempts to read this data.</span></span>
>
> <span data-ttu-id="24b5d-236">No se trata de vectores de amenazas que se aplican a entornos de escritorio de un solo usuario estándar, como equipos domésticos o estaciones de trabajo empresariales de un solo empleado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-236">These are not threat vectors that apply to standard single-user desktop environments like home PCs or single-employee enterprise workstations.</span></span>

#### <a name="elevation-of-privilege"></a><span data-ttu-id="24b5d-237">Elevación de privilegios</span><span class="sxs-lookup"><span data-stu-id="24b5d-237">Elevation of privilege</span></span>

<span data-ttu-id="24b5d-238">Un ataque de __elevación de privilegios__ se produce cuando la aplicación de Bob lee el archivo de Mallory y automáticamente intenta realizar alguna acción en función del contenido de esa carga.</span><span class="sxs-lookup"><span data-stu-id="24b5d-238">An __elevation of privilege__ attack occurs when Bob's app reads Mallory's file and automatically tries to take some action based on the contents of that payload.</span></span> <span data-ttu-id="24b5d-239">Plantéese usar una aplicación que lea el contenido de un script de inicio del almacén de nivel de máquina y pase ese contenido a `Process.Start`.</span><span class="sxs-lookup"><span data-stu-id="24b5d-239">Consider an app that reads the contents of a startup script from the machine-wide store and passes those contents to `Process.Start`.</span></span> <span data-ttu-id="24b5d-240">Si Mallory puede colocar un script malintencionado dentro del almacén de nivel de máquina, cuando Bob inicia su aplicación:</span><span class="sxs-lookup"><span data-stu-id="24b5d-240">If Mallory can place a malicious script inside the machine-wide store, when Bob launches his app:</span></span>

* <span data-ttu-id="24b5d-241">La aplicación analiza el script malintencionado de Mallory y lo ejecuta _en el contexto del perfil de usuario de Bob_.</span><span class="sxs-lookup"><span data-stu-id="24b5d-241">His app parses and launches Mallory's malicious script _under the context of Bob's user profile_.</span></span>
* <span data-ttu-id="24b5d-242">Mallory obtiene acceso a la cuenta de Bob en la máquina local.</span><span class="sxs-lookup"><span data-stu-id="24b5d-242">Mallory gains access to Bob's account on the local machine.</span></span>

#### <a name="denial-of-service"></a><span data-ttu-id="24b5d-243">Denegación de servicio</span><span class="sxs-lookup"><span data-stu-id="24b5d-243">Denial of service</span></span>

<span data-ttu-id="24b5d-244">Un ataque por __denegación de servicio__ se produce cuando la aplicación de Bob lee el archivo de Mallory y se bloquea o deja de funcionar correctamente.</span><span class="sxs-lookup"><span data-stu-id="24b5d-244">A __denial of service__ attack occurs when Bob's app reads Mallory's file and crashes or otherwise stops functioning correctly.</span></span> <span data-ttu-id="24b5d-245">Plantéese de nuevo usar la aplicación mencionada anteriormente, que intenta analizar un script de inicio desde el almacén de nivel de máquina.</span><span class="sxs-lookup"><span data-stu-id="24b5d-245">Consider again the app mentioned previously, which attempts to parse a startup script from the machine-wide store.</span></span> <span data-ttu-id="24b5d-246">Si Mallory puede colocar un archivo con un contenido incorrecto dentro del almacén de nivel de máquina, podría:</span><span class="sxs-lookup"><span data-stu-id="24b5d-246">If Mallory can place a file with malformed contents inside the machine-wide store, she might:</span></span>

* <span data-ttu-id="24b5d-247">Hacer que la aplicación de Bob inicie una excepción al principio de la ruta de acceso de inicio.</span><span class="sxs-lookup"><span data-stu-id="24b5d-247">Cause Bob's app to throw an exception early in the startup path.</span></span>
* <span data-ttu-id="24b5d-248">Evitar que la aplicación se inicie correctamente debido a la excepción.</span><span class="sxs-lookup"><span data-stu-id="24b5d-248">Prevent the app from launching successfully because of the exception.</span></span>

<span data-ttu-id="24b5d-249">Después, ha denegado a Bob la posibilidad de iniciar la aplicación en su propia cuenta de usuario.</span><span class="sxs-lookup"><span data-stu-id="24b5d-249">She has then denied Bob the ability to launch the app under his own user account.</span></span>

#### <a name="information-disclosure"></a><span data-ttu-id="24b5d-250">Divulgación de información</span><span class="sxs-lookup"><span data-stu-id="24b5d-250">Information disclosure</span></span>

<span data-ttu-id="24b5d-251">Un ataque de __divulgación de información__ se produce cuando Mallory puede engañar a Bob para que revele el contenido de un archivo al que Mallory no tiene acceso normalmente.</span><span class="sxs-lookup"><span data-stu-id="24b5d-251">An __information disclosure__ attack occurs when Mallory can trick Bob into disclosing the contents of a file that Mallory does not normally have access to.</span></span> <span data-ttu-id="24b5d-252">Tenga en cuenta que Bob tiene un archivo de secreto *C:\Users\Bob\secret.txt* que Mallory quiere leer.</span><span class="sxs-lookup"><span data-stu-id="24b5d-252">Consider that Bob has a secret file *C:\Users\Bob\secret.txt* that Mallory wants to read.</span></span> <span data-ttu-id="24b5d-253">Mallory conoce la ruta de acceso a este archivo, pero no puede leerlo porque Windows le prohíbe obtener acceso al directorio del perfil de usuario de Bob.</span><span class="sxs-lookup"><span data-stu-id="24b5d-253">She knows the path to this file, but she cannot read it because Windows forbids her from gaining access to Bob's user profile directory.</span></span>

<span data-ttu-id="24b5d-254">En su lugar, Mallory coloca un vínculo físico en el almacén de nivel de máquina.</span><span class="sxs-lookup"><span data-stu-id="24b5d-254">Instead, Mallory places a hard link into the machine-wide store.</span></span> <span data-ttu-id="24b5d-255">Se trata de un tipo especial de archivo que no contiene ningún contenido, sino que apunta a otro archivo en el disco.</span><span class="sxs-lookup"><span data-stu-id="24b5d-255">This is a special kind of file that itself does not contain any contents, rather, it points to another file on disk.</span></span> <span data-ttu-id="24b5d-256">Al intentar leer el archivo de vínculo físico, se leerá en su lugar el contenido del archivo de destino del vínculo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-256">Attempting to read the hard link file will instead read the contents of the file targeted by the link.</span></span> <span data-ttu-id="24b5d-257">Después de crear el vínculo físico, Mallory todavía no puede leer el contenido del archivo porque no tiene acceso al destino (`C:\Users\Bob\secret.txt`) del vínculo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-257">After creating the hard link, Mallory still cannot read the file contents because she does not have access to the target (`C:\Users\Bob\secret.txt`) of the link.</span></span> <span data-ttu-id="24b5d-258">Sin embargo, Bob _sí_ tiene acceso a este archivo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-258">However, Bob _does_ have access to this file.</span></span>

<span data-ttu-id="24b5d-259">Cuando la aplicación de Bob lee desde el almacén de nivel de máquina, ahora lee involuntariamente el contenido de su archivo `secret.txt`, como si el propio archivo hubiera estado presente en el almacén de nivel de máquina.</span><span class="sxs-lookup"><span data-stu-id="24b5d-259">When Bob's app reads from the machine-wide store, it now inadvertently reads the contents of his `secret.txt` file, just as if the file itself had been present in the machine-wide store.</span></span> <span data-ttu-id="24b5d-260">Cuando se cierra la aplicación de Bob, si intenta volver a guardar el archivo en el almacén de nivel de máquina, terminará colocando una copia real del archivo en el directorio \*C:\ProgramData\IsolatedStorage\*.</span><span class="sxs-lookup"><span data-stu-id="24b5d-260">When Bob's app exits, if it attempts to resave the file to the machine-wide store, it will end up placing an actual copy of the file in the \*C:\ProgramData\IsolatedStorage\* directory.</span></span> <span data-ttu-id="24b5d-261">Dado que este directorio es legible para cualquier usuario de la máquina, Mallory ahora puede leer el contenido del archivo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-261">Since this directory is readable by any user on the machine, Mallory can now read the contents of the file.</span></span>

### <a name="best-practices-to-defend-against-these-attacks"></a><span data-ttu-id="24b5d-262">Procedimientos recomendados para defenderse frente a estos ataques</span><span class="sxs-lookup"><span data-stu-id="24b5d-262">Best practices to defend against these attacks</span></span>

<span data-ttu-id="24b5d-263">__Importante:__ Si su entorno tiene varios usuarios que no son de confianza mutua, __no__ llame a la API `IsolatedStorageFile.GetEnumerator(IsolatedStorageScope.Machine)` ni invoque la herramienta `storeadm.exe /machine /list`.</span><span class="sxs-lookup"><span data-stu-id="24b5d-263">__Important:__ If your environment has multiple mutually untrusted users, __do not__ call the API `IsolatedStorageFile.GetEnumerator(IsolatedStorageScope.Machine)` or invoke the tool `storeadm.exe /machine /list`.</span></span> <span data-ttu-id="24b5d-264">Ambas acciones presuponen que trabajan en datos de confianza.</span><span class="sxs-lookup"><span data-stu-id="24b5d-264">Both of these assume that they're operating on trusted data.</span></span> <span data-ttu-id="24b5d-265">Si un atacante puede inicializar una carga malintencionada en el almacén de nivel de máquina, esa carga puede conducir a un ataque de elevación de privilegios en el contexto del usuario que ejecuta estos comandos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-265">If an attacker can seed a malicious payload in the machine-wide store, that payload can lead to an elevation of privilege attack under the context of the user who runs these commands.</span></span>

<span data-ttu-id="24b5d-266">Si trabaja en un entorno multiusuario, reconsidere el uso de características de almacenamiento aislado que tengan como destino el ámbito de _máquina_.</span><span class="sxs-lookup"><span data-stu-id="24b5d-266">If operating in a multi-user environment, reconsider use of isolated storage features that target the _Machine_ scope.</span></span> <span data-ttu-id="24b5d-267">Si una aplicación debe leer datos de una ubicación de nivel de máquina, es preferible leer los datos de una ubicación en la que solo puedan escribir las cuentas de administrador.</span><span class="sxs-lookup"><span data-stu-id="24b5d-267">If an app must read data from a machine-wide location, prefer to read the data from a location that's writable only by admin accounts.</span></span> <span data-ttu-id="24b5d-268">El directorio `%PROGRAMFILES%` y el subárbol del Registro `HKLM` son ejemplos de ubicaciones en las que solo pueden escribir los administradores y que pueden leer todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="24b5d-268">The `%PROGRAMFILES%` directory and the `HKLM` registry hive are examples of locations that are writable by only administrators and readable by everyone.</span></span> <span data-ttu-id="24b5d-269">Por lo tanto, los datos leídos de esas ubicaciones se consideran de confianza.</span><span class="sxs-lookup"><span data-stu-id="24b5d-269">Data read from those locations is therefore considered trustworthy.</span></span>

<span data-ttu-id="24b5d-270">Si una aplicación debe usar el ámbito _Machine_ en un entorno multiusuario, se valida el contenido de cualquier archivo que se lea desde el almacén de toda la máquina.</span><span class="sxs-lookup"><span data-stu-id="24b5d-270">If an app must use the _Machine_ scope in a multi-user environment, validate the contents of any file that you read from the machine-wide store.</span></span> <span data-ttu-id="24b5d-271">Si la aplicación deserializa los gráficos de objetos de estos archivos, plantéese la posibilidad de usar serializadores más seguros como `XmlSerializer`, en lugar de serializadores peligrosos como `BinaryFormatter` o `NetDataContractSerializer`.</span><span class="sxs-lookup"><span data-stu-id="24b5d-271">If the app deserializing object graphs from these files, consider using safer serializers like `XmlSerializer` instead of dangerous serializers like `BinaryFormatter` or `NetDataContractSerializer`.</span></span> <span data-ttu-id="24b5d-272">Sea cauto con los gráficos de objetos profundamente anidados o los gráficos de objetos que realizan la asignación de recursos en función del contenido del archivo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-272">Use caution with deeply nested object graphs or object graphs that perform resource allocation based on the file contents.</span></span>

<a name="isolated_storage_locations"></a>

## <a name="isolated-storage-locations"></a><span data-ttu-id="24b5d-273">Ubicaciones del almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-273">Isolated Storage Locations</span></span>

<span data-ttu-id="24b5d-274">En ocasiones resulta útil comprobar un cambio en el almacenamiento aislado usando el sistema de archivos del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-274">Sometimes it is helpful to verify a change to isolated storage by using the file system of the operating system.</span></span> <span data-ttu-id="24b5d-275">También puede que se desee conocer la ubicación de los archivos de almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-275">You might also want to know the location of isolated storage files.</span></span> <span data-ttu-id="24b5d-276">La ubicación cambia dependiendo del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-276">This location is different depending on the operating system.</span></span> <span data-ttu-id="24b5d-277">En la tabla siguiente se muestran las ubicaciones raíz en que se crea el almacenamiento aislado en algunos de los sistemas operativos más frecuentes.</span><span class="sxs-lookup"><span data-stu-id="24b5d-277">The following table shows the root locations where isolated storage is created on a few common operating systems.</span></span> <span data-ttu-id="24b5d-278">Busque el directorio Microsoft\IsolatedStorage bajo esta ubicación raíz.</span><span class="sxs-lookup"><span data-stu-id="24b5d-278">Look for Microsoft\IsolatedStorage directories under this root location.</span></span> <span data-ttu-id="24b5d-279">Para que se muestren los archivos y carpetas ocultos y ver el almacenamiento aislado en el sistema de archivos debe cambiar la configuración de carpetas.</span><span class="sxs-lookup"><span data-stu-id="24b5d-279">You must change folder settings to show hidden files and folders in order to see isolated storage in the file system.</span></span>

|<span data-ttu-id="24b5d-280">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="24b5d-280">Operating system</span></span>|<span data-ttu-id="24b5d-281">Ubicación en el sistema de archivos</span><span class="sxs-lookup"><span data-stu-id="24b5d-281">Location in file system</span></span>|
|----------------------|-----------------------------|
|<span data-ttu-id="24b5d-282">Windows 2000, Windows XP, Windows Server 2003 (actualización desde Windows NT 4.0)</span><span class="sxs-lookup"><span data-stu-id="24b5d-282">Windows 2000, Windows XP, Windows Server 2003  (upgrade from Windows NT 4.0)</span></span>|<span data-ttu-id="24b5d-283">Almacenes con movilidad =</span><span class="sxs-lookup"><span data-stu-id="24b5d-283">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="24b5d-284">\<SYSTEMROOT>\Profiles\\<usuario\>\Application Data</span><span class="sxs-lookup"><span data-stu-id="24b5d-284">\<SYSTEMROOT>\Profiles\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="24b5d-285">Almacenes sin movilidad =</span><span class="sxs-lookup"><span data-stu-id="24b5d-285">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="24b5d-286">\<SYSTEMROOT>\Profiles\\<usuario\>\Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="24b5d-286">\<SYSTEMROOT>\Profiles\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="24b5d-287">Windows 2000 - instalación nueva (y actualizaciones desde Windows 98 y Windows NT 3.51)</span><span class="sxs-lookup"><span data-stu-id="24b5d-287">Windows 2000  - clean installation (and upgrades from Windows 98 and Windows NT 3.51)</span></span>|<span data-ttu-id="24b5d-288">Almacenes con movilidad =</span><span class="sxs-lookup"><span data-stu-id="24b5d-288">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="24b5d-289">\<SYSTEMDRIVE>\Documents and Settings\\<usuario\>\Application Data</span><span class="sxs-lookup"><span data-stu-id="24b5d-289">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="24b5d-290">Almacenes sin movilidad =</span><span class="sxs-lookup"><span data-stu-id="24b5d-290">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="24b5d-291">\<SYSTEMDRIVE>\Documents and Settings\\<usuario\>\Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="24b5d-291">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="24b5d-292">Windows XP, Windows Server 2003 - instalación nueva (y actualizaciones desde Windows 2000 y Windows 98)</span><span class="sxs-lookup"><span data-stu-id="24b5d-292">Windows XP, Windows Server 2003 - clean installation (and upgrades from Windows 2000 and Windows 98)</span></span>|<span data-ttu-id="24b5d-293">Almacenes con movilidad =</span><span class="sxs-lookup"><span data-stu-id="24b5d-293">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="24b5d-294">\<SYSTEMDRIVE>\Documents and Settings\\<usuario\>\Application Data</span><span class="sxs-lookup"><span data-stu-id="24b5d-294">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="24b5d-295">Almacenes sin movilidad =</span><span class="sxs-lookup"><span data-stu-id="24b5d-295">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="24b5d-296">\<SYSTEMDRIVE>\Documents and Settings\\<usuario\>\Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="24b5d-296">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="24b5d-297">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span><span class="sxs-lookup"><span data-stu-id="24b5d-297">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span></span>|<span data-ttu-id="24b5d-298">Almacenes con movilidad =</span><span class="sxs-lookup"><span data-stu-id="24b5d-298">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="24b5d-299">\<SYSTEMDRIVE>\Users\\< usuario\>\AppData\Roaming</span><span class="sxs-lookup"><span data-stu-id="24b5d-299">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Roaming</span></span><br /><br /> <span data-ttu-id="24b5d-300">Almacenes sin movilidad =</span><span class="sxs-lookup"><span data-stu-id="24b5d-300">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="24b5d-301">\<SYSTEMDRIVE>\Users\\<usuario\>\AppData\Local</span><span class="sxs-lookup"><span data-stu-id="24b5d-301">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Local</span></span>|

<a name="isolated_storage_tasks"></a>

## <a name="creating-enumerating-and-deleting-isolated-storage"></a><span data-ttu-id="24b5d-302">Crear, enumerar y eliminar almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-302">Creating, Enumerating, and Deleting Isolated Storage</span></span>

<span data-ttu-id="24b5d-303">.NET proporciona tres clases del espacio de nombres <xref:System.IO.IsolatedStorage> para ayudar a realizar tareas relacionadas con el almacenamiento aislado:</span><span class="sxs-lookup"><span data-stu-id="24b5d-303">.NET provides three classes in the <xref:System.IO.IsolatedStorage> namespace to help you perform tasks that involve isolated storage:</span></span>

- <span data-ttu-id="24b5d-304"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>deriva de <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> y proporciona administración básica de archivos de aplicación y ensamblado almacenados.</span><span class="sxs-lookup"><span data-stu-id="24b5d-304"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>, derives from <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> and provides basic management of stored assembly and application files.</span></span> <span data-ttu-id="24b5d-305">Una instancia de la clase <xref:System.IO.IsolatedStorage.IsolatedStorageFile> representa un único almacén ubicado en el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-305">An instance of the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class represents a single store located in the file system.</span></span>

- <span data-ttu-id="24b5d-306"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> que deriva de <xref:System.IO.FileStream?displayProperty=nameWithType> y proporciona acceso a los archivos de un almacén.</span><span class="sxs-lookup"><span data-stu-id="24b5d-306"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> derives from <xref:System.IO.FileStream?displayProperty=nameWithType> and provides access to the files in a store.</span></span>

- <span data-ttu-id="24b5d-307"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> es una enumeración que permite crear y seleccionar un almacén con el tipo de aislamiento adecuado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-307"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> is an enumeration that enables you to create and select a store with the appropriate isolation type.</span></span>

<span data-ttu-id="24b5d-308">Las clases de almacenamiento aislado permiten crear, enumerar y eliminar almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-308">The isolated storage classes enable you to create, enumerate, and delete isolated storage.</span></span> <span data-ttu-id="24b5d-309">Los métodos para realizar estas tareas están disponibles mediante el objeto <xref:System.IO.IsolatedStorage.IsolatedStorageFile> .</span><span class="sxs-lookup"><span data-stu-id="24b5d-309">The methods for performing these tasks are available through the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> object.</span></span> <span data-ttu-id="24b5d-310">Algunas operaciones requieren disponer del permiso <xref:System.Security.Permissions.IsolatedStorageFilePermission> que representa el derecho a administrar el almacenamiento aislado. También podría ser necesario disponer de derechos de sistema operativo para tener acceso a un archivo o directorio.</span><span class="sxs-lookup"><span data-stu-id="24b5d-310">Some operations require you to have the <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission that represents the right to administer isolated storage; you might also need to have operating system rights to access the file or directory.</span></span>

<span data-ttu-id="24b5d-311">Para ver una serie de ejemplos que muestran tareas de almacenamiento aislado habituales, vea los temas que aparecen en enumerados en [Temas relacionados](#related_topics).</span><span class="sxs-lookup"><span data-stu-id="24b5d-311">For a series of examples that demonstrate common isolated storage tasks, see the how-to topics listed in [Related Topics](#related_topics).</span></span>

<a name="scenarios_for_isolated_storage"></a>

## <a name="scenarios-for-isolated-storage"></a><span data-ttu-id="24b5d-312">Escenarios del almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-312">Scenarios for Isolated Storage</span></span>

<span data-ttu-id="24b5d-313">El almacenamiento aislado resulta útil en muchas situaciones, incluidos estos cuatro escenarios:</span><span class="sxs-lookup"><span data-stu-id="24b5d-313">Isolated storage is useful in many situations, including these four scenarios:</span></span>

- <span data-ttu-id="24b5d-314">Controles descargados.</span><span class="sxs-lookup"><span data-stu-id="24b5d-314">Downloaded controls.</span></span> <span data-ttu-id="24b5d-315">Los controles de código administrado descargados de Internet no tienen permiso para escribir en el disco duro mediante clases de E/S normales, pero puede usar el almacenamiento aislado para almacenar la configuración del usuario y los estados de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="24b5d-315">Managed code controls downloaded from the Internet are not allowed to write to the hard drive through normal I/O classes, but they can use isolated storage to persist users' settings and application states.</span></span>

- <span data-ttu-id="24b5d-316">Almacenamiento de componentes compartidos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-316">Shared component storage.</span></span> <span data-ttu-id="24b5d-317">Los componentes compartidos entre aplicaciones pueden usar el almacenamiento aislado para proporcionar acceso controlado a los almacenes de datos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-317">Components that are shared between applications can use isolated storage to provide controlled access to data stores.</span></span>

- <span data-ttu-id="24b5d-318">Almacenamiento en servidor.</span><span class="sxs-lookup"><span data-stu-id="24b5d-318">Server storage.</span></span> <span data-ttu-id="24b5d-319">Las aplicaciones de servidor pueden usar el almacenamiento aislado para proporcionar almacenes individuales a un gran número de usuarios que hacen solicitudes a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="24b5d-319">Server applications can use isolated storage to provide individual stores for a large number of users making requests to the application.</span></span> <span data-ttu-id="24b5d-320">Puesto que el almacenamiento aislado siempre se aísla por usuario, el servidor debe suplantar al usuario que hace la solicitud.</span><span class="sxs-lookup"><span data-stu-id="24b5d-320">Because isolated storage is always segregated by user, the server must impersonate the user making the request.</span></span> <span data-ttu-id="24b5d-321">En este caso, los datos se aíslan basándose en la identidad de la entidad de seguridad, que es la identidad que usa la aplicación para diferenciar a los usuarios.</span><span class="sxs-lookup"><span data-stu-id="24b5d-321">In this case, data is isolated based on the identity of the principal, which is the same identity the application uses to distinguish between its users.</span></span>

- <span data-ttu-id="24b5d-322">Movilidad.</span><span class="sxs-lookup"><span data-stu-id="24b5d-322">Roaming.</span></span> <span data-ttu-id="24b5d-323">Las aplicaciones pueden usar también el almacenamiento aislado con perfiles de usuario móvil.</span><span class="sxs-lookup"><span data-stu-id="24b5d-323">Applications can also use isolated storage with roaming user profiles.</span></span> <span data-ttu-id="24b5d-324">De esta manera los almacenes aislados de un usuario se pueden trasladar con el perfil.</span><span class="sxs-lookup"><span data-stu-id="24b5d-324">This allows a user's isolated stores to roam with the profile.</span></span>

<span data-ttu-id="24b5d-325">No use el almacenamiento aislado en las situaciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="24b5d-325">Do not use isolated storage in the following situations:</span></span>

- <span data-ttu-id="24b5d-326">Para guardar información confidencial, como claves o contraseñas sin cifrar, ya que el almacenamiento aislado no está protegido contra código de plena confianza, contra código no administrado ni contra usuarios de confianza del equipo.</span><span class="sxs-lookup"><span data-stu-id="24b5d-326">To store high-value secrets, such as unencrypted keys or passwords, because isolated storage is not protected from highly trusted code, from unmanaged code, or from trusted users of the computer.</span></span>

- <span data-ttu-id="24b5d-327">Para almacenar el código.</span><span class="sxs-lookup"><span data-stu-id="24b5d-327">To store code.</span></span>

- <span data-ttu-id="24b5d-328">Para almacenar los valores de configuración e implementación, que controlan los administradores.</span><span class="sxs-lookup"><span data-stu-id="24b5d-328">To store configuration and deployment settings, which administrators control.</span></span> <span data-ttu-id="24b5d-329">(Las preferencias de usuario no se consideran valores de configuración porque los administradores no las controlan.)</span><span class="sxs-lookup"><span data-stu-id="24b5d-329">(User preferences are not considered to be configuration settings because administrators do not control them.)</span></span>

<span data-ttu-id="24b5d-330">Muchas aplicaciones usan bases de datos para almacenar y aislar los datos y, en ese caso, una o varias filas de la base de datos pueden representar el almacenamiento de un usuario concreto.</span><span class="sxs-lookup"><span data-stu-id="24b5d-330">Many applications use a database to store and isolate data, in which case one or more rows in a database might represent storage for a specific user.</span></span> <span data-ttu-id="24b5d-331">Se puede elegir usar el almacenamiento aislado en lugar de una base de datos si el número de usuarios es reducido, si la sobrecarga resultante de usar una base de datos es alta o si no existe una utilidad de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-331">You might choose to use isolated storage instead of a database when the number of users is small, when the overhead of using a database is significant, or when no database facility exists.</span></span> <span data-ttu-id="24b5d-332">Además, si la aplicación requiere un tipo de almacenamiento más flexible y complejo que el que ofrece una fila de una base de datos, el almacenamiento aislado puede ser una alternativa viable.</span><span class="sxs-lookup"><span data-stu-id="24b5d-332">Also, when the application requires storage that is more flexible and complex than what a row in a database provides, isolated storage can provide a viable alternative.</span></span>

<a name="related_topics"></a>

## <a name="related-articles"></a><span data-ttu-id="24b5d-333">Artículos relacionados</span><span class="sxs-lookup"><span data-stu-id="24b5d-333">Related articles</span></span>

|<span data-ttu-id="24b5d-334">Title</span><span class="sxs-lookup"><span data-stu-id="24b5d-334">Title</span></span>|<span data-ttu-id="24b5d-335">Descripción</span><span class="sxs-lookup"><span data-stu-id="24b5d-335">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="24b5d-336">Tipos de aislamiento</span><span class="sxs-lookup"><span data-stu-id="24b5d-336">Types of Isolation</span></span>](types-of-isolation.md)|<span data-ttu-id="24b5d-337">Describe los distintos tipos de aislamiento.</span><span class="sxs-lookup"><span data-stu-id="24b5d-337">Describes the different types of isolation.</span></span>|
|[<span data-ttu-id="24b5d-338">Cómo: Obtener los almacenes de almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-338">How to: Obtain Stores for Isolated Storage</span></span>](how-to-obtain-stores-for-isolated-storage.md)|<span data-ttu-id="24b5d-339">Proporciona un ejemplo de uso de la clase <xref:System.IO.IsolatedStorage.IsolatedStorageFile> para obtener un almacén aislado por usuario y ensamblado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-339">Provides an example of using the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class to obtain a store isolated by user and assembly.</span></span>|
|[<span data-ttu-id="24b5d-340">Cómo: Enumerar los almacenes de almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-340">How to: Enumerate Stores for Isolated Storage</span></span>](how-to-enumerate-stores-for-isolated-storage.md)|<span data-ttu-id="24b5d-341">Muestra cómo utilizar el método <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> para calcular el tamaño de todo el almacenamiento aislado para el usuario.</span><span class="sxs-lookup"><span data-stu-id="24b5d-341">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> method to calculate the size of all isolated storage for the user.</span></span>|
|[<span data-ttu-id="24b5d-342">Cómo: Eliminar almacenes de almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-342">How to: Delete Stores in Isolated Storage</span></span>](how-to-delete-stores-in-isolated-storage.md)|<span data-ttu-id="24b5d-343">Muestra cómo usar el método <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> , de dos maneras diferentes, para eliminar almacenes aislados.</span><span class="sxs-lookup"><span data-stu-id="24b5d-343">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> method in two different ways to delete isolated stores.</span></span>|
|[<span data-ttu-id="24b5d-344">Cómo: Prever condiciones de espacio insuficiente con almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-344">How to: Anticipate Out-of-Space Conditions with Isolated Storage</span></span>](how-to-anticipate-out-of-space-conditions-with-isolated-storage.md)|<span data-ttu-id="24b5d-345">Muestra cómo medir el espacio que queda en un almacén aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-345">Shows how to measure the remaining space in an isolated store.</span></span>|
|[<span data-ttu-id="24b5d-346">Cómo: Crear archivos y directorios en almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-346">How to: Create Files and Directories in Isolated Storage</span></span>](how-to-create-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="24b5d-347">Proporciona ejemplos de creación de archivos y directorios en un almacén aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-347">Provides some examples of creating files and directories in an isolated store.</span></span>|
|[<span data-ttu-id="24b5d-348">Cómo: Buscar archivos y directorios existentes en almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-348">How to: Find Existing Files and Directories in Isolated Storage</span></span>](how-to-find-existing-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="24b5d-349">Muestra cómo leer la estructura y los archivos del directorio de almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-349">Demonstrates how to read the directory structure and files in isolated storage.</span></span>|
|[<span data-ttu-id="24b5d-350">Cómo: Leer y escribir en archivos en almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-350">How to: Read and Write to Files in Isolated Storage</span></span>](how-to-read-and-write-to-files-in-isolated-storage.md)|<span data-ttu-id="24b5d-351">Proporciona un ejemplo de cómo escribir una cadena en un archivo de almacenamiento aislado y, a continuación, leerla.</span><span class="sxs-lookup"><span data-stu-id="24b5d-351">Provides an example of writing a string to an isolated storage file and reading it back.</span></span>|
|[<span data-ttu-id="24b5d-352">Cómo: Eliminar archivos y directorios en almacenamiento aislado</span><span class="sxs-lookup"><span data-stu-id="24b5d-352">How to: Delete Files and Directories in Isolated Storage</span></span>](how-to-delete-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="24b5d-353">Muestra cómo eliminar archivos y directorios de almacenamiento aislado.</span><span class="sxs-lookup"><span data-stu-id="24b5d-353">Demonstrates how to delete isolated storage files and directories.</span></span>|
|[<span data-ttu-id="24b5d-354">E/S de archivos y secuencias</span><span class="sxs-lookup"><span data-stu-id="24b5d-354">File and Stream I/O</span></span>](index.md)|<span data-ttu-id="24b5d-355">Explica cómo puede realizar el acceso sincrónico y asincrónico a archivos y flujos de datos.</span><span class="sxs-lookup"><span data-stu-id="24b5d-355">Explains how you can perform synchronous and asynchronous file and data stream access.</span></span>|

<a name="reference"></a>

## <a name="reference"></a><span data-ttu-id="24b5d-356">Referencia</span><span class="sxs-lookup"><span data-stu-id="24b5d-356">Reference</span></span>

- <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFile?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFileStream?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageScope?displayProperty=nameWithType>
