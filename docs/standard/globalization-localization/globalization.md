---
title: Globalización
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET], about globalization
- global applications, globalization
- international applications [.NET], globalization
- world-ready applications, globalization
- application development [.NET], globalization
- culture, globalization
ms.assetid: 4e919934-6b19-42f2-b770-275a4fae87c9
ms.openlocfilehash: 66ed197f102583553112083e3a21f89e33cd3e3f
ms.sourcegitcommit: b1442669f1982d3a1cb18ea35b5acfb0fc7d93e4
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 10/30/2020
ms.locfileid: "93064176"
---
# <a name="globalization"></a><span data-ttu-id="ea76e-102">Globalización</span><span class="sxs-lookup"><span data-stu-id="ea76e-102">Globalization</span></span>

<span data-ttu-id="ea76e-103">La globalización implica diseñar y desarrollar una aplicación de uso internacional que admita interfaces localizadas y datos regionales para usuarios de varias referencias culturales.</span><span class="sxs-lookup"><span data-stu-id="ea76e-103">Globalization involves designing and developing a world-ready app that supports localized interfaces and regional data for users in multiple cultures.</span></span> <span data-ttu-id="ea76e-104">Antes de comenzar la fase de diseño, debe determinar qué referencias culturales admitirá la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ea76e-104">Before beginning the design phase, you should determine which cultures your app will support.</span></span> <span data-ttu-id="ea76e-105">Aunque una aplicación se dirige a una sola referencia cultural o región de forma predeterminada, puede diseñarla y escribirla de tal forma que se pueda ampliar fácilmente a los usuarios de otras referencias culturales o regiones.</span><span class="sxs-lookup"><span data-stu-id="ea76e-105">Although an app targets a single culture or region as its default, you can design and write it so that it can easily be extended to users in other cultures or regions.</span></span>

<span data-ttu-id="ea76e-106">Como desarrolladores, todos tenemos suposiciones sobre interfaces de usuario y datos que están formados por nuestras referencias culturales.</span><span class="sxs-lookup"><span data-stu-id="ea76e-106">As developers, we all have assumptions about user interfaces and data that are formed by our cultures.</span></span> <span data-ttu-id="ea76e-107">Por ejemplo, para un desarrollador angloparlante de Estados Unidos, serializar datos de fecha y hora como una cadena en el formato `MM/dd/yyyy hh:mm:ss` parece perfectamente razonable.</span><span class="sxs-lookup"><span data-stu-id="ea76e-107">For example, for an English-speaking developer in the United States, serializing date and time data as a string in the format `MM/dd/yyyy hh:mm:ss` seems perfectly reasonable.</span></span> <span data-ttu-id="ea76e-108">En cambio, si se deserializa esa cadena en un sistema de una referencia cultural diferente, es probable que se inicie una excepción <xref:System.FormatException> o que se produzcan datos inexactos.</span><span class="sxs-lookup"><span data-stu-id="ea76e-108">However, deserializing that string on a system in a different culture is likely to throw a <xref:System.FormatException> exception or produce inaccurate data.</span></span> <span data-ttu-id="ea76e-109">La globalización nos permite identificar esas suposiciones específicas de la referencia cultural y asegurarnos de que no afecten al diseño ni al código de nuestra aplicación.</span><span class="sxs-lookup"><span data-stu-id="ea76e-109">Globalization enables us to identify such culture-specific assumptions and ensure that they do not affect our app's design or code.</span></span>

<span data-ttu-id="ea76e-110">En este artículo se describen algunos de los problemas más importantes que debe tener en cuenta y los procedimientos recomendados que puede seguir al manipular cadenas, valores de fecha y hora, y valores numéricos en una aplicación globalizada.</span><span class="sxs-lookup"><span data-stu-id="ea76e-110">This article discusses some of the major issues you should consider and the best practices you can follow when handling strings, date and time values, and numeric values in a globalized app.</span></span>

## <a name="strings"></a><span data-ttu-id="ea76e-111">Cadenas</span><span class="sxs-lookup"><span data-stu-id="ea76e-111">Strings</span></span>

<span data-ttu-id="ea76e-112">El control de cadenas y caracteres es un eje central de la globalización, porque cada referencia cultural o región puede usar caracteres y juegos de caracteres diferentes y ordenarlos de forma diferente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-112">The handling of characters and strings is a central focus of globalization, because each culture or region may use different characters and character sets and sort them differently.</span></span> <span data-ttu-id="ea76e-113">En esta sección se proporcionan recomendaciones para el uso de cadenas en aplicaciones globalizadas.</span><span class="sxs-lookup"><span data-stu-id="ea76e-113">This section provides recommendations for using strings in globalized apps.</span></span>

### <a name="use-unicode-internally"></a><span data-ttu-id="ea76e-114">Uso interno de Unicode</span><span class="sxs-lookup"><span data-stu-id="ea76e-114">Use Unicode internally</span></span>

<span data-ttu-id="ea76e-115">De forma predeterminada, .NET usa cadenas Unicode.</span><span class="sxs-lookup"><span data-stu-id="ea76e-115">By default, .NET uses Unicode strings.</span></span> <span data-ttu-id="ea76e-116">Una cadena Unicode está compuesta por cero, uno o más objetos <xref:System.Char>, cada uno de los cuales representa una unidad de código UTF-16.</span><span class="sxs-lookup"><span data-stu-id="ea76e-116">A Unicode string consists of zero, one, or more <xref:System.Char> objects, each of which represents a UTF-16 code unit.</span></span> <span data-ttu-id="ea76e-117">Hay una representación Unicode para casi todos los caracteres en cada juego de caracteres en uso en todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="ea76e-117">There is a Unicode representation for almost every character in every character set in use throughout the world.</span></span>

<span data-ttu-id="ea76e-118">Muchas aplicaciones y sistemas operativos, incluido el sistema operativo Windows, pueden usar también páginas de códigos para representar juegos de caracteres.</span><span class="sxs-lookup"><span data-stu-id="ea76e-118">Many applications and operating systems, including the Windows operating system, can use also use code pages to represent character sets.</span></span> <span data-ttu-id="ea76e-119">Las páginas de códigos contienen normalmente los valores ASCII estándar de 0x00 a 0x7F y asignan otros caracteres a los valores restantes de 0x80 a 0xFF.</span><span class="sxs-lookup"><span data-stu-id="ea76e-119">Code pages typically contain the standard ASCII values from 0x00 through 0x7F and map other characters to the remaining values from 0x80 through 0xFF.</span></span> <span data-ttu-id="ea76e-120">La interpretación de valores de 0x80 a 0xFF depende de la página de códigos específica.</span><span class="sxs-lookup"><span data-stu-id="ea76e-120">The interpretation of values from 0x80 through 0xFF depends on the specific code page.</span></span> <span data-ttu-id="ea76e-121">Por este motivo, debe evitar usar páginas de códigos en una aplicación globalizada si es posible.</span><span class="sxs-lookup"><span data-stu-id="ea76e-121">Because of this, you should avoid using code pages in a globalized app if possible.</span></span>

<span data-ttu-id="ea76e-122">En el siguiente ejemplo, se muestran los peligros de interpretar los datos de la página de códigos cuando la página de códigos predeterminada de un sistema es diferente de la página de códigos en la que se han guardado los datos.</span><span class="sxs-lookup"><span data-stu-id="ea76e-122">The following example illustrates the dangers of interpreting code page data when the default code page on a system is different from the code page on which the data was saved.</span></span> <span data-ttu-id="ea76e-123">(Para simular este escenario, en el ejemplo se especifican de forma explícita páginas de códigos diferentes). En primer lugar, en el ejemplo se define una matriz que consta de los caracteres en mayúsculas del alfabeto griego.</span><span class="sxs-lookup"><span data-stu-id="ea76e-123">(To simulate this scenario, the example explicitly specifies different code pages.) First, the example defines an array that consists of the uppercase characters of the Greek alphabet.</span></span> <span data-ttu-id="ea76e-124">Los codifica en una matriz de bytes mediante la página de códigos 737 (también conocida como MS-DOS griego) y guarda la matriz de bytes en un archivo.</span><span class="sxs-lookup"><span data-stu-id="ea76e-124">It encodes them into a byte array by using code page 737 (also known as MS-DOS Greek) and saves the byte array to a file.</span></span> <span data-ttu-id="ea76e-125">Si se recupera el archivo y su matriz de bytes se descodifica mediante la página de códigos 737, se restauran los caracteres originales.</span><span class="sxs-lookup"><span data-stu-id="ea76e-125">If the file is retrieved and its byte array is decoded by using code page 737, the original characters are restored.</span></span> <span data-ttu-id="ea76e-126">En cambio, si se recupera el archivo y su matriz de bytes se descodifica mediante la página de códigos 1252 (o Windows-1252, que representa los caracteres del alfabeto latino), se pierden los caracteres originales.</span><span class="sxs-lookup"><span data-stu-id="ea76e-126">However, if the file is retrieved and its byte array is decoded by using code page 1252 (or Windows-1252, which represents characters in the Latin alphabet), the original characters are lost.</span></span>

[!code-csharp[Conceptual.Globalization#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/codepages1.cs#1)]
[!code-vb[Conceptual.Globalization#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/codepages1.vb#1)]

<span data-ttu-id="ea76e-127">El uso de Unicode garantiza que se asignen siempre las mismas unidades de código a los mismos caracteres y que se asignen siempre los mismos caracteres a las mismas matrices de bytes.</span><span class="sxs-lookup"><span data-stu-id="ea76e-127">The use of Unicode ensures that the same code units always map to the same characters, and that the same characters always map to the same byte arrays.</span></span>

### <a name="use-resource-files"></a><span data-ttu-id="ea76e-128">Uso de archivos de recursos</span><span class="sxs-lookup"><span data-stu-id="ea76e-128">Use resource files</span></span>

<span data-ttu-id="ea76e-129">Incluso si está desarrollando una aplicación destinada a una sola referencia cultural o región, debe usar los archivos de recursos para almacenar cadenas y otros recursos que se muestran en la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="ea76e-129">Even if you are developing an app that targets a single culture or region, you should use resource files to store strings and other resources that are displayed in the user interface.</span></span> <span data-ttu-id="ea76e-130">Nunca debe agregarlos directamente al código.</span><span class="sxs-lookup"><span data-stu-id="ea76e-130">You should never add them directly to your code.</span></span> <span data-ttu-id="ea76e-131">Usar archivos de recursos tiene una serie de ventajas:</span><span class="sxs-lookup"><span data-stu-id="ea76e-131">Using resource files has a number of advantages:</span></span>

- <span data-ttu-id="ea76e-132">Todas las cadenas están en una sola ubicación.</span><span class="sxs-lookup"><span data-stu-id="ea76e-132">All the strings are in a single location.</span></span> <span data-ttu-id="ea76e-133">No tiene que buscar en todo el código fuente para identificar cadenas que tiene que modificar para un idioma o referencia cultural determinados.</span><span class="sxs-lookup"><span data-stu-id="ea76e-133">You don't have to search throughout your source code to identify strings to modify for a specific language or culture.</span></span>

- <span data-ttu-id="ea76e-134">No tiene que duplicar las cadenas.</span><span class="sxs-lookup"><span data-stu-id="ea76e-134">There is no need to duplicate strings.</span></span> <span data-ttu-id="ea76e-135">Los desarrolladores que no usan archivos de recursos, definen frecuentemente la misma cadena en varios archivos de código fuente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-135">Developers who don't use resource files often define the same string in multiple source code files.</span></span> <span data-ttu-id="ea76e-136">Esta duplicación aumenta la probabilidad de que se pasen por alto una o más instancias al modificar una cadena.</span><span class="sxs-lookup"><span data-stu-id="ea76e-136">This duplication increases the probability that one or more instances will be overlooked when a string is modified.</span></span>

- <span data-ttu-id="ea76e-137">Puede incluir recursos que no sean de cadena, como imágenes o datos binarios, en el archivo de recursos en lugar de almacenarlos en un archivo independiente, para que se puedan recuperar fácilmente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-137">You can include non-string resources, such as images or binary data, in the resource file instead of storing them in a separate standalone file, so they can be retrieved easily.</span></span>

<span data-ttu-id="ea76e-138">Usar archivos de recursos tiene algunas ventajas si está creando una aplicación localizada.</span><span class="sxs-lookup"><span data-stu-id="ea76e-138">Using resource files has particular advantages if you are creating a localized app.</span></span> <span data-ttu-id="ea76e-139">Al implementar recursos en ensamblados satélite, Common Language Runtime selecciona automáticamente un recurso adecuado según la referencia cultural de la interfaz de usuario actual del usuario tal y como se define en la propiedad <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-139">When you deploy resources in satellite assemblies, the common language runtime automatically selects a culture-appropriate resource based on the user's current UI culture as defined by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ea76e-140">Siempre que proporcione un recurso específico de la referencia cultural adecuado y cree correctamente una instancia de un objeto <xref:System.Resources.ResourceManager> o use una clase de recurso fuertemente tipada, runtime controla los detalles de recuperación de los recursos adecuados.</span><span class="sxs-lookup"><span data-stu-id="ea76e-140">As long as you provide an appropriate culture-specific resource and correctly instantiate a <xref:System.Resources.ResourceManager> object or use a strongly typed resource class, the runtime handles the details of retrieving the appropriate resources.</span></span>

<span data-ttu-id="ea76e-141">Para más información sobre la creación de archivos de recursos, vea [Crear archivos de recursos](../../framework/resources/creating-resource-files-for-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="ea76e-141">For more information about creating resource files, see [Creating Resource Files](../../framework/resources/creating-resource-files-for-desktop-apps.md).</span></span> <span data-ttu-id="ea76e-142">Para obtener información sobre la creación e implementación de ensamblados satélite, vea [Crear ensamblados satélite](../../framework/resources/creating-satellite-assemblies-for-desktop-apps.md) y [Empaquetar e implementar recursos](../../framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="ea76e-142">For information about creating and deploying satellite assemblies, see [Creating Satellite Assemblies](../../framework/resources/creating-satellite-assemblies-for-desktop-apps.md) and [Packaging and Deploying Resources](../../framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

### <a name="search-and-compare-strings"></a><span data-ttu-id="ea76e-143">Búsqueda y comparación de cadenas</span><span class="sxs-lookup"><span data-stu-id="ea76e-143">Search and compare strings</span></span>

<span data-ttu-id="ea76e-144">Cuando sea posible, debe tratar las cadenas como cadenas enteras en lugar de tratarlas como una serie de caracteres individuales.</span><span class="sxs-lookup"><span data-stu-id="ea76e-144">Whenever possible, you should handle strings as entire strings instead of handling them as a series of individual characters.</span></span> <span data-ttu-id="ea76e-145">Esto es especialmente importante al ordenar o buscar subcadenas, para evitar problemas asociados con el análisis de caracteres combinados.</span><span class="sxs-lookup"><span data-stu-id="ea76e-145">This is especially important when you sort or search for substrings, to prevent problems associated with parsing combined characters.</span></span>

> [!TIP]
> <span data-ttu-id="ea76e-146">Puede usar la clase <xref:System.Globalization.StringInfo> para trabajar con los elementos de texto en lugar de los caracteres individuales de una cadena.</span><span class="sxs-lookup"><span data-stu-id="ea76e-146">You can use the <xref:System.Globalization.StringInfo> class to work with the text elements rather than the individual characters in a string.</span></span>

<span data-ttu-id="ea76e-147">En búsquedas y comparaciones de cadenas, un error común es tratar la cadena como una colección de caracteres, cada uno de ellos se representa mediante un objeto <xref:System.Char>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-147">In string searches and comparisons, a common mistake is to treat the string as a collection of characters, each of which is represented by a <xref:System.Char> object.</span></span> <span data-ttu-id="ea76e-148">De hecho, un solo carácter puede estar formado por uno, dos o más objetos <xref:System.Char>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-148">In fact, a single character may be formed by one, two, or more <xref:System.Char> objects.</span></span> <span data-ttu-id="ea76e-149">Estos caracteres se encuentran con más frecuencia en cadenas de referencias culturales cuyos alfabetos constan de caracteres fuera del intervalo de caracteres de latín básico de Unicode (U+0021 a U+007E).</span><span class="sxs-lookup"><span data-stu-id="ea76e-149">Such characters are found most frequently in strings from cultures whose alphabets consist of characters outside the Unicode Basic Latin character range (U+0021 through U+007E).</span></span> <span data-ttu-id="ea76e-150">En el ejemplo siguiente se intenta encontrar el índice del carácter LETRA LATINA A MAYÚSCULA CON ACENTO GRAVE (U+00C0) en una cadena.</span><span class="sxs-lookup"><span data-stu-id="ea76e-150">The following example tries to find the index of the LATIN CAPITAL LETTER A WITH GRAVE character (U+00C0) in a string.</span></span> <span data-ttu-id="ea76e-151">Pero este carácter se puede representar de dos formas diferentes: como una única unidad de código (U+00C0), o bien como un carácter compuesto (dos unidades de código: U+0041 y U+0300).</span><span class="sxs-lookup"><span data-stu-id="ea76e-151">However, this character can be represented in two different ways: as a single code unit (U+00C0) or as a composite character (two code units: U+0041 and U+0300).</span></span> <span data-ttu-id="ea76e-152">En este caso, el carácter se representa en la instancia de cadena mediante dos objetos <xref:System.Char>, U+0041 y U+0300.</span><span class="sxs-lookup"><span data-stu-id="ea76e-152">In this case, the character is represented in the string instance by two <xref:System.Char> objects, U+0041 and U+0300.</span></span> <span data-ttu-id="ea76e-153">El código de ejemplo llama a las sobrecargas <xref:System.String.IndexOf%28System.Char%29?displayProperty=nameWithType> y <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> para buscar la posición de este carácter en la instancia de cadena, pero estas devuelven resultados diferentes.</span><span class="sxs-lookup"><span data-stu-id="ea76e-153">The example code calls the <xref:System.String.IndexOf%28System.Char%29?displayProperty=nameWithType> and <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> overloads to find the position of this character in the string instance, but these return different results.</span></span> <span data-ttu-id="ea76e-154">La primera llamada al método tiene un argumento <xref:System.Char>; realiza una comparación ordinal y, por tanto, no se puede encontrar una coincidencia.</span><span class="sxs-lookup"><span data-stu-id="ea76e-154">The first method call has a <xref:System.Char> argument; it performs an ordinal comparison and therefore cannot find a match.</span></span> <span data-ttu-id="ea76e-155">La segunda llamada tiene un argumento <xref:System.String>; realiza una comparación que tiene en cuenta la referencia cultural y, por tanto, se encuentra una coincidencia.</span><span class="sxs-lookup"><span data-stu-id="ea76e-155">The second call has a <xref:System.String> argument; it performs a culture-sensitive comparison and therefore finds a match.</span></span>

[!code-csharp[Conceptual.Globalization#18](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/search1.cs#18)]
[!code-vb[Conceptual.Globalization#18](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/search1.vb#18)]

<span data-ttu-id="ea76e-156">Puede evitar la ambigüedad de este ejemplo (llamadas a dos sobrecargas similares de un método que devuelve resultados diferentes) mediante una llamada a una sobrecarga que incluya un parámetro <xref:System.StringComparison>, como el método <xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> o <xref:System.String.LastIndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-156">You can avoid some of the ambiguity of this example (calls to two similar overloads of a method returning different results) by calling an overload that includes a <xref:System.StringComparison> parameter, such as the <xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> or <xref:System.String.LastIndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="ea76e-157">En cambio, las búsquedas no se realizan siempre según la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-157">However, searches are not always culture-sensitive.</span></span> <span data-ttu-id="ea76e-158">Si el propósito de la búsqueda es tomar una decisión de seguridad o permitir o denegar el acceso a algún recurso, la comparación debe ser ordinal, como se describe en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-158">If the purpose of the search is to make a security decision or to allow or disallow access to some resource, the comparison should be ordinal, as discussed in the next section.</span></span>

### <a name="test-strings-for-equality"></a><span data-ttu-id="ea76e-159">Prueba de la igualdad de cadenas</span><span class="sxs-lookup"><span data-stu-id="ea76e-159">Test strings for equality</span></span>

<span data-ttu-id="ea76e-160">Si quiere probar la igualdad de dos cadenas en lugar de determinar cómo se comparan en el criterio de ordenación, use el método <xref:System.String.Equals%2A?displayProperty=nameWithType> en lugar de un método de comparación de cadenas como <xref:System.String.Compare%2A?displayProperty=nameWithType> o <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-160">If you want to test two strings for equality rather than determine how they compare in the sort order, use the <xref:System.String.Equals%2A?displayProperty=nameWithType> method instead of a string comparison method such as <xref:System.String.Compare%2A?displayProperty=nameWithType> or <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="ea76e-161">Normalmente, se realizan las comparaciones de igualdad para acceder a algunos recursos de forma condicional.</span><span class="sxs-lookup"><span data-stu-id="ea76e-161">Comparisons for equality are typically performed to access some resource conditionally.</span></span> <span data-ttu-id="ea76e-162">Por ejemplo, podría realizar una comparación de igualdad para comprobar una contraseña o para confirmar que existe un archivo.</span><span class="sxs-lookup"><span data-stu-id="ea76e-162">For example, you might perform a comparison for equality to verify a password or to confirm that a file exists.</span></span> <span data-ttu-id="ea76e-163">Estas comparaciones no lingüísticas siempre deben ser ordinales en lugar de según la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-163">Such non-linguistic comparisons should always be ordinal rather than culture-sensitive.</span></span> <span data-ttu-id="ea76e-164">En general, debería llamar al método <xref:System.String.Equals%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> de la instancia o al método <xref:System.String.Equals%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> estático con un valor de <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> para cadenas como contraseñas y un valor de <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> para cadenas como nombres de archivo o URI.</span><span class="sxs-lookup"><span data-stu-id="ea76e-164">In general, you should call the instance <xref:System.String.Equals%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method or the static <xref:System.String.Equals%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method with a value of <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> for strings such as passwords, and a value of <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for strings such as file names or URIs.</span></span>

<span data-ttu-id="ea76e-165">A veces, las comparaciones de igualdad implican búsquedas o comparaciones de subcadenas en lugar de llamadas al método <xref:System.String.Equals%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-165">Comparisons for equality sometimes involve searches or substring comparisons rather than calls to the <xref:System.String.Equals%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="ea76e-166">En algunos casos, puede usar una búsqueda de subcadena para determinar si esa subcadena es igual a otra cadena.</span><span class="sxs-lookup"><span data-stu-id="ea76e-166">In some cases, you may use a substring search to determine whether that substring equals another string.</span></span> <span data-ttu-id="ea76e-167">Si el propósito de esta comparación es no lingüístico, la búsqueda también debe ser ordinal en lugar de según la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-167">If the purpose of this comparison is non-linguistic, the search should also be ordinal rather than culture-sensitive.</span></span>

<span data-ttu-id="ea76e-168">En el ejemplo siguiente, se muestra el peligro de una búsqueda según la referencia cultural en datos no lingüísticos.</span><span class="sxs-lookup"><span data-stu-id="ea76e-168">The following example illustrates the danger of a culture-sensitive search on non-linguistic data.</span></span> <span data-ttu-id="ea76e-169">El método `AccessesFileSystem` está diseñado para prohibir el acceso al sistema de archivos a los URI que comienzan con la subcadena "FILE".</span><span class="sxs-lookup"><span data-stu-id="ea76e-169">The `AccessesFileSystem` method is designed to prohibit file system access for URIs that begin with the substring "FILE".</span></span> <span data-ttu-id="ea76e-170">Para ello, realiza una comparación según la referencia cultural que no diferencia mayúsculas de minúsculas del principio del URI con la cadena "FILE".</span><span class="sxs-lookup"><span data-stu-id="ea76e-170">To do this, it performs a culture-sensitive, case-insensitive comparison of the beginning of the URI with the string "FILE".</span></span> <span data-ttu-id="ea76e-171">Ya que un URI que accede al sistema de archivos puede comenzar con "FILE:" o "file:", la suposición implícita es que esa "i" (U+0069) es siempre el equivalente en minúsculas de "I" (U+0049).</span><span class="sxs-lookup"><span data-stu-id="ea76e-171">Because a URI that accesses the file system can begin with either "FILE:" or "file:", the implicit assumption is that "i" (U+0069) is always the lowercase equivalent of "I" (U+0049).</span></span> <span data-ttu-id="ea76e-172">Sin embargo, en turco y azerbaiyano, la versión en mayúsculas de "i" es "İ" (0130).</span><span class="sxs-lookup"><span data-stu-id="ea76e-172">However, in Turkish and Azerbaijani, the uppercase version of "i" is "İ" (U+0130).</span></span> <span data-ttu-id="ea76e-173">Debido a esta discrepancia, la comparación según la referencia cultural permite el acceso al sistema de archivos cuando debería estar prohibido.</span><span class="sxs-lookup"><span data-stu-id="ea76e-173">Because of this discrepancy, the culture-sensitive comparison allows file system access when it should be prohibited.</span></span>

[!code-csharp[Conceptual.Globalization#12](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/equals1.cs#12)]
[!code-vb[Conceptual.Globalization#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/equals1.vb#12)]

<span data-ttu-id="ea76e-174">Para evitar este problema, realice una comparación ordinal que no distinga mayúsculas de minúsculas, como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-174">You can avoid this problem by performing an ordinal comparison that ignores case, as the following example shows.</span></span>

[!code-csharp[Conceptual.Globalization#13](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/equals2.cs#13)]
[!code-vb[Conceptual.Globalization#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/equals2.vb#13)]

### <a name="order-and-sort-strings"></a><span data-ttu-id="ea76e-175">Ordenación de cadenas</span><span class="sxs-lookup"><span data-stu-id="ea76e-175">Order and sort strings</span></span>

<span data-ttu-id="ea76e-176">Normalmente, las cadenas ordenadas que se muestran en la interfaz de usuario se deben ordenar en función de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-176">Typically, ordered strings that are to be displayed in the user interface should be sorted based on culture.</span></span> <span data-ttu-id="ea76e-177">En su mayor parte, estas comparaciones de cadenas se tratan implícitamente mediante .NET al llamar a un método que ordena cadenas, como <xref:System.Array.Sort%2A?displayProperty=nameWithType> o <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-177">For the most part, such string comparisons are handled implicitly by .NET when you call a method that sorts strings, such as <xref:System.Array.Sort%2A?displayProperty=nameWithType> or <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="ea76e-178">De manera predeterminada, las cadenas se ordenan mediante las convenciones de ordenación de la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="ea76e-178">By default, strings are sorted by using the sorting conventions of the current culture.</span></span> <span data-ttu-id="ea76e-179">En el ejemplo siguiente, se ilustra la diferencia cuando una matriz de cadenas se ordena mediante las convenciones de la referencia cultural del inglés (Estados Unidos) y la referencia cultural del sueco (Suecia).</span><span class="sxs-lookup"><span data-stu-id="ea76e-179">The following example illustrates the difference when an array of strings is sorted by using the conventions of the English (United States) culture and the Swedish (Sweden) culture.</span></span>

[!code-csharp[Conceptual.Globalization#14](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/sort1.cs#14)]
[!code-vb[Conceptual.Globalization#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/sort1.vb#14)]

<span data-ttu-id="ea76e-180">La comparación de cadenas según la referencia cultural se define mediante el objeto <xref:System.Globalization.CompareInfo>, que devuelve la propiedad <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> de cada referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-180">Culture-sensitive string comparison is defined by the <xref:System.Globalization.CompareInfo> object, which is returned by each culture's <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ea76e-181">Las comparaciones de cadenas según la referencia cultural que usan las sobrecargas del método <xref:System.String.Compare%2A?displayProperty=nameWithType> usan también el objeto <xref:System.Globalization.CompareInfo>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-181">Culture-sensitive string comparisons that use the <xref:System.String.Compare%2A?displayProperty=nameWithType> method overloads also use the <xref:System.Globalization.CompareInfo> object.</span></span>

<span data-ttu-id="ea76e-182">.NET usa tablas para realizar ordenaciones según la referencia cultural de los datos de las cadenas.</span><span class="sxs-lookup"><span data-stu-id="ea76e-182">.NET uses tables to perform culture-sensitive sorts on string data.</span></span> <span data-ttu-id="ea76e-183">El contenido de estas tablas, que contienen datos en prioridades de ordenación y normalización de cadenas, viene determinado por la versión del estándar Unicode que se implementa mediante una versión concreta de .NET.</span><span class="sxs-lookup"><span data-stu-id="ea76e-183">The content of these tables, which contain data on sort weights and string normalization, is determined by the version of the Unicode standard implemented by a particular version of .NET.</span></span> <span data-ttu-id="ea76e-184">En la tabla siguiente se enumeran las versiones de Unicode implementadas por las versiones de .NET especificadas.</span><span class="sxs-lookup"><span data-stu-id="ea76e-184">The following table lists the versions of Unicode implemented by the specified versions of .NET.</span></span> <span data-ttu-id="ea76e-185">Esta lista de versiones de Unicode compatibles solo se aplica a la comparación y ordenación de caracteres; no se aplica a la clasificación de caracteres Unicode por categoría.</span><span class="sxs-lookup"><span data-stu-id="ea76e-185">This list of supported Unicode versions applies to character comparison and sorting only; it does not apply to classification of Unicode characters by category.</span></span> <span data-ttu-id="ea76e-186">Para obtener más información, consulte la sección "Las cadenas y el estándar Unicode" en el artículo <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-186">For more information, see the "Strings and The Unicode Standard" section in the <xref:System.String> article.</span></span>

|<span data-ttu-id="ea76e-187">Versión de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="ea76e-187">.NET Framework version</span></span>|<span data-ttu-id="ea76e-188">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="ea76e-188">Operating system</span></span>|<span data-ttu-id="ea76e-189">Versión de Unicode</span><span class="sxs-lookup"><span data-stu-id="ea76e-189">Unicode version</span></span>|
|----------------------------|----------------------|---------------------|
|<span data-ttu-id="ea76e-190">.NET Framework 2.0</span><span class="sxs-lookup"><span data-stu-id="ea76e-190">.NET Framework 2.0</span></span>|<span data-ttu-id="ea76e-191">Todos los sistemas operativos</span><span class="sxs-lookup"><span data-stu-id="ea76e-191">All operating systems</span></span>|<span data-ttu-id="ea76e-192">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="ea76e-192">Unicode 4.1</span></span>|
|<span data-ttu-id="ea76e-193">.NET Framework 3.0</span><span class="sxs-lookup"><span data-stu-id="ea76e-193">.NET Framework 3.0</span></span>|<span data-ttu-id="ea76e-194">Todos los sistemas operativos</span><span class="sxs-lookup"><span data-stu-id="ea76e-194">All operating systems</span></span>|<span data-ttu-id="ea76e-195">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="ea76e-195">Unicode 4.1</span></span>|
|<span data-ttu-id="ea76e-196">.NET Framework 3,5</span><span class="sxs-lookup"><span data-stu-id="ea76e-196">.NET Framework 3.5</span></span>|<span data-ttu-id="ea76e-197">Todos los sistemas operativos</span><span class="sxs-lookup"><span data-stu-id="ea76e-197">All operating systems</span></span>|<span data-ttu-id="ea76e-198">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="ea76e-198">Unicode 4.1</span></span>|
|<span data-ttu-id="ea76e-199">.NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="ea76e-199">.NET Framework 4</span></span>|<span data-ttu-id="ea76e-200">Todos los sistemas operativos</span><span class="sxs-lookup"><span data-stu-id="ea76e-200">All operating systems</span></span>|<span data-ttu-id="ea76e-201">Unicode 5.0</span><span class="sxs-lookup"><span data-stu-id="ea76e-201">Unicode 5.0</span></span>|
|<span data-ttu-id="ea76e-202">.NET Framework 4.5 y versiones posteriores en Windows 7</span><span class="sxs-lookup"><span data-stu-id="ea76e-202">.NET Framework 4.5 and later on Windows 7</span></span>|<span data-ttu-id="ea76e-203">Unicode 5.0</span><span class="sxs-lookup"><span data-stu-id="ea76e-203">Unicode 5.0</span></span>|
|<span data-ttu-id="ea76e-204">.NET Framework 4.5 y versiones posteriores en Windows 8 y sistemas operativos posteriores</span><span class="sxs-lookup"><span data-stu-id="ea76e-204">.NET Framework 4.5 and later on Windows 8 and later operating systems</span></span>|<span data-ttu-id="ea76e-205">Unicode 6.3.0</span><span class="sxs-lookup"><span data-stu-id="ea76e-205">Unicode 6.3.0</span></span>|
|<span data-ttu-id="ea76e-206">.NET Core, y .NET 5 y versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="ea76e-206">.NET Core and .NET 5+</span></span>|<span data-ttu-id="ea76e-207">Depende de la versión del estándar Unicode compatible con el sistema operativo subyacente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-207">Depends on the version of the Unicode Standard supported by the underlying operating system.</span></span>|

<span data-ttu-id="ea76e-208">A partir de .NET Framework 4.5 y en todas las versiones de .NET Core, .NET 5 y versiones posteriores, la ordenación y la comparación de cadenas dependen del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ea76e-208">Starting with .NET Framework 4.5 and in all versions of .NET Core and .NET 5+, string comparison and sorting depends on the operating system.</span></span> <span data-ttu-id="ea76e-209">.NET Framework 4.5 y las versiones posteriores que se ejecutan en Windows 7 recuperan los datos de sus propias tablas que implementan Unicode 5.0.</span><span class="sxs-lookup"><span data-stu-id="ea76e-209">.NET Framework 4.5 and later running on Windows 7 retrieves data from its own tables that implement Unicode 5.0.</span></span> <span data-ttu-id="ea76e-210">.NET Framework 4.5 y las versiones posteriores que se ejecutan en Windows 8 y versiones posteriores recuperan los datos de tablas del sistema operativo que implementan Unicode 6.3.</span><span class="sxs-lookup"><span data-stu-id="ea76e-210">.NET Framework 4.5 and later running on Windows 8 and later retrieves data from operating system tables that implement Unicode 6.3.</span></span> <span data-ttu-id="ea76e-211">En .NET Core, y .NET 5 y versiones posteriores, la versión admitida de Unicode depende del sistema operativo subyacente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-211">On .NET Core and .NET 5+, the supported version of Unicode depends on the underlying operating system.</span></span> <span data-ttu-id="ea76e-212">Si serializa datos ordenados según la referencia cultural, puede usar la clase <xref:System.Globalization.SortVersion> para determinar cuándo se deben ordenar los datos serializados de forma que sea coherente con el criterio de ordenación del sistema operativo y de .NET.</span><span class="sxs-lookup"><span data-stu-id="ea76e-212">If you serialize culture-sensitive sorted data, you can use the <xref:System.Globalization.SortVersion> class to determine when your serialized data needs to be sorted so that it is consistent with .NET and the operating system's sort order.</span></span> <span data-ttu-id="ea76e-213">Para obtener un ejemplo, consulte el tema de la clase <xref:System.Globalization.SortVersion>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-213">For an example, see the <xref:System.Globalization.SortVersion> class topic.</span></span>

<span data-ttu-id="ea76e-214">Si la aplicación realiza ordenaciones extensas específicas de la referencia cultural de los datos de cadena, puede trabajar con la clase <xref:System.Globalization.SortKey> para comparar cadenas.</span><span class="sxs-lookup"><span data-stu-id="ea76e-214">If your app performs extensive culture-specific sorts of string data, you can work with the <xref:System.Globalization.SortKey> class to compare strings.</span></span> <span data-ttu-id="ea76e-215">Un criterio de ordenación refleja las prioridades de ordenación específicas de la referencia cultural, incluidas las prioridades alfabéticas, de mayúsculas y minúsculas, y diacríticas de una cadena determinada.</span><span class="sxs-lookup"><span data-stu-id="ea76e-215">A sort key reflects the culture-specific sort weights, including the alphabetic, case, and diacritic weights of a particular string.</span></span> <span data-ttu-id="ea76e-216">Dado que las comparaciones que usan criterios de ordenación son binarias, son más rápidas que las comparaciones que usan un objeto <xref:System.Globalization.CompareInfo> de forma implícita o explícita.</span><span class="sxs-lookup"><span data-stu-id="ea76e-216">Because comparisons using sort keys are binary, they are faster than comparisons that use a <xref:System.Globalization.CompareInfo> object either implicitly or explicitly.</span></span> <span data-ttu-id="ea76e-217">Para crear un criterio de ordenación específico de la referencia cultural para una cadena determinada, pase la cadena al método <xref:System.Globalization.CompareInfo.GetSortKey%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-217">You create a culture-specific sort key for a particular string by passing the string to the <xref:System.Globalization.CompareInfo.GetSortKey%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="ea76e-218">El siguiente ejemplo es similar al ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="ea76e-218">The following example is similar to the previous example.</span></span> <span data-ttu-id="ea76e-219">En cambio, en lugar de llamar al método <xref:System.Array.Sort%28System.Array%29?displayProperty=nameWithType>, que llama de forma implícita al método <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>, define una implementación <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType> que compara los criterios de ordenación, que crea en una instancia y pasa al método <xref:System.Array.Sort%60%601%28%60%600%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-219">However, instead of calling the <xref:System.Array.Sort%28System.Array%29?displayProperty=nameWithType> method, which implicitly calls the <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType> method, it defines an <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType> implementation that compares sort keys, which it instantiates and passes to the <xref:System.Array.Sort%60%601%28%60%600%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType> method.</span></span>

[!code-csharp[Conceptual.Globalization#15](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/sortkey1.cs#15)]
[!code-vb[Conceptual.Globalization#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/sortkey1.vb#15)]

### <a name="avoid-string-concatenation"></a><span data-ttu-id="ea76e-220">Evitación de la concatenación de cadenas</span><span class="sxs-lookup"><span data-stu-id="ea76e-220">Avoid string concatenation</span></span>

<span data-ttu-id="ea76e-221">En lo posible, evite usar cadenas compuestas que se compilan en tiempo de ejecución a partir de frases concatenadas.</span><span class="sxs-lookup"><span data-stu-id="ea76e-221">If at all possible, avoid using composite strings that are built at run time from concatenated phrases.</span></span> <span data-ttu-id="ea76e-222">La localización de las cadenas compuestas resulta difícil porque, a menudo, se da por supuesto un orden gramatical en el idioma original de la aplicación que no se aplica a otros idiomas localizados.</span><span class="sxs-lookup"><span data-stu-id="ea76e-222">Composite strings are difficult to localize, because they often assume a grammatical order in the app's original language that does not apply to other localized languages.</span></span>

## <a name="handle-dates-and-times"></a><span data-ttu-id="ea76e-223">Control de las fechas y horas</span><span class="sxs-lookup"><span data-stu-id="ea76e-223">Handle dates and times</span></span>

<span data-ttu-id="ea76e-224">El control de los valores de fecha y hora depende de si se muestran en la interfaz de usuario o si se conservan.</span><span class="sxs-lookup"><span data-stu-id="ea76e-224">How you handle date and time values depends on whether they are displayed in the user interface or persisted.</span></span> <span data-ttu-id="ea76e-225">En esta sección se examinan ambos usos.</span><span class="sxs-lookup"><span data-stu-id="ea76e-225">This section examines both usages.</span></span> <span data-ttu-id="ea76e-226">También se explica cómo puede controlar las diferencias de zona horaria y las operaciones aritméticas al trabajar con fechas y horas.</span><span class="sxs-lookup"><span data-stu-id="ea76e-226">It also discusses how you can handle time zone differences and arithmetic operations when working with dates and times.</span></span>

### <a name="display-dates-and-times"></a><span data-ttu-id="ea76e-227">Visualización de las fechas y horas</span><span class="sxs-lookup"><span data-stu-id="ea76e-227">Display dates and times</span></span>

<span data-ttu-id="ea76e-228">Normalmente, cuando las fechas y horas se muestran en la interfaz de usuario, debe usar las convenciones de formato de la referencia cultural del usuario, que definen la propiedad <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> y el objeto <xref:System.Globalization.DateTimeFormatInfo> que devuelve la propiedad `CultureInfo.CurrentCulture.DateTimeFormat`.</span><span class="sxs-lookup"><span data-stu-id="ea76e-228">Typically, when dates and times are displayed in the user interface, you should use the formatting conventions of the user's culture, which is defined by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property and by the <xref:System.Globalization.DateTimeFormatInfo> object returned by the `CultureInfo.CurrentCulture.DateTimeFormat` property.</span></span> <span data-ttu-id="ea76e-229">Las convenciones de formato de la referencia cultural actual se usan de forma automática al dar formato a una fecha mediante cualquiera de estos métodos:</span><span class="sxs-lookup"><span data-stu-id="ea76e-229">The formatting conventions of the current culture are automatically used when you format a date by using any of these methods:</span></span>

- <span data-ttu-id="ea76e-230">El método <xref:System.DateTime.ToString?displayProperty=nameWithType> sin parámetros</span><span class="sxs-lookup"><span data-stu-id="ea76e-230">The parameterless <xref:System.DateTime.ToString?displayProperty=nameWithType> method</span></span>

- <span data-ttu-id="ea76e-231">El método <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType>, que incluye una cadena de formato</span><span class="sxs-lookup"><span data-stu-id="ea76e-231">The <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> method, which includes a format string</span></span>

- <span data-ttu-id="ea76e-232">El método <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType> sin parámetros</span><span class="sxs-lookup"><span data-stu-id="ea76e-232">The parameterless <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType> method</span></span>

- <span data-ttu-id="ea76e-233"><xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType>, que incluye una cadena de formato</span><span class="sxs-lookup"><span data-stu-id="ea76e-233">The <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType>, which includes a format string</span></span>

- <span data-ttu-id="ea76e-234">La característica [formatos compuestos](../base-types/composite-formatting.md), cuando se usa con fechas</span><span class="sxs-lookup"><span data-stu-id="ea76e-234">The [composite formatting](../base-types/composite-formatting.md) feature, when it is used with dates</span></span>

<span data-ttu-id="ea76e-235">En el ejemplo siguiente, se muestran datos de amanecer y puesta de sol duplicados para el 11 de octubre de 2012.</span><span class="sxs-lookup"><span data-stu-id="ea76e-235">The following example displays sunrise and sunset data twice for October 11, 2012.</span></span> <span data-ttu-id="ea76e-236">Primero, establece la referencia cultural actual a croata (Croacia) y, después, a inglés (Gran Bretaña).</span><span class="sxs-lookup"><span data-stu-id="ea76e-236">It first sets the current culture to Croatian (Croatia), and then to English (Great Britain).</span></span> <span data-ttu-id="ea76e-237">En cada caso, las fechas y horas se muestran en el formato adecuado para esa referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-237">In each case, the dates and times are displayed in the format that is appropriate for that culture.</span></span>

[!code-csharp[Conceptual.Globalization#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates1.cs#2)]
[!code-vb[Conceptual.Globalization#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates1.vb#2)]

### <a name="persist-dates-and-times"></a><span data-ttu-id="ea76e-238">Conservación de las fechas y horas</span><span class="sxs-lookup"><span data-stu-id="ea76e-238">Persist dates and times</span></span>

<span data-ttu-id="ea76e-239">Nunca debe conservar datos de fecha y hora en un formato que puede variar según la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-239">You should never persist date and time data in a format that can vary by culture.</span></span> <span data-ttu-id="ea76e-240">Se trata de un error de programación común que produce datos dañados o una excepción en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="ea76e-240">This is a common programming error that results in either corrupted data or a run-time exception.</span></span> <span data-ttu-id="ea76e-241">En el ejemplo siguiente se serializan dos fechas, 9 de enero de 2013 y 18 de agosto de 2013, como cadenas mediante las convenciones de formato de la referencia cultural del inglés (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="ea76e-241">The following example serializes two dates, January 9, 2013 and August 18, 2013, as strings by using the formatting conventions of the English (United States) culture.</span></span> <span data-ttu-id="ea76e-242">Cuando los datos se recuperan y analizan mediante las convenciones de la referencia cultural del inglés (Estados Unidos), se restauran correctamente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-242">When the data is retrieved and parsed by using the conventions of the English (United States) culture, it is successfully restored.</span></span> <span data-ttu-id="ea76e-243">En cambio, cuando se recuperan y analizan mediante las convenciones de la referencia cultural del inglés (Reino Unido), la primera fecha se interpreta de forma errónea como el 1 de septiembre y la segunda no se puede analizar porque el calendario gregoriano no tiene un decimoctavo mes.</span><span class="sxs-lookup"><span data-stu-id="ea76e-243">However, when it is retrieved and parsed by using the conventions of the English (United Kingdom) culture, the first date is wrongly interpreted as September 1, and the second fails to parse because the Gregorian calendar does not have an eighteenth month.</span></span>

[!code-csharp[Conceptual.Globalization#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates2.cs#3)]
[!code-vb[Conceptual.Globalization#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates2.vb#3)]

<span data-ttu-id="ea76e-244">Puede evitar este problema de cualquiera de estas tres maneras:</span><span class="sxs-lookup"><span data-stu-id="ea76e-244">You can avoid this problem in any of three ways:</span></span>

- <span data-ttu-id="ea76e-245">Serializar la fecha y hora en formato binario en lugar de como una cadena.</span><span class="sxs-lookup"><span data-stu-id="ea76e-245">Serialize the date and time in binary format rather than as a string.</span></span>

- <span data-ttu-id="ea76e-246">Guardar y analizar la representación de la cadena de fecha y hora mediante una cadena de formato personalizado que sea el mismo independientemente de la referencia cultural del usuario.</span><span class="sxs-lookup"><span data-stu-id="ea76e-246">Save and parse the string representation of the date and time by using a custom format string that is the same regardless of the user's culture.</span></span>

- <span data-ttu-id="ea76e-247">Guardar la cadena mediante las convenciones de formato de la referencia cultural invariable.</span><span class="sxs-lookup"><span data-stu-id="ea76e-247">Save the string by using the formatting conventions of the invariant culture.</span></span>

<span data-ttu-id="ea76e-248">En el ejemplo siguiente se muestra el último enfoque.</span><span class="sxs-lookup"><span data-stu-id="ea76e-248">The following example illustrates the last approach.</span></span> <span data-ttu-id="ea76e-249">Usa las convenciones de formato de la referencia cultural invariable que devuelve la propiedad <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> estática.</span><span class="sxs-lookup"><span data-stu-id="ea76e-249">It uses the formatting conventions of the invariant culture returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>

[!code-csharp[Conceptual.Globalization#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates3.cs#4)]
[!code-vb[Conceptual.Globalization#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates3.vb#4)]

### <a name="serialization-and-time-zone-awareness"></a><span data-ttu-id="ea76e-250">Reconocimiento de la serialización y la zona horaria</span><span class="sxs-lookup"><span data-stu-id="ea76e-250">Serialization and time zone awareness</span></span>

<span data-ttu-id="ea76e-251">Un valor de fecha y hora puede tener varias interpretaciones, desde una hora general ("Las tiendas abren el 2 de enero de 2013 a las 9:00") hasta un momento específico en el tiempo ("Fecha de nacimiento: 2 de enero de 2013 a las 6:32:00").</span><span class="sxs-lookup"><span data-stu-id="ea76e-251">A date and time value can have multiple interpretations, ranging from a general time ("The stores open on January 2, 2013, at 9:00 A.M.") to a specific moment in time ("Date of birth: January 2, 2013 6:32:00 A.M.").</span></span> <span data-ttu-id="ea76e-252">Cuando un valor de tiempo representa un momento específico en el tiempo y lo restaura desde un valor serializado, debe asegurarse de que representa el mismo momento en el tiempo, independientemente de la ubicación geográfica o la zona horaria del usuario.</span><span class="sxs-lookup"><span data-stu-id="ea76e-252">When a time value represents a specific moment in time and you restore it from a serialized value, you should ensure that it represents the same moment in time regardless of the user's geographical location or time zone.</span></span>

<span data-ttu-id="ea76e-253">El siguiente ejemplo ilustra este problema.</span><span class="sxs-lookup"><span data-stu-id="ea76e-253">The following example illustrates this problem.</span></span> <span data-ttu-id="ea76e-254">Guarda un solo valor de fecha y hora local como una cadena en tres [formatos estándar](../base-types/standard-date-and-time-format-strings.md) ("G" para hora larga de fecha general, "s" para la fecha y hora que se puede ordenar y "o" para la fecha y hora de ida y vuelta), así como en formato binario.</span><span class="sxs-lookup"><span data-stu-id="ea76e-254">It saves a single local date and time value as a string in three [standard formats](../base-types/standard-date-and-time-format-strings.md) ("G" for general date long time, "s" for sortable date/time, and "o" for round-trip date/time) as well as in binary format.</span></span>

[!code-csharp[Conceptual.Globalization#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates4.cs#10)]
[!code-vb[Conceptual.Globalization#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates4.vb#10)]

<span data-ttu-id="ea76e-255">Cuando se restauran los datos en un sistema en la misma zona horaria que el sistema en el que se han serializado, los valores de fecha y hora deserializados reflejan exactamente el valor original, como muestra el resultado:</span><span class="sxs-lookup"><span data-stu-id="ea76e-255">When the data is restored on a system in the same time zone as the system on which it was serialized, the deserialized date and time values accurately reflect the original value, as the output shows:</span></span>

```console
'3/30/2013 6:00:00 PM' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00.0000000-07:00' --> 3/30/2013 6:00:00 PM Local

3/30/2013 6:00:00 PM Local
```

<span data-ttu-id="ea76e-256">En cambio, si restaura los datos en un sistema en una zona horaria diferente, solo el valor de fecha y hora con el formato de la cadena de formato estándar "o" (ida y vuelta) conserva la información de zona horaria y, por tanto, representa la misma instantánea en el tiempo.</span><span class="sxs-lookup"><span data-stu-id="ea76e-256">However, if you restore the data on a system in a different time zone, only the date and time value that was formatted with the "o" (round-trip) standard format string preserves time zone information and therefore represents the same instant in time.</span></span> <span data-ttu-id="ea76e-257">Este es el resultado cuando se restauran datos de fecha y hora en un sistema en la zona horaria estándar romance:</span><span class="sxs-lookup"><span data-stu-id="ea76e-257">Here's the output when the date and time data is restored on a system in the Romance Standard Time zone:</span></span>

```console
'3/30/2013 6:00:00 PM' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00.0000000-07:00' --> 3/31/2013 3:00:00 AM Local

3/30/2013 6:00:00 PM Local
```

<span data-ttu-id="ea76e-258">Para reflejar con exactitud el valor de fecha y hora que representa un único momento de tiempo, independientemente de la zona horaria del sistema en el que se deserializan los datos, puede realizar cualquiera de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="ea76e-258">To accurately reflect a date and time value that represents a single moment of time regardless of the time zone of the system on which the data is deserialized, you can do any of the following:</span></span>

- <span data-ttu-id="ea76e-259">Guarde el valor como una cadena mediante la cadena de formato estándar "o" (ida y vuelta).</span><span class="sxs-lookup"><span data-stu-id="ea76e-259">Save the value as a string by using the "o" (round-trip) standard format string.</span></span> <span data-ttu-id="ea76e-260">Después, deserialícelo en el sistema de destino.</span><span class="sxs-lookup"><span data-stu-id="ea76e-260">Then deserialize it on the target system.</span></span>

- <span data-ttu-id="ea76e-261">Conviértalo en UTC y guárdelo como una cadena mediante la cadena de formato estándar "r" (RFC1123).</span><span class="sxs-lookup"><span data-stu-id="ea76e-261">Convert it to UTC and save it as a string by using the "r" (RFC1123) standard format string.</span></span> <span data-ttu-id="ea76e-262">Luego, deserialícelo en el sistema de destino y conviértalo a la hora local.</span><span class="sxs-lookup"><span data-stu-id="ea76e-262">Then deserialize it on the target system and convert it to local time.</span></span>

- <span data-ttu-id="ea76e-263">Conviértalo en UTC y guárdelo como una cadena mediante la cadena de formato estándar "u" (universal que se puede ordenar).</span><span class="sxs-lookup"><span data-stu-id="ea76e-263">Convert it to UTC and save it as a string by using the "u" (universal sortable) standard format string.</span></span> <span data-ttu-id="ea76e-264">Luego, deserialícelo en el sistema de destino y conviértalo a la hora local.</span><span class="sxs-lookup"><span data-stu-id="ea76e-264">Then deserialize it on the target system and convert it to local time.</span></span>

- <span data-ttu-id="ea76e-265">Conviértalo en UTC y guárdelo en formato binario.</span><span class="sxs-lookup"><span data-stu-id="ea76e-265">Convert it to UTC and save it in binary format.</span></span> <span data-ttu-id="ea76e-266">Luego, deserialícelo en el sistema de destino y conviértalo a la hora local.</span><span class="sxs-lookup"><span data-stu-id="ea76e-266">Then deserialize it on the target system and convert it to local time.</span></span>

<span data-ttu-id="ea76e-267">En el siguiente ejemplo se ilustra cada técnica.</span><span class="sxs-lookup"><span data-stu-id="ea76e-267">The following example illustrates each technique.</span></span>

[!code-csharp[Conceptual.Globalization#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates8.cs#11)]
[!code-vb[Conceptual.Globalization#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates8.vb#11)]

<span data-ttu-id="ea76e-268">Cuando los datos se serializan en un sistema en la zona horaria estándar del Pacífico y se deserializan en un sistema en la zona horaria estándar romance, el ejemplo muestra el siguiente resultado:</span><span class="sxs-lookup"><span data-stu-id="ea76e-268">When the data is serialized on a system in the Pacific Standard Time zone and deserialized on a system in the Romance Standard Time zone, the example displays the following output:</span></span>

```console
'2013-03-30T18:00:00.0000000-07:00' --> 3/31/2013 3:00:00 AM Local
'Sun, 31 Mar 2013 01:00:00 GMT' --> 3/31/2013 3:00:00 AM Local
'2013-03-31 01:00:00Z' --> 3/31/2013 3:00:00 AM Local

3/31/2013 3:00:00 AM Local
```

<span data-ttu-id="ea76e-269">Para más información, vea [Convertir horas entre zonas horarias](../datetime/converting-between-time-zones.md).</span><span class="sxs-lookup"><span data-stu-id="ea76e-269">For more information, see [Converting Times Between Time Zones](../datetime/converting-between-time-zones.md).</span></span>

### <a name="perform-date-and-time-arithmetic"></a><span data-ttu-id="ea76e-270">Realización de operaciones aritméticas con fechas y horas</span><span class="sxs-lookup"><span data-stu-id="ea76e-270">Perform date and time arithmetic</span></span>

<span data-ttu-id="ea76e-271">Los tipos <xref:System.DateTime> y <xref:System.DateTimeOffset> admiten operaciones aritméticas.</span><span class="sxs-lookup"><span data-stu-id="ea76e-271">Both the <xref:System.DateTime> and <xref:System.DateTimeOffset> types support arithmetic operations.</span></span> <span data-ttu-id="ea76e-272">Puede calcular la diferencia entre dos valores de fecha, o puede agregar o restar intervalos de tiempo determinados a o de un valor de fecha.</span><span class="sxs-lookup"><span data-stu-id="ea76e-272">You can calculate the difference between two date values, or you can add or subtract particular time intervals to or from a date value.</span></span> <span data-ttu-id="ea76e-273">En cambio, las operaciones aritméticas en valores de fecha y hora no tienen en cuenta las zonas horarias ni las reglas de ajuste de zona horaria.</span><span class="sxs-lookup"><span data-stu-id="ea76e-273">However, arithmetic operations on date and time values do not take time zones and time zone adjustment rules into account.</span></span> <span data-ttu-id="ea76e-274">Por este motivo, la fecha y hora aritméticas en valores que representan momentos en el tiempo pueden devolver resultados inexactos.</span><span class="sxs-lookup"><span data-stu-id="ea76e-274">Because of this, date and time arithmetic on values that represent moments in time can return inaccurate results.</span></span>

<span data-ttu-id="ea76e-275">Por ejemplo, la transición de la hora estándar del Pacífico a la hora de verano del Pacífico tiene lugar el segundo domingo de marzo, que, en el año 2013, es el 10 de marzo.</span><span class="sxs-lookup"><span data-stu-id="ea76e-275">For example, the transition from Pacific Standard Time to Pacific Daylight Time occurs on the second Sunday of March, which is March 10 for the year 2013.</span></span> <span data-ttu-id="ea76e-276">Como se muestra en el ejemplo siguiente, si calcula la fecha y hora 48 horas después del 9 de marzo de 2013 a las 10:30 a. m.</span><span class="sxs-lookup"><span data-stu-id="ea76e-276">As the following example shows, if you calculate the date and time that is 48 hours after March 9, 2013 at 10:30 A.M.</span></span> <span data-ttu-id="ea76e-277">en un sistema en la zona horaria estándar del Pacífico, el resultado, el 11 de marzo de 2013 a las 10:30 a. m., no tiene en cuenta el ajuste de hora de intervención.</span><span class="sxs-lookup"><span data-stu-id="ea76e-277">on a system in the Pacific Standard Time zone, the result, March 11, 2013 at 10:30 A.M., does not take the intervening time adjustment into account.</span></span>

[!code-csharp[Conceptual.Globalization#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates5.cs#8)]
[!code-vb[Conceptual.Globalization#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates5.vb#8)]

<span data-ttu-id="ea76e-278">Para asegurarse de que una operación aritmética en valores de fecha y hora produce resultados precisos, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="ea76e-278">To ensure that an arithmetic operation on date and time values produces accurate results, follow these steps:</span></span>

1. <span data-ttu-id="ea76e-279">Convierta la hora en la zona horaria de origen a UTC.</span><span class="sxs-lookup"><span data-stu-id="ea76e-279">Convert the time in the source time zone to UTC.</span></span>

2. <span data-ttu-id="ea76e-280">Realice la operación aritmética.</span><span class="sxs-lookup"><span data-stu-id="ea76e-280">Perform the arithmetic operation.</span></span>

3. <span data-ttu-id="ea76e-281">Si el resultado es un valor de fecha y hora, conviértalo de la hora UTC a la hora de la zona horaria de origen.</span><span class="sxs-lookup"><span data-stu-id="ea76e-281">If the result is a date and time value, convert it from UTC to the time in the source time zone.</span></span>

<span data-ttu-id="ea76e-282">El ejemplo siguiente es similar al anterior, salvo que sigue estos tres pasos para agregar de forma correcta 48 horas al 9 de marzo de 2013 a las 10:30 a. m.</span><span class="sxs-lookup"><span data-stu-id="ea76e-282">The following example is similar to the previous example, except that it follows these three steps to correctly add 48 hours to March 9, 2013 at 10:30 A.M.</span></span>

[!code-csharp[Conceptual.Globalization#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates6.cs#9)]
[!code-vb[Conceptual.Globalization#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates6.vb#9)]

<span data-ttu-id="ea76e-283">Para más información, vea [Efectuar operaciones aritméticas con fechas y horas](../datetime/performing-arithmetic-operations.md).</span><span class="sxs-lookup"><span data-stu-id="ea76e-283">For more information, see [Performing Arithmetic Operations with Dates and Times](../datetime/performing-arithmetic-operations.md).</span></span>

### <a name="use-culture-sensitive-names-for-date-elements"></a><span data-ttu-id="ea76e-284">Uso de nombres que tienen en cuenta las referencias culturales para elementos de fecha</span><span class="sxs-lookup"><span data-stu-id="ea76e-284">Use culture-sensitive names for date elements</span></span>

<span data-ttu-id="ea76e-285">Puede que su aplicación tenga que mostrar el nombre del mes o el día de la semana.</span><span class="sxs-lookup"><span data-stu-id="ea76e-285">Your app may need to display the name of the month or the day of the week.</span></span> <span data-ttu-id="ea76e-286">Para ello, es común código como el siguiente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-286">To do this, code such as the following is common.</span></span>

[!code-csharp[Conceptual.Globalization#19](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/monthname1.cs#19)]
[!code-vb[Conceptual.Globalization#19](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/monthname1.vb#19)]

<span data-ttu-id="ea76e-287">En cambio, este código devuelve siempre los nombres de los días de la semana en inglés.</span><span class="sxs-lookup"><span data-stu-id="ea76e-287">However, this code always returns the names of the days of the week in English.</span></span> <span data-ttu-id="ea76e-288">El código que extrae el nombre del mes es, a menudo, aún más inflexible.</span><span class="sxs-lookup"><span data-stu-id="ea76e-288">Code that extracts the name of the month is often even more inflexible.</span></span> <span data-ttu-id="ea76e-289">Con frecuencia, asume un calendario de doce meses con nombres de meses en un idioma específico.</span><span class="sxs-lookup"><span data-stu-id="ea76e-289">It frequently assumes a twelve-month calendar with names of months in a specific language.</span></span>

<span data-ttu-id="ea76e-290">Mediante el uso de [cadenas de formato de fecha y hora personalizadas](../base-types/custom-date-and-time-format-strings.md) o las propiedades del objeto <xref:System.Globalization.DateTimeFormatInfo>, es fácil extraer cadenas que muestran los nombres de días de la semana o meses en la referencia cultural del usuario, como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-290">By using [custom date and time format strings](../base-types/custom-date-and-time-format-strings.md) or the properties of the <xref:System.Globalization.DateTimeFormatInfo> object, it is easy to extract strings that reflect the names of days of the week or months in the user's culture, as the following example illustrates.</span></span> <span data-ttu-id="ea76e-291">Cambia la referencia cultural actual al francés (Francia) y muestra el nombre del día de la semana y el nombre del mes del 1 de julio de 2013.</span><span class="sxs-lookup"><span data-stu-id="ea76e-291">It changes the current culture to French (France) and displays the name of the day of the week and the name of the month for July 1, 2013.</span></span>

[!code-csharp[Conceptual.Globalization#20](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/monthname2.cs#20)]
[!code-vb[Conceptual.Globalization#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/monthname2.vb#20)]

## <a name="numeric-values"></a><span data-ttu-id="ea76e-292">Valores numéricos</span><span class="sxs-lookup"><span data-stu-id="ea76e-292">Numeric values</span></span>

<span data-ttu-id="ea76e-293">El control de los números depende de si se muestran en la interfaz de usuario o si se conservan.</span><span class="sxs-lookup"><span data-stu-id="ea76e-293">The handling of numbers depends on whether they are displayed in the user interface or persisted.</span></span> <span data-ttu-id="ea76e-294">En esta sección se examinan ambos usos.</span><span class="sxs-lookup"><span data-stu-id="ea76e-294">This section examines both usages.</span></span>

> [!NOTE]
> <span data-ttu-id="ea76e-295">En operaciones de formato y análisis, .NET reconoce solo los caracteres latinos básicos de 0 a 9 (U+0030 a U+0039) como dígitos numéricos.</span><span class="sxs-lookup"><span data-stu-id="ea76e-295">In parsing and formatting operations, .NET recognizes only the Basic Latin characters 0 through 9 (U+0030 through U+0039) as numeric digits.</span></span>

### <a name="display-numeric-values"></a><span data-ttu-id="ea76e-296">Visualización de los valores numéricos</span><span class="sxs-lookup"><span data-stu-id="ea76e-296">Display numeric values</span></span>

<span data-ttu-id="ea76e-297">Normalmente, cuando los números se muestran en la interfaz de usuario, debe usar las convenciones de formato de la referencia cultural del usuario, que definen la propiedad <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> y el objeto <xref:System.Globalization.NumberFormatInfo> que devuelve la propiedad `CultureInfo.CurrentCulture.NumberFormat`.</span><span class="sxs-lookup"><span data-stu-id="ea76e-297">Typically, when numbers are displayed in the user interface, you should use the formatting conventions of the user's culture, which is defined by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property and by the <xref:System.Globalization.NumberFormatInfo> object returned by the `CultureInfo.CurrentCulture.NumberFormat` property.</span></span> <span data-ttu-id="ea76e-298">Las convenciones de formato de la referencia cultural actual se usan de forma automática al dar formato a una fecha mediante cualquiera de los siguientes métodos:</span><span class="sxs-lookup"><span data-stu-id="ea76e-298">The formatting conventions of the current culture are automatically used when you format a date by using any of the following methods:</span></span>

- <span data-ttu-id="ea76e-299">El método `ToString` sin parámetros de cualquier tipo numérico</span><span class="sxs-lookup"><span data-stu-id="ea76e-299">The parameterless `ToString` method of any numeric type</span></span>

- <span data-ttu-id="ea76e-300">El método `ToString(String)` de cualquier tipo numérico, que incluye una cadena de formato como un argumento</span><span class="sxs-lookup"><span data-stu-id="ea76e-300">The `ToString(String)` method of any numeric type, which includes a format string as an argument</span></span>

- <span data-ttu-id="ea76e-301">La característica [formatos compuestos](../base-types/composite-formatting.md), cuando se usa con valores numéricos</span><span class="sxs-lookup"><span data-stu-id="ea76e-301">The [composite formatting](../base-types/composite-formatting.md) feature, when it is used with numeric values</span></span>

<span data-ttu-id="ea76e-302">En el ejemplo siguiente se muestra el promedio de temperatura por mes en París, Francia.</span><span class="sxs-lookup"><span data-stu-id="ea76e-302">The following example displays the average temperature per month in Paris, France.</span></span> <span data-ttu-id="ea76e-303">Primero, establece la referencia cultural actual al francés (Francia) antes de mostrar los datos y, después, la establece en inglés (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="ea76e-303">It first sets the current culture to French (France) before displaying the data, and then sets it to English (United States).</span></span> <span data-ttu-id="ea76e-304">En cada caso, los nombres de meses y las temperaturas se muestran en el formato adecuado para esa referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-304">In each case, the month names and temperatures are displayed in the format that is appropriate for that culture.</span></span> <span data-ttu-id="ea76e-305">Tenga en cuenta que las dos referencias culturales usan separadores decimales diferentes en el valor de temperatura.</span><span class="sxs-lookup"><span data-stu-id="ea76e-305">Note that the two cultures use different decimal separators in the temperature value.</span></span> <span data-ttu-id="ea76e-306">Tenga en cuenta también que en el ejemplo se usa la cadena de formato de fecha y hora "MMMM" personalizada para mostrar el nombre completo del mes y que asigna la cantidad de espacio adecuada para el nombre del mes en la cadena de resultado al determinar la longitud del nombre del mes más largo en la matriz <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-306">Also note that the example uses the "MMMM" custom date and time format string to display the full month name, and that it allocates the appropriate amount of space for the month name in the result string by determining the length of the longest month name in the <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType> array.</span></span>

[!code-csharp[Conceptual.Globalization#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers1.cs#5)]
[!code-vb[Conceptual.Globalization#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers1.vb#5)]

### <a name="persist-numeric-values"></a><span data-ttu-id="ea76e-307">Conservación de los valores numéricos</span><span class="sxs-lookup"><span data-stu-id="ea76e-307">Persist numeric values</span></span>

<span data-ttu-id="ea76e-308">Nunca debe conservar datos numéricos en un formato específico de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-308">You should never persist numeric data in a culture-specific format.</span></span> <span data-ttu-id="ea76e-309">Se trata de un error de programación común que produce datos dañados o una excepción en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="ea76e-309">This is a common programming error that results in either corrupted data or a run-time exception.</span></span> <span data-ttu-id="ea76e-310">En el ejemplo siguiente, se generan diez números de punto flotante aleatorios y, después, se serializan como cadenas mediante las convenciones de formato de la referencia cultural de inglés (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="ea76e-310">The following example generates ten random floating-point numbers, and then serializes them as strings by using the formatting conventions of the English (United States) culture.</span></span> <span data-ttu-id="ea76e-311">Cuando los datos se recuperan y analizan mediante las convenciones de la referencia cultural del inglés (Estados Unidos), se restauran correctamente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-311">When the data is retrieved and parsed by using the conventions of the English (United States) culture, it is successfully restored.</span></span> <span data-ttu-id="ea76e-312">En cambio, cuando se recuperan y analizan mediante las convenciones de la referencia cultural de francés (Francia), no se puede analizar ninguno de los números porque las referencias culturales usan separadores decimales diferentes.</span><span class="sxs-lookup"><span data-stu-id="ea76e-312">However, when it is retrieved and parsed by using the conventions of the French (France) culture, none of the numbers can be parsed because the cultures use different decimal separators.</span></span>

[!code-csharp[Conceptual.Globalization#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers2.cs#6)]
[!code-vb[Conceptual.Globalization#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers2.vb#6)]

<span data-ttu-id="ea76e-313">Para evitar este problema, puede usar una de estas técnicas:</span><span class="sxs-lookup"><span data-stu-id="ea76e-313">To avoid this problem, you can use one of these techniques:</span></span>

- <span data-ttu-id="ea76e-314">Guardar y analizar la representación de la cadena del número mediante una cadena de formato personalizado que sea el mismo independientemente de la referencia cultural del usuario.</span><span class="sxs-lookup"><span data-stu-id="ea76e-314">Save and parse the string representation of the number by using a custom format string that is the same regardless of the user's culture.</span></span>

- <span data-ttu-id="ea76e-315">Guardar el número como una cadena mediante las convenciones de formato de la referencia cultural, que devuelve la propiedad <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-315">Save the number as a string by using the formatting conventions of the invariant culture, which is returned by the <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="ea76e-316">Serializar el número en formato binario en lugar del formato de cadena.</span><span class="sxs-lookup"><span data-stu-id="ea76e-316">Serialize the number in binary instead of string format.</span></span>

<span data-ttu-id="ea76e-317">En el ejemplo siguiente se muestra el último enfoque.</span><span class="sxs-lookup"><span data-stu-id="ea76e-317">The following example illustrates the last approach.</span></span> <span data-ttu-id="ea76e-318">Serializa la matriz de valores <xref:System.Double> y, después, los deserializa y muestra mediante las convenciones de formato de las referencias culturales de francés (Francia) e inglés (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="ea76e-318">It serializes the array of <xref:System.Double> values, and then deserializes and displays them by using the formatting conventions of the English (United States) and French (France) cultures.</span></span>

[!code-csharp[Conceptual.Globalization#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers3.cs#7)]
[!code-vb[Conceptual.Globalization#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers3.vb#7)]

<span data-ttu-id="ea76e-319">La serialización de valores de moneda es un caso especial.</span><span class="sxs-lookup"><span data-stu-id="ea76e-319">Serializing currency values is a special case.</span></span> <span data-ttu-id="ea76e-320">Dado que un valor de moneda depende de la unidad de moneda en que se expresa, no tiene sentido tratarlo como un valor numérico independiente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-320">Because a currency value depends on the unit of currency in which it is expressed; it makes little sense to treat it as an independent numeric value.</span></span> <span data-ttu-id="ea76e-321">En cambio, si guarda un valor de moneda como una cadena con formato que incluye un símbolo de moneda, no se puede deserializar en un sistema cuya referencia cultural predeterminada use otro símbolo de moneda, como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-321">However, if you save a currency value as a formatted string that includes a currency symbol, it cannot be deserialized on a system whose default culture uses a different currency symbol, as the following example shows.</span></span>

[!code-csharp[Conceptual.Globalization#16](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/currency1.cs#16)]
[!code-vb[Conceptual.Globalization#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/currency1.vb#16)]

<span data-ttu-id="ea76e-322">En su lugar, debe serializar el valor numérico junto con alguna información de referencia cultural, como el nombre de la referencia cultural, para que se puedan deserializar el valor y el símbolo de moneda independientemente de la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="ea76e-322">Instead, you should serialize the numeric value along with some cultural information, such as the name of the culture, so that the value and its currency symbol can be deserialized independently of the current culture.</span></span> <span data-ttu-id="ea76e-323">En el ejemplo siguiente, se hace mediante la definición de una estructura `CurrencyValue` con dos miembros: el valor <xref:System.Decimal> y el nombre de la referencia cultural a la que pertenece el valor.</span><span class="sxs-lookup"><span data-stu-id="ea76e-323">The following example does that by defining a `CurrencyValue` structure with two members: the <xref:System.Decimal> value and the name of the culture to which the value belongs.</span></span>

[!code-csharp[Conceptual.Globalization#17](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/currency2.cs#17)]
[!code-vb[Conceptual.Globalization#17](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/currency2.vb#17)]

## <a name="work-with-culture-specific-settings"></a><span data-ttu-id="ea76e-324">Trabajo con configuraciones específicas de la referencia cultural</span><span class="sxs-lookup"><span data-stu-id="ea76e-324">Work with culture-specific settings</span></span>

<span data-ttu-id="ea76e-325">En .NET, la clase <xref:System.Globalization.CultureInfo> representa una referencia cultural o región determinada.</span><span class="sxs-lookup"><span data-stu-id="ea76e-325">In .NET, the <xref:System.Globalization.CultureInfo> class represents a particular culture or region.</span></span> <span data-ttu-id="ea76e-326">Algunas de sus propiedades devuelven objetos que proporcionan información específica sobre algún aspecto de una referencia cultural:</span><span class="sxs-lookup"><span data-stu-id="ea76e-326">Some of its properties return objects that provide specific information about some aspect of a culture:</span></span>

- <span data-ttu-id="ea76e-327">La propiedad <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> devuelve un objeto <xref:System.Globalization.CompareInfo> que contiene información sobre cómo compara y ordena las cadenas la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-327">The <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.CompareInfo> object that contains information about how the culture compares and orders strings.</span></span>

- <span data-ttu-id="ea76e-328">La propiedad <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> devuelve un objeto <xref:System.Globalization.DateTimeFormatInfo> que proporciona información específica de la referencia cultural usada en el formato de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="ea76e-328">The <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.DateTimeFormatInfo> object that provides culture-specific information used in formatting date and time data.</span></span>

- <span data-ttu-id="ea76e-329">La propiedad <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> devuelve un objeto <xref:System.Globalization.NumberFormatInfo> que proporciona información específica de la referencia cultural usada en el formato de datos numéricos.</span><span class="sxs-lookup"><span data-stu-id="ea76e-329">The <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.NumberFormatInfo> object that provides culture-specific information used in formatting numeric data.</span></span>

- <span data-ttu-id="ea76e-330">La propiedad <xref:System.Globalization.CultureInfo.TextInfo%2A?displayProperty=nameWithType> devuelve un objeto <xref:System.Globalization.TextInfo> que proporciona información sobre el sistema de escritura de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-330">The <xref:System.Globalization.CultureInfo.TextInfo%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.TextInfo> object that provides information about the culture's writing system.</span></span>

<span data-ttu-id="ea76e-331">En general, no realice ninguna suposición sobre los valores de propiedades <xref:System.Globalization.CultureInfo> específicas y sus objetos relacionados.</span><span class="sxs-lookup"><span data-stu-id="ea76e-331">In general, do not make any assumptions about the values of specific <xref:System.Globalization.CultureInfo> properties and their related objects.</span></span> <span data-ttu-id="ea76e-332">En su lugar, debería ver datos específicos de la referencia cultural como sujetos a cambios, por estos motivos:</span><span class="sxs-lookup"><span data-stu-id="ea76e-332">Instead, you should view culture-specific data as subject to change, for these reasons:</span></span>

- <span data-ttu-id="ea76e-333">Los valores de propiedad individual están sujetos a cambios y revisión con el tiempo, ya que los datos se corrigen, hay mejores datos disponibles, o se cambian las convenciones específicas de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="ea76e-333">Individual property values are subject to change and revision over time, as data is corrected, better data becomes available, or culture-specific conventions change.</span></span>

- <span data-ttu-id="ea76e-334">Los valores de propiedad individual pueden variar entre las versiones de .NET o del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ea76e-334">Individual property values may vary across versions of .NET or operating system versions.</span></span>

- <span data-ttu-id="ea76e-335">.NET es compatible con referencias culturales de reemplazo.</span><span class="sxs-lookup"><span data-stu-id="ea76e-335">.NET supports replacement cultures.</span></span> <span data-ttu-id="ea76e-336">Esto permite definir una nueva referencia cultural personalizada que complementa las referencias culturales estándares existentes o reemplaza por completo una referencia cultural estándar existente.</span><span class="sxs-lookup"><span data-stu-id="ea76e-336">This makes it possible to define a new custom culture that either supplements existing standard cultures or completely replaces an existing standard culture.</span></span>

- <span data-ttu-id="ea76e-337">En sistemas Windows, el usuario puede personalizar la configuración específica de la referencia cultural mediante la aplicación **Región e idioma** del Panel de control.</span><span class="sxs-lookup"><span data-stu-id="ea76e-337">On Windows systems, the user can customize culture-specific settings by using the **Region and Language** app in Control Panel.</span></span> <span data-ttu-id="ea76e-338">Al crear una instancia de un objeto <xref:System.Globalization.CultureInfo>, puede determinar si muestra estas personalizaciones de usuario mediante una llamada al constructor <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29>.</span><span class="sxs-lookup"><span data-stu-id="ea76e-338">When you instantiate a <xref:System.Globalization.CultureInfo> object, you can determine whether it reflects these user customizations by calling the <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29> constructor.</span></span> <span data-ttu-id="ea76e-339">Normalmente, en las aplicaciones de usuario final hay que respetar las preferencias del usuario para que este pueda ver los datos en un formato que espera.</span><span class="sxs-lookup"><span data-stu-id="ea76e-339">Typically, for end-user apps, you should respect user preferences so that the user is presented with data in a format that they expect.</span></span>

## <a name="see-also"></a><span data-ttu-id="ea76e-340">Vea también</span><span class="sxs-lookup"><span data-stu-id="ea76e-340">See also</span></span>

- [<span data-ttu-id="ea76e-341">Globalización y localización</span><span class="sxs-lookup"><span data-stu-id="ea76e-341">Globalization and Localization</span></span>](index.md)
- [<span data-ttu-id="ea76e-342">Procedimientos recomendados para el uso de cadenas</span><span class="sxs-lookup"><span data-stu-id="ea76e-342">Best Practices for Using Strings</span></span>](../base-types/best-practices-strings.md)
