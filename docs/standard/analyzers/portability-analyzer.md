---
title: Analizador de portabilidad de .NET | .NET
description: Obtenga información sobre cómo usar la herramienta Analizador de portabilidad de .NET para evaluar la portabilidad de su código entre las diferentes implementaciones de .NET, incluidos .NET Core, .NET Standard, UWP y Xamarin.
ms.date: 09/13/2019
ms.assetid: 0375250f-5704-4993-a6d5-e21c499cea1e
ms.openlocfilehash: 03b5f88a17baf8713b06bdd0eac192d9e093b969
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/18/2020
ms.locfileid: "94819713"
---
# <a name="the-net-portability-analyzer"></a><span data-ttu-id="70df9-103">Analizador de portabilidad de .NET</span><span class="sxs-lookup"><span data-stu-id="70df9-103">The .NET Portability Analyzer</span></span>

<span data-ttu-id="70df9-104">¿Quiere que sus bibliotecas sean multiplataforma?</span><span class="sxs-lookup"><span data-stu-id="70df9-104">Want to make your libraries support multi-platform?</span></span> <span data-ttu-id="70df9-105">¿Quiere ver cuánto trabajo se requiere para que su aplicación de .NET Framework se ejecute en .NET Core?</span><span class="sxs-lookup"><span data-stu-id="70df9-105">Want to see how much work is required to make your .NET Framework application run on .NET Core?</span></span> <span data-ttu-id="70df9-106">El [Analizador de portabilidad de .NET](https://github.com/microsoft/dotnet-apiport) es una herramienta que analiza ensamblados y proporciona un informe detallado sobre las API de .NET que faltan para que las aplicaciones o bibliotecas sean portátiles en las plataformas .NET de destino.</span><span class="sxs-lookup"><span data-stu-id="70df9-106">The [.NET Portability Analyzer](https://github.com/microsoft/dotnet-apiport) is a tool that analyzes assemblies and provides a detailed report on .NET APIs that are missing for the applications or libraries to be portable on your specified targeted .NET platforms.</span></span> <span data-ttu-id="70df9-107">El analizador de portabilidad se ofrece como una [extensión de Visual Studio](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), que analiza un ensamblado por proyecto y, como una [aplicación de consola ApiPort](https://aka.ms/apiportdownload), que analiza los ensamblados por archivos especificados o directorio.</span><span class="sxs-lookup"><span data-stu-id="70df9-107">The Portability Analyzer is offered as a [Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), which analyzes one assembly per project, and as a [ApiPort console app](https://aka.ms/apiportdownload), which analyzes assemblies by specified files or directory.</span></span>

<span data-ttu-id="70df9-108">Cuando haya convertido el proyecto para que tenga como destino la nueva plataforma, como .NET Core, puede usar la [herramienta del analizador de API](api-analyzer.md) basada en Roslyn para identificar las API que producen excepciones <xref:System.PlatformNotSupportedException> y otras incidencias de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="70df9-108">Once you've converted your project to target the new platform, like .NET Core, you can use the Roslyn-based [API Analyzer tool](api-analyzer.md) to identify APIs throwing <xref:System.PlatformNotSupportedException> exceptions and other compatibility issues.</span></span>

## <a name="common-targets"></a><span data-ttu-id="70df9-109">Destinos comunes</span><span class="sxs-lookup"><span data-stu-id="70df9-109">Common targets</span></span>

- <span data-ttu-id="70df9-110">[.NET Core](../../core/introduction.md): tiene un diseño modular, admite la instalación en paralelo y está dirigido a escenarios multiplataforma.</span><span class="sxs-lookup"><span data-stu-id="70df9-110">[.NET Core](../../core/introduction.md): Has a modular design, supports side-by-side installation, and targets cross-platform scenarios.</span></span> <span data-ttu-id="70df9-111">La instalación en paralelo permite adoptar nuevas versiones de .NET Core sin que ello afecte a otras aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="70df9-111">Side-by-side installation allows you to adopt new .NET Core versions without breaking other apps.</span></span> <span data-ttu-id="70df9-112">Si su objetivo es portar su aplicación a .NET Core para que sea compatible con varias plataformas, este es el destino recomendado.</span><span class="sxs-lookup"><span data-stu-id="70df9-112">If your goal is to port your app to .NET Core and support multiple platforms, this is the recommended target.</span></span>
- <span data-ttu-id="70df9-113">.[NET Standard](../net-standard.md): Incluye las API de .NET Standard disponibles en todas las implementaciones de .NET.</span><span class="sxs-lookup"><span data-stu-id="70df9-113">.[NET Standard](../net-standard.md): Includes the .NET Standard APIs available on all .NET implementations.</span></span> <span data-ttu-id="70df9-114">Si su objetivo es que la biblioteca se ejecute en todas las plataformas compatibles con .NET, este es el destino recomendado.</span><span class="sxs-lookup"><span data-stu-id="70df9-114">If your goal is to make your library run on all .NET supported platforms, this is recommended target.</span></span>
- <span data-ttu-id="70df9-115">[ASP.NET Core](/aspnet/core): Un marco web moderno basado en .NET Core.</span><span class="sxs-lookup"><span data-stu-id="70df9-115">[ASP.NET Core](/aspnet/core): A modern web-framework built on .NET Core.</span></span> <span data-ttu-id="70df9-116">Si su objetivo es portar su aplicación web a .NET Core para que sea compatible con varias plataformas, éste es el destino recomendado.</span><span class="sxs-lookup"><span data-stu-id="70df9-116">If your goal is to port your web app to .NET Core to support multiple platforms, this is the recommended target.</span></span>
- <span data-ttu-id="70df9-117">.NET Core + [extensiones de plataforma](../../core/porting/windows-compat-pack.md): Incluye las API de .NET Core además del paquete de compatibilidad de Windows, que proporciona muchas de las tecnologías disponibles de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="70df9-117">.NET Core + [Platform Extensions](../../core/porting/windows-compat-pack.md): Includes the .NET Core APIs in addition to the Windows Compatibility Pack, which provides many of the .NET Framework available technologies.</span></span> <span data-ttu-id="70df9-118">Se trata de un destino recomendado para la portabilidad de la aplicación de .NET Framework a .NET Core en Windows.</span><span class="sxs-lookup"><span data-stu-id="70df9-118">This is a recommended target for porting your app from .NET Framework to .NET Core on Windows.</span></span>
- <span data-ttu-id="70df9-119">.NET standard + [extensiones de la plataforma](../../core/porting/windows-compat-pack.md): Incluye las API de .NET Standard además del paquete de compatibilidad de Windows, que proporciona muchas de las tecnologías disponibles de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="70df9-119">.NET Standard + [Platform Extensions](../../core/porting/windows-compat-pack.md): Includes the .NET Standard APIs in addition to the Windows Compatibility Pack, which provides many of the .NET Framework available technologies.</span></span> <span data-ttu-id="70df9-120">Se trata de un destino recomendado para la portabilidad de la biblioteca de .NET Framework a .NET Core en Windows.</span><span class="sxs-lookup"><span data-stu-id="70df9-120">This is a recommended target for porting your library from .NET Framework to .NET Core on Windows.</span></span>

## <a name="how-to-use-the-net-portability-analyzer"></a><span data-ttu-id="70df9-121">Cómo usar el Analizador de portabilidad de .NET</span><span class="sxs-lookup"><span data-stu-id="70df9-121">How to use the .NET Portability Analyzer</span></span>

<span data-ttu-id="70df9-122">Para empezar a usar el Analizador de portabilidad de .NET en Visual Studio, primero debe descargar e instalar la extensión desde [Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer).</span><span class="sxs-lookup"><span data-stu-id="70df9-122">To begin using the .NET Portability Analyzer in Visual Studio, you first need to download and install the extension from the [Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer).</span></span> <span data-ttu-id="70df9-123">Funciona en Visual Studio 2017 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="70df9-123">It works on Visual Studio 2017 and later versions.</span></span> <span data-ttu-id="70df9-124">Configúrelo en Visual Studio, en **Analizar** > **Portability Analyzer Settings** (Configuración del Analizador de portabilidad), y seleccionando las plataformas de destino, que son las plataformas y versiones de .NET en las que se quiere evaluar las brechas de portabilidad en comparación con la plataforma y versión con la que se ha creado el ensamblado actual.</span><span class="sxs-lookup"><span data-stu-id="70df9-124">Configure it in Visual Studio via **Analyze** > **Portability Analyzer Settings** and select your Target Platforms, which are the .NET platforms/versions that you want to evaluate the portability gaps comparing with the platform/version that your current assembly is built with.</span></span>

![Captura de pantalla del analizador de portabilidad.](./media/portability-analyzer/portability-screenshot.png)

<span data-ttu-id="70df9-126">También puede usar la aplicación de consola ApiPort, descárguela desde [el repositorio de ApiPort](https://aka.ms/apiportdownload).</span><span class="sxs-lookup"><span data-stu-id="70df9-126">You can also use the ApiPort console application, download it from [ApiPort repository](https://aka.ms/apiportdownload).</span></span> <span data-ttu-id="70df9-127">Puede usar la opción de comando `listTargets` para mostrar la lista de destinos disponible y elegir las plataformas de destino especificando la opción de comando `-t` o `--target`.</span><span class="sxs-lookup"><span data-stu-id="70df9-127">You can use `listTargets` command option to display the available target list, then pick target platforms by specifying `-t` or `--target` command option.</span></span>

### <a name="solution-wide-view"></a><span data-ttu-id="70df9-128">Vista de toda la solución</span><span class="sxs-lookup"><span data-stu-id="70df9-128">Solution wide view</span></span>

<span data-ttu-id="70df9-129">Un paso útil en el análisis de una solución con muchos proyectos sería visualizar las dependencias para comprender qué subconjunto de ensamblados depende de qué.</span><span class="sxs-lookup"><span data-stu-id="70df9-129">A useful step in analyzing a solution with many projects would be to visualize the dependencies to understand which subset of assemblies depend on what.</span></span> <span data-ttu-id="70df9-130">La recomendación general es aplicar los resultados del análisis en un enfoque de orden ascendente a partir de los nodos hoja de un gráfico de dependencias.</span><span class="sxs-lookup"><span data-stu-id="70df9-130">The general recommendation is to apply the results of the analysis in a bottom-up approach starting with the leaf nodes in a dependency graph.</span></span>

<span data-ttu-id="70df9-131">Para recuperarlo, ejecute el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="70df9-131">To retrieve this, you may run the following command:</span></span>

```console
ApiPort.exe analyze -r DGML -f [directory or file]
```

<span data-ttu-id="70df9-132">El resultado sería similar al siguiente al abrirse en Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="70df9-132">A result of this would look like the following when opened in Visual Studio:</span></span>

![Captura de pantalla del análisis DGML.](./media/portability-analyzer/dgml-example.png)

### <a name="analyze-portability"></a><span data-ttu-id="70df9-134">Análisis de portabilidad</span><span class="sxs-lookup"><span data-stu-id="70df9-134">Analyze portability</span></span>
<span data-ttu-id="70df9-135">Para analizar todo el proyecto en Visual Studio, haga clic con el botón derecho en el proyecto en **Explorador de soluciones** y seleccione **Analyze Assembly Portability** (Analizar la portabilidad del ensamblado).</span><span class="sxs-lookup"><span data-stu-id="70df9-135">To analyze your entire project in Visual Studio, right-click on your project in **Solution Explorer** and select **Analyze Assembly Portability**.</span></span> <span data-ttu-id="70df9-136">También puede ir al menú **Analizar** y seleccionar **Analyze Assembly Portability** (Analizar la portabilidad del ensamblado).</span><span class="sxs-lookup"><span data-stu-id="70df9-136">Otherwise, go to the **Analyze** menu and select **Analyze Assembly Portability**.</span></span> <span data-ttu-id="70df9-137">Desde allí, seleccione el ejecutable o DLL del proyecto.</span><span class="sxs-lookup"><span data-stu-id="70df9-137">From there, select your project's executable or DLL.</span></span>

![Captura de pantalla del analizador de portabilidad del Explorador de soluciones.](./media/portability-analyzer/portability-solution-explorer.png)

<span data-ttu-id="70df9-139">También puede usar la [aplicación de consola ApiPort](https://aka.ms/apiportdownload).</span><span class="sxs-lookup"><span data-stu-id="70df9-139">You can also use the [ApiPort console app](https://aka.ms/apiportdownload).</span></span>

- <span data-ttu-id="70df9-140">Escriba el comando siguiente para analizar el directorio actual: `ApiPort.exe analyze -f .`</span><span class="sxs-lookup"><span data-stu-id="70df9-140">Type the following command to analyze the current directory: `ApiPort.exe analyze -f .`</span></span>
- <span data-ttu-id="70df9-141">Para analizar una lista específica de archivos .dll, escriba el comando siguiente: `ApiPort.exe analyze -f first.dll -f second.dll -f third.dll`</span><span class="sxs-lookup"><span data-stu-id="70df9-141">To analyze a specific list of .dll files, type the following command: `ApiPort.exe analyze -f first.dll -f second.dll -f third.dll`</span></span>
- <span data-ttu-id="70df9-142">Ejecute `ApiPort.exe -?` para obtener más ayuda.</span><span class="sxs-lookup"><span data-stu-id="70df9-142">Run `ApiPort.exe -?` to get more help</span></span>

<span data-ttu-id="70df9-143">Se recomienda que incluya todos los archivos exe y dll relacionados que posea y desea portar, y que excluya los archivos de los que depende la aplicación, pero que no posee y no puede portar.</span><span class="sxs-lookup"><span data-stu-id="70df9-143">It is recommended that you include all the related exe and dll files that you own and want to port, and exclude the files that your app depends on, but you don't own and can't port.</span></span> <span data-ttu-id="70df9-144">Esto le proporcionará un informe de portabilidad más relevante.</span><span class="sxs-lookup"><span data-stu-id="70df9-144">This will give you most relevant portability report.</span></span>

### <a name="view-and-interpret-portability-result"></a><span data-ttu-id="70df9-145">Vista e interpretación de los resultados de portabilidad</span><span class="sxs-lookup"><span data-stu-id="70df9-145">View and interpret portability result</span></span>

<span data-ttu-id="70df9-146">Solo las API que no son compatibles con una plataforma de destino aparecen en el informe.</span><span class="sxs-lookup"><span data-stu-id="70df9-146">Only APIs that are unsupported by a Target Platform appear in the report.</span></span>
<span data-ttu-id="70df9-147">Después de ejecutar el análisis en Visual Studio, verá que aparecerá el vínculo del archivo de informe de portabilidad de .NET.</span><span class="sxs-lookup"><span data-stu-id="70df9-147">After running the analysis in Visual Studio, you'll see your .NET Portability report file link pops up.</span></span> <span data-ttu-id="70df9-148">Si ha usado la [aplicación de consola ApiPort](https://aka.ms/apiportdownload), el informe de portabilidad de .NET se guardará como archivo en el formato especificado.</span><span class="sxs-lookup"><span data-stu-id="70df9-148">If you used the [ApiPort console app](https://aka.ms/apiportdownload), your .NET Portability report is saved as a file in the format you specified.</span></span> <span data-ttu-id="70df9-149">El valor predeterminado es en un archivo de Excel ( *.xlsx*) ubicado en el directorio actual.</span><span class="sxs-lookup"><span data-stu-id="70df9-149">The default is in an Excel file (*.xlsx*) in your current directory.</span></span>

#### <a name="portability-summary"></a><span data-ttu-id="70df9-150">Resumen de portabilidad</span><span class="sxs-lookup"><span data-stu-id="70df9-150">Portability Summary</span></span>

![Captura de pantalla del resumen de portabilidad.](./media/portability-analyzer/api-catalog-portablility-summary.png)

<span data-ttu-id="70df9-152">En la sección Resumen de portabilidad del informe se muestra el porcentaje de portabilidad para cada ensamblado incluido en la ejecución.</span><span class="sxs-lookup"><span data-stu-id="70df9-152">The Portability Summary section of the report shows the portability percentage for each assembly included in the run.</span></span> <span data-ttu-id="70df9-153">En el ejemplo anterior, el 71,24 % de las API de .NET Framework utilizadas en la aplicación `svcutil` están disponibles en .NET Core + extensiones de la plataforma.</span><span class="sxs-lookup"><span data-stu-id="70df9-153">In the previous example, 71.24% of the .NET Framework APIs used in the `svcutil` app are available in .NET Core + Platform Extensions.</span></span> <span data-ttu-id="70df9-154">Si ejecuta la herramienta Analizador de portabilidad de .NET en varios ensamblados, cada ensamblado debe tener una fila en el informe de Resumen de portabilidad.</span><span class="sxs-lookup"><span data-stu-id="70df9-154">If you run the .NET Portability Analyzer tool against multiple assemblies, each assembly should have a row in the Portability Summary report.</span></span>

#### <a name="details"></a><span data-ttu-id="70df9-155">Detalles</span><span class="sxs-lookup"><span data-stu-id="70df9-155">Details</span></span>

![Captura de pantalla de los detalles de portabilidad.](./media/portability-analyzer/api-catalog-portablility-details.png)

<span data-ttu-id="70df9-157">La sección **Detalles** del informe enumera las API que faltan desde cualquiera de las **plataformas de destino** seleccionadas.</span><span class="sxs-lookup"><span data-stu-id="70df9-157">The **Details** section of the report lists the APIs missing from any of the selected **Targeted Platforms**.</span></span>

- <span data-ttu-id="70df9-158">Tipo de destino: al tipo le falta la API desde una plataforma de destino</span><span class="sxs-lookup"><span data-stu-id="70df9-158">Target type: the type has missing API from a Target Platform</span></span>
- <span data-ttu-id="70df9-159">Miembro de destino: el método no está presente en una plataforma de destino</span><span class="sxs-lookup"><span data-stu-id="70df9-159">Target member: the method is missing from a Target Platform</span></span>
- <span data-ttu-id="70df9-160">Nombre del ensamblado: el ensamblado de .NET Framework en el que se encuentra la API que falta.</span><span class="sxs-lookup"><span data-stu-id="70df9-160">Assembly name: the .NET Framework assembly that the missing API lives in.</span></span>
- <span data-ttu-id="70df9-161">Cada una de las plataformas de destino seleccionada es una columna, como ".NET Core": El valor de "No compatible" significa que la API no se admite en esta plataforma de destino.</span><span class="sxs-lookup"><span data-stu-id="70df9-161">Each of the selected Target Platforms is one column, such as ".NET Core": "Not supported" value means the API is not supported on this Target Platform.</span></span>
- <span data-ttu-id="70df9-162">Cambios recomendados: la API o tecnología recomendada a la que realizar el cambio.</span><span class="sxs-lookup"><span data-stu-id="70df9-162">Recommended Changes: the recommended API or technology to change to.</span></span> <span data-ttu-id="70df9-163">Actualmente, este campo está vacío o no está actualizado para muchas de las API.</span><span class="sxs-lookup"><span data-stu-id="70df9-163">Currently, this field is empty or out of date for many APIs.</span></span> <span data-ttu-id="70df9-164">Debido al gran número de API, nos enfrentamos a un gran desafío para mantenerlas actualizadas.</span><span class="sxs-lookup"><span data-stu-id="70df9-164">Due to the large number of APIs, we have a significant challenge to keep it up to date.</span></span> <span data-ttu-id="70df9-165">Estamos examinando soluciones alternativas para proporcionar información útil a los clientes.</span><span class="sxs-lookup"><span data-stu-id="70df9-165">We're looking at alternative solutions to provide helpful information to customers.</span></span>

#### <a name="missing-assemblies"></a><span data-ttu-id="70df9-166">Ensamblados que faltan</span><span class="sxs-lookup"><span data-stu-id="70df9-166">Missing Assemblies</span></span>

![Captura de pantalla de los ensamblados que faltan.](./media/portability-analyzer/api-catalog-missing-assemblies.png)

<span data-ttu-id="70df9-168">Puede encontrar la sección Ensamblados que faltan en el informe.</span><span class="sxs-lookup"><span data-stu-id="70df9-168">You may find a Missing Assemblies section in your report.</span></span> <span data-ttu-id="70df9-169">Esta sección contiene una lista de ensamblados a los que hacen referencia los ensamblados analizados y que no se han analizado.</span><span class="sxs-lookup"><span data-stu-id="70df9-169">This section contains a list of assemblies that are referenced by your analyzed assemblies and were not analyzed.</span></span> <span data-ttu-id="70df9-170">Si se trata un ensamblado que posee, inclúyalo en la ejecución del analizador de portabilidad de API para que pueda obtener un informe detallado de portabilidad a nivel de API.</span><span class="sxs-lookup"><span data-stu-id="70df9-170">If it's an assembly that you own, include it in the API portability analyzer run so that you can get a detailed, API-level portability report for it.</span></span> <span data-ttu-id="70df9-171">Si se trata de una biblioteca de terceros, compruebe si hay una versión más reciente que admita la plataforma de destino y considere la posibilidad de usar dicha versión más reciente.</span><span class="sxs-lookup"><span data-stu-id="70df9-171">If it's a third-party library, check if there is a newer version that supports your target platform, and consider moving to the newer version.</span></span> <span data-ttu-id="70df9-172">Finalmente, la lista debe incluir todos los ensamblados de terceros de los que depende la aplicación que tengan una versión compatible con la plataforma de destino.</span><span class="sxs-lookup"><span data-stu-id="70df9-172">Eventually, the list should include all the third-party assemblies that your app depends on that have a version supporting your target platform.</span></span>

<span data-ttu-id="70df9-173">Para obtener más información sobre el Analizador de portabilidad de .NET, visite la [documentación de GitHub](https://github.com/Microsoft/dotnet-apiport#documentation) y el vídeo de Channel 9 [A Brief Look at the .NET Portability Analyzer](https://channel9.msdn.com/Blogs/Seth-Juarez/A-Brief-Look-at-the-NET-Portability-Analyzer) (Información breve sobre el Analizador de portabilidad de .NET).</span><span class="sxs-lookup"><span data-stu-id="70df9-173">For more information on the .NET Portability Analyzer, visit the [GitHub documentation](https://github.com/Microsoft/dotnet-apiport#documentation) and [A Brief Look at the .NET Portability Analyzer](https://channel9.msdn.com/Blogs/Seth-Juarez/A-Brief-Look-at-the-NET-Portability-Analyzer) Channel 9 video.</span></span>
