---
title: Procedimiento para mostrar milisegundos en los valores de fecha y hora
description: En este artículo, aprenderá a incluir el componente de milisegundos de un valor de fecha y hora en cadenas de fecha y hora con formato en .NET.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- DateTime.ToString method
- displaying date and time data
- time [.NET], milliseconds
- dates [.NET], milliseconds
- milliseconds [.NET]
ms.assetid: ae1a0610-90b9-4877-8eb6-4e30bc5e00cf
ms.openlocfilehash: 722334c324f663ba46a3c861885d4221fc566b8d
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/24/2020
ms.locfileid: "95681267"
---
# <a name="how-to-display-milliseconds-in-date-and-time-values"></a><span data-ttu-id="7a15d-103">Procedimiento para mostrar milisegundos en los valores de fecha y hora</span><span class="sxs-lookup"><span data-stu-id="7a15d-103">How to: Display Milliseconds in Date and Time Values</span></span>

<span data-ttu-id="7a15d-104">Los métodos de formato de fecha y hora predeterminados, como <xref:System.DateTime.ToString?displayProperty=nameWithType>, incluyen las horas, minutos y segundos de un valor de tiempo, pero excluyen el componente correspondiente a los milisegundos.</span><span class="sxs-lookup"><span data-stu-id="7a15d-104">The default date and time formatting methods, such as <xref:System.DateTime.ToString?displayProperty=nameWithType>, include the hours, minutes, and seconds of a time value but exclude its milliseconds component.</span></span> <span data-ttu-id="7a15d-105">En este tema se muestra cómo se incluye un componente de milisegundos de un valor de fecha y hora en cadenas de fecha y hora con formato.</span><span class="sxs-lookup"><span data-stu-id="7a15d-105">This topic shows how to include a date and time's millisecond component in formatted date and time strings.</span></span>  
  
### <a name="to-display-the-millisecond-component-of-a-datetime-value"></a><span data-ttu-id="7a15d-106">Para mostrar el componente de milisegundos de un valor DateTime</span><span class="sxs-lookup"><span data-stu-id="7a15d-106">To display the millisecond component of a DateTime value</span></span>  
  
1. <span data-ttu-id="7a15d-107">Cuando trabaje con la representación de cadena de una fecha, conviértala en un valor <xref:System.DateTime> o <xref:System.DateTimeOffset> mediante el método estático <xref:System.DateTime.Parse%28System.String%29?displayProperty=nameWithType> o <xref:System.DateTimeOffset.Parse%28System.String%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7a15d-107">If you are working with the string representation of a date, convert it to a <xref:System.DateTime> or a <xref:System.DateTimeOffset> value by using the static <xref:System.DateTime.Parse%28System.String%29?displayProperty=nameWithType> or <xref:System.DateTimeOffset.Parse%28System.String%29?displayProperty=nameWithType> method.</span></span>  
  
2. <span data-ttu-id="7a15d-108">Para extraer la representación de cadena del componente de milisegundos de una hora, llame al método <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> o <xref:System.DateTimeOffset.ToString%2A> del valor de fecha y hora y pase el modelo de formato personalizado `fff` o `FFF` en solitario o junto a otros especificadores de formato personalizado como el parámetro `format`.</span><span class="sxs-lookup"><span data-stu-id="7a15d-108">To extract the string representation of a time's millisecond component, call the date and time value's <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> or <xref:System.DateTimeOffset.ToString%2A> method, and pass the `fff` or `FFF` custom format pattern either alone or with other custom format specifiers as the `format` parameter.</span></span>  
  
## <a name="example"></a><span data-ttu-id="7a15d-109">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="7a15d-109">Example</span></span>  

 <span data-ttu-id="7a15d-110">En el ejemplo se muestra el componente de milisegundos de un valor <xref:System.DateTime> y <xref:System.DateTimeOffset> en la consola en su presentación en solitario e incluido en una cadena de fecha y hora más larga.</span><span class="sxs-lookup"><span data-stu-id="7a15d-110">The example displays the millisecond component of a <xref:System.DateTime> and a <xref:System.DateTimeOffset> value to the console, both alone and included in a longer date and time string.</span></span>  
  
 [!code-csharp[Formatting.HowTo.Millisecond#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.Millisecond/cs/Millisecond.cs#1)]
 [!code-vb[Formatting.HowTo.Millisecond#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.Millisecond/vb/Millisecond.vb#1)]  
  
 <span data-ttu-id="7a15d-111">El modelo de formato `fff` incluye todos los ceros finales en el valor de milisegundos.</span><span class="sxs-lookup"><span data-stu-id="7a15d-111">The `fff` format pattern includes any trailing zeros in the millisecond value.</span></span> <span data-ttu-id="7a15d-112">El modelo de formato `FFF` suprime todos estos ceros.</span><span class="sxs-lookup"><span data-stu-id="7a15d-112">The `FFF` format pattern suppresses them.</span></span> <span data-ttu-id="7a15d-113">En el siguiente ejemplo se ilustra la diferencia.</span><span class="sxs-lookup"><span data-stu-id="7a15d-113">The difference is illustrated in the following example.</span></span>  
  
 [!code-csharp[Formatting.HowTo.Millisecond#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.Millisecond/cs/Millisecond.cs#2)]
 [!code-vb[Formatting.HowTo.Millisecond#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.Millisecond/vb/Millisecond.vb#2)]  
  
 <span data-ttu-id="7a15d-114">Un problema que surge al definir un especificador de formato personalizado completo que incluya el componente de milisegundos de un valor de fecha y hora es que éste establece un formato codificado de forma rígida que es posible que no se corresponda con la organización de elementos horarios de la referencia cultural actual de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7a15d-114">A problem with defining a complete custom format specifier that includes the millisecond component of a date and time is that it defines a hard-coded format that may not correspond to the arrangement of time elements in the application's current culture.</span></span> <span data-ttu-id="7a15d-115">Una alternativa más conveniente consiste en recuperar uno de los modelos de presentación de fecha y hora definidos por el objeto <xref:System.Globalization.DateTimeFormatInfo> de la referencia cultural actual y modificarlo para incluir los milisegundos.</span><span class="sxs-lookup"><span data-stu-id="7a15d-115">A better alternative is to retrieve one of the date and time display patterns defined by the current culture's <xref:System.Globalization.DateTimeFormatInfo> object and modify it to include milliseconds.</span></span> <span data-ttu-id="7a15d-116">En el ejemplo se muestra también este enfoque.</span><span class="sxs-lookup"><span data-stu-id="7a15d-116">The example also illustrates this approach.</span></span> <span data-ttu-id="7a15d-117">En este ejemplo, se recupera el modelo completo de fecha y hora de la referencia cultural actual de la propiedad <xref:System.Globalization.DateTimeFormatInfo.FullDateTimePattern%2A?displayProperty=nameWithType> y, a continuación, se inserta el modelo personalizado `.ffff` tras el segundo modelo.</span><span class="sxs-lookup"><span data-stu-id="7a15d-117">It retrieves the current culture's full date and time pattern from the <xref:System.Globalization.DateTimeFormatInfo.FullDateTimePattern%2A?displayProperty=nameWithType> property, and then inserts the custom pattern `.ffff` after its seconds pattern.</span></span> <span data-ttu-id="7a15d-118">Observe que en el ejemplo se utiliza una expresión regular para realizar esta operación en una única llamada al método.</span><span class="sxs-lookup"><span data-stu-id="7a15d-118">Note that the example uses a regular expression to perform this operation in a single method call.</span></span>  
  
 <span data-ttu-id="7a15d-119">También puede utilizar un especificador de formato personalizado para mostrar una fracción de segundo distinta de los milisegundos.</span><span class="sxs-lookup"><span data-stu-id="7a15d-119">You can also use a custom format specifier to display a fractional part of seconds other than milliseconds.</span></span> <span data-ttu-id="7a15d-120">Por ejemplo, el especificador de formato personalizado `f` o `F` muestra las décimas de segundo, el especificador de formato personalizado `ff` o `FF` muestra las centésimas de segundo y el especificador de formato personalizado `ffff` o `FFFF` muestra las diezmilésimas de segundo.</span><span class="sxs-lookup"><span data-stu-id="7a15d-120">For example, the `f` or `F` custom format specifier displays tenths of a second, the `ff` or `FF` custom format specifier displays hundredths of a second, and the `ffff` or `FFFF` custom format specifier displays ten thousandths of a second.</span></span> <span data-ttu-id="7a15d-121">Las fracciones de milisegundo se truncan en lugar de redondearse en la cadena devuelta.</span><span class="sxs-lookup"><span data-stu-id="7a15d-121">Fractional parts of a millisecond are truncated instead of rounded in the returned string.</span></span> <span data-ttu-id="7a15d-122">Estos especificadores de formato se utilizan en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="7a15d-122">These format specifiers are used in the following example.</span></span>  
  
 [!code-csharp[Formatting.HowTo.Millisecond#3](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.Millisecond/cs/Millisecond.cs#3)]
 [!code-vb[Formatting.HowTo.Millisecond#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.Millisecond/vb/Millisecond.vb#3)]  
  
> [!NOTE]
> <span data-ttu-id="7a15d-123">Es posible mostrar unidades fraccionarias de segundo muy pequeñas, como diezmilésimas o cienmilésimas de segundo.</span><span class="sxs-lookup"><span data-stu-id="7a15d-123">It is possible to display very small fractional units of a second, such as ten thousandths of a second or hundred-thousandths of a second.</span></span> <span data-ttu-id="7a15d-124">Sin embargo, estos valores no suelen ser significativos.</span><span class="sxs-lookup"><span data-stu-id="7a15d-124">However, these values may not be meaningful.</span></span> <span data-ttu-id="7a15d-125">La precisión de los valores de fecha y hora depende de la resolución del reloj del sistema.</span><span class="sxs-lookup"><span data-stu-id="7a15d-125">The precision of date and time values depends on the resolution of the system clock.</span></span> <span data-ttu-id="7a15d-126">En los sistemas operativos Windows NT 3.5 (y versiones posteriores) y Windows Vista, la resolución del reloj es aproximadamente de 10 a 15 milisegundos.</span><span class="sxs-lookup"><span data-stu-id="7a15d-126">On Windows NT 3.5 and later, and Windows Vista operating systems, the clock's resolution is approximately 10-15 milliseconds.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7a15d-127">Vea también</span><span class="sxs-lookup"><span data-stu-id="7a15d-127">See also</span></span>

- <xref:System.Globalization.DateTimeFormatInfo>
- [<span data-ttu-id="7a15d-128">Cadenas con formato de fecha y hora personalizado</span><span class="sxs-lookup"><span data-stu-id="7a15d-128">Custom Date and Time Format Strings</span></span>](custom-date-and-time-format-strings.md)
