---
title: Procedimientos recomendados para el uso de cadenas en .NET
description: Obtenga información sobre cómo usar cadenas de forma eficaz en aplicaciones .NET.
ms.date: 05/01/2019
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- strings [.NET],searching
- best practices,string comparison and sorting
- strings [.NET],best practices
- strings [.NET],basic string operations
- sorting strings
- strings [.NET],sorting
- string comparison [.NET],best practices
- string sorting
- comparing strings
- strings [.NET],comparing
ms.assetid: b9f0bf53-e2de-4116-8ce9-d4f91a1df4f7
ms.openlocfilehash: ed85d04ffbee0493745c4a5ef63313571b44628b
ms.sourcegitcommit: 4a938327bad8b2e20cabd0f46a9dc50882596f13
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 10/28/2020
ms.locfileid: "92889106"
---
# <a name="best-practices-for-using-strings-in-net"></a><span data-ttu-id="68eef-103">Procedimientos recomendados para el uso de cadenas en .NET</span><span class="sxs-lookup"><span data-stu-id="68eef-103">Best Practices for Using Strings in .NET</span></span>

<span data-ttu-id="68eef-104">.NET proporciona una gran compatibilidad para desarrollar aplicaciones localizadas y globalizadas, y simplifica la aplicación de las convenciones de la referencia cultural actual o de una referencia cultural concreta al realizar operaciones comunes como ordenar y mostrar cadenas.</span><span class="sxs-lookup"><span data-stu-id="68eef-104">.NET provides extensive support for developing localized and globalized applications, and makes it easy to apply the conventions of either the current culture or a specific culture when performing common operations such as sorting and displaying strings.</span></span> <span data-ttu-id="68eef-105">Pero ordenar o comparar cadenas no es siempre una operación dependiente de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-105">But sorting or comparing strings is not always a culture-sensitive operation.</span></span> <span data-ttu-id="68eef-106">Por ejemplo, las cadenas usadas internamente por una aplicación normalmente se deben administrar de forma idéntica en todas las referencias culturales.</span><span class="sxs-lookup"><span data-stu-id="68eef-106">For example, strings that are used internally by an application typically should be handled identically across all cultures.</span></span> <span data-ttu-id="68eef-107">Cuando los datos de cadenas independientes de la referencia cultural (como etiquetas XML, etiquetas HTML, nombres de usuario, rutas de acceso de archivos y nombres de objetos del sistema) se interpretan como si fueran dependientes de la referencia cultural, el código de aplicación puede estar sujeto a errores imperceptibles, un rendimiento inadecuado y, en algunos casos, a problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="68eef-107">When culturally independent string data, such as XML tags, HTML tags, user names, file paths, and the names of system objects, are interpreted as if they were culture-sensitive, application code can be subject to subtle bugs, poor performance, and, in some cases, security issues.</span></span>

<span data-ttu-id="68eef-108">En este tema, se examinan los métodos de ordenación, comparación y uso de mayúsculas y minúsculas de cadenas de .NET, se presentan recomendaciones para seleccionar un método adecuado de control de cadenas y se proporciona información adicional sobre los métodos de control de cadenas.</span><span class="sxs-lookup"><span data-stu-id="68eef-108">This topic examines the string sorting, comparison, and casing methods in .NET, presents recommendations for selecting an appropriate string-handling method, and provides additional information about string-handling methods.</span></span> <span data-ttu-id="68eef-109">También se examina cómo se usan para la presentación y el almacenamiento los datos con formato, como los datos numéricos y los datos de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="68eef-109">It also examines how formatted data, such as numeric data and date and time data, is handled for display and for storage.</span></span>

## <a name="recommendations-for-string-usage"></a><span data-ttu-id="68eef-110">Recomendaciones sobre el uso de cadenas</span><span class="sxs-lookup"><span data-stu-id="68eef-110">Recommendations for string usage</span></span>

<span data-ttu-id="68eef-111">Cuando desarrolle con .NET, siga estas recomendaciones sencillas a la hora de usar cadenas:</span><span class="sxs-lookup"><span data-stu-id="68eef-111">When you develop with .NET, follow these simple recommendations when you use strings:</span></span>

- <span data-ttu-id="68eef-112">Use sobrecargas que especifiquen explícitamente las reglas de comparación de cadenas para las operaciones de cadenas.</span><span class="sxs-lookup"><span data-stu-id="68eef-112">Use overloads that explicitly specify the string comparison rules for string operations.</span></span> <span data-ttu-id="68eef-113">Normalmente, esto implica llamar a una sobrecarga de método que tiene un parámetro de tipo <xref:System.StringComparison>.</span><span class="sxs-lookup"><span data-stu-id="68eef-113">Typically, this involves calling a method overload that has a parameter of type <xref:System.StringComparison>.</span></span>
- <span data-ttu-id="68eef-114">Use <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> o <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> para las comparaciones como su valor predeterminado seguro para la coincidencia de cadenas válidas para la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-114">Use <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for comparisons as your safe default for culture-agnostic string matching.</span></span>
- <span data-ttu-id="68eef-115">Use comparaciones con <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> o <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> para lograr un rendimiento mejor.</span><span class="sxs-lookup"><span data-stu-id="68eef-115">Use comparisons with <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for better performance.</span></span>
- <span data-ttu-id="68eef-116">Use operaciones de cadena basadas en <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> al mostrar la salida al usuario.</span><span class="sxs-lookup"><span data-stu-id="68eef-116">Use string operations that are based on <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> when you display output to the user.</span></span>
- <span data-ttu-id="68eef-117">Use los valores <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> o <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> no lingüísticos en lugar de operaciones de cadena basadas en <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> cuando la comparación sea lingüísticamente no pertinente (por ejemplo, nombre simbólico).</span><span class="sxs-lookup"><span data-stu-id="68eef-117">Use the non-linguistic <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> values instead of string operations based on <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> when the comparison is linguistically irrelevant (symbolic, for example).</span></span>
- <span data-ttu-id="68eef-118">Emplee el método <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> en lugar del método <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> al normalizar cadenas para la comparación.</span><span class="sxs-lookup"><span data-stu-id="68eef-118">Use the <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> method instead of the <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> method when you normalize strings for comparison.</span></span>
- <span data-ttu-id="68eef-119">Use una sobrecarga del método <xref:System.String.Equals%2A?displayProperty=nameWithType> para probar si dos cadenas son iguales.</span><span class="sxs-lookup"><span data-stu-id="68eef-119">Use an overload of the <xref:System.String.Equals%2A?displayProperty=nameWithType> method to test whether two strings are equal.</span></span>
- <span data-ttu-id="68eef-120">Use los métodos <xref:System.String.Compare%2A?displayProperty=nameWithType> y <xref:System.String.CompareTo%2A?displayProperty=nameWithType> para ordenar cadenas, no para comprobar la igualdad.</span><span class="sxs-lookup"><span data-stu-id="68eef-120">Use the <xref:System.String.Compare%2A?displayProperty=nameWithType> and <xref:System.String.CompareTo%2A?displayProperty=nameWithType> methods to sort strings, not to check for equality.</span></span>
- <span data-ttu-id="68eef-121">Use el formato dependiente de la referencia cultural para mostrar datos que no son de cadena, como números y fechas, en una interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="68eef-121">Use culture-sensitive formatting to display non-string data, such as numbers and dates, in a user interface.</span></span> <span data-ttu-id="68eef-122">Use el formato con la [referencia cultural invariable](xref:System.Globalization.CultureInfo.InvariantCulture) para conservar datos que no son de cadena en forma de cadena.</span><span class="sxs-lookup"><span data-stu-id="68eef-122">Use formatting with the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture) to persist non-string data in string form.</span></span>

<span data-ttu-id="68eef-123">Evite lo siguiente cuando use cadenas:</span><span class="sxs-lookup"><span data-stu-id="68eef-123">Avoid the following practices when you use strings:</span></span>

- <span data-ttu-id="68eef-124">No emplee sobrecargas que no especifiquen explícita o implícitamente las reglas de comparación de cadenas para las operaciones de cadena.</span><span class="sxs-lookup"><span data-stu-id="68eef-124">Do not use overloads that do not explicitly or implicitly specify the string comparison rules for string operations.</span></span>
- <span data-ttu-id="68eef-125">No use operaciones de cadena basadas en <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> en la mayoría de los casos.</span><span class="sxs-lookup"><span data-stu-id="68eef-125">Do not use string operations based on <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> in most cases.</span></span> <span data-ttu-id="68eef-126">Una de las pocas excepciones es cuando vaya a conservar datos lingüísticamente significativos pero válidos culturalmente.</span><span class="sxs-lookup"><span data-stu-id="68eef-126">One of the few exceptions is when you are persisting linguistically meaningful but culturally agnostic data.</span></span>
- <span data-ttu-id="68eef-127">No emplee ninguna sobrecarga del método <xref:System.String.Compare%2A?displayProperty=nameWithType> o <xref:System.String.CompareTo%2A> y pruebe si se devuelve un valor cero para determinar si dos cadenas son iguales.</span><span class="sxs-lookup"><span data-stu-id="68eef-127">Do not use an overload of the <xref:System.String.Compare%2A?displayProperty=nameWithType> or <xref:System.String.CompareTo%2A> method and test for a return value of zero to determine whether two strings are equal.</span></span>
- <span data-ttu-id="68eef-128">No use el formato dependiente de la referencia cultural para conservar datos numéricos o datos de fecha y hora en formato de cadena.</span><span class="sxs-lookup"><span data-stu-id="68eef-128">Do not use culture-sensitive formatting to persist numeric data or date and time data in string form.</span></span>

## <a name="specifying-string-comparisons-explicitly"></a><span data-ttu-id="68eef-129">Especificar comparaciones de cadenas explícitamente</span><span class="sxs-lookup"><span data-stu-id="68eef-129">Specifying string comparisons explicitly</span></span>

<span data-ttu-id="68eef-130">La mayoría de los métodos de manipulación de cadenas de .NET están sobrecargados.</span><span class="sxs-lookup"><span data-stu-id="68eef-130">Most of the string manipulation methods in .NET are overloaded.</span></span> <span data-ttu-id="68eef-131">Normalmente, una o más sobrecargas aceptan la configuración predeterminada, mientras que otras no aceptan ningún valor predeterminado y en su lugar definen la manera precisa en la que se van a comparar o manipular las cadenas.</span><span class="sxs-lookup"><span data-stu-id="68eef-131">Typically, one or more overloads accept default settings, whereas others accept no defaults and instead define the precise way in which strings are to be compared or manipulated.</span></span> <span data-ttu-id="68eef-132">La mayoría de los métodos que no confían en los valores predeterminados incluye un parámetro de tipo <xref:System.StringComparison>, que es una enumeración que especifica explícitamente reglas para la comparación de cadenas por referencia cultural y uso de mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-132">Most of the methods that do not rely on defaults include a parameter of type <xref:System.StringComparison>, which is an enumeration that explicitly specifies rules for string comparison by culture and case.</span></span> <span data-ttu-id="68eef-133">En la tabla siguiente se describen los miembros de la enumeración <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="68eef-133">The following table describes the <xref:System.StringComparison> enumeration members.</span></span>

|<span data-ttu-id="68eef-134">Miembro de StringComparison</span><span class="sxs-lookup"><span data-stu-id="68eef-134">StringComparison member</span></span>|<span data-ttu-id="68eef-135">Descripción</span><span class="sxs-lookup"><span data-stu-id="68eef-135">Description</span></span>|
|-----------------------------|-----------------|
|<xref:System.StringComparison.CurrentCulture>|<span data-ttu-id="68eef-136">Realiza una comparación con distinción entre mayúsculas y minúsculas usando la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="68eef-136">Performs a case-sensitive comparison using the current culture.</span></span>|
|<xref:System.StringComparison.CurrentCultureIgnoreCase>|<span data-ttu-id="68eef-137">Realiza una comparación sin distinción entre mayúsculas y minúsculas usando la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="68eef-137">Performs a case-insensitive comparison using the current culture.</span></span>|
|<xref:System.StringComparison.InvariantCulture>|<span data-ttu-id="68eef-138">Realiza una comparación con distinción entre mayúsculas y minúsculas usando la referencia cultural de todos los idiomas.</span><span class="sxs-lookup"><span data-stu-id="68eef-138">Performs a case-sensitive comparison using the invariant culture.</span></span>|
|<xref:System.StringComparison.InvariantCultureIgnoreCase>|<span data-ttu-id="68eef-139">Realiza una comparación sin distinción entre mayúsculas y minúsculas usando la referencia cultural de todos los idiomas.</span><span class="sxs-lookup"><span data-stu-id="68eef-139">Performs a case-insensitive comparison using the invariant culture.</span></span>|
|<xref:System.StringComparison.Ordinal>|<span data-ttu-id="68eef-140">Realiza una comparación ordinal.</span><span class="sxs-lookup"><span data-stu-id="68eef-140">Performs an ordinal comparison.</span></span>|
|<xref:System.StringComparison.OrdinalIgnoreCase>|<span data-ttu-id="68eef-141">Realiza una comparación ordinal sin distinción entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-141">Performs a case-insensitive ordinal comparison.</span></span>|

<span data-ttu-id="68eef-142">Por ejemplo, el método <xref:System.String.IndexOf%2A> , que devuelve el índice de una subcadena en un objeto <xref:System.String> que coincide con un carácter o una cadena, tiene nueve sobrecargas:</span><span class="sxs-lookup"><span data-stu-id="68eef-142">For example, the <xref:System.String.IndexOf%2A> method, which returns the index of a substring in a <xref:System.String> object that matches either a character or a string, has nine overloads:</span></span>

- <span data-ttu-id="68eef-143"><xref:System.String.IndexOf%28System.Char%29>, <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%29>y <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%2CSystem.Int32%29>, que de forma predeterminada realizan una búsqueda ordinal (con distinción entre mayúsculas y minúsculas e independiente de la referencia cultural) de un carácter de la cadena.</span><span class="sxs-lookup"><span data-stu-id="68eef-143"><xref:System.String.IndexOf%28System.Char%29>, <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%29>, and <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%2CSystem.Int32%29>, which by default perform an ordinal (case-sensitive and culture-insensitive) search for a character in the string.</span></span>
- <span data-ttu-id="68eef-144"><xref:System.String.IndexOf%28System.String%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%29>y <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%29>, que de forma predeterminada realizan una búsqueda con distinción entre mayúsculas y minúsculas y dependiente de la referencia cultural de una subcadena de la cadena.</span><span class="sxs-lookup"><span data-stu-id="68eef-144"><xref:System.String.IndexOf%28System.String%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%29>, and <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%29>, which by default perform a case-sensitive and culture-sensitive search for a substring in the string.</span></span>
- <span data-ttu-id="68eef-145"><xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.StringComparison%29>y <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%2CSystem.StringComparison%29>, que incluyen un parámetro de tipo <xref:System.StringComparison> que permite especificar el formato de la comparación.</span><span class="sxs-lookup"><span data-stu-id="68eef-145"><xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.StringComparison%29>, and <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%2CSystem.StringComparison%29>, which include a parameter of type <xref:System.StringComparison> that allows the form of the comparison to be specified.</span></span>

<span data-ttu-id="68eef-146">Se recomienda seleccionar una sobrecarga que no use valores predeterminados, por las razones siguientes:</span><span class="sxs-lookup"><span data-stu-id="68eef-146">We recommend that you select an overload that does not use default values, for the following reasons:</span></span>

- <span data-ttu-id="68eef-147">Algunas sobrecargas con parámetros predeterminados (las que buscan un valor <xref:System.Char> en la instancia de la cadena) realizan una comparación ordinal, mientras que otras (las que buscan una cadena en la instancia de la cadena) son dependientes de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-147">Some overloads with default parameters (those that search for a <xref:System.Char> in the string instance) perform an ordinal comparison, whereas others (those that search for a string in the string instance) are culture-sensitive.</span></span> <span data-ttu-id="68eef-148">Es difícil recordar qué método usa cada valor predeterminado y resulta fácil confundir las sobrecargas.</span><span class="sxs-lookup"><span data-stu-id="68eef-148">It is difficult to remember which method uses which default value, and easy to confuse the overloads.</span></span>
- <span data-ttu-id="68eef-149">La intención del código que usa valores predeterminados para las llamadas al método no está clara.</span><span class="sxs-lookup"><span data-stu-id="68eef-149">The intent of the code that relies on default values for method calls is not clear.</span></span> <span data-ttu-id="68eef-150">En el ejemplo siguiente, en el cual se usan valores predeterminados, es difícil saber si el desarrollador pretendía realizar una comparación ordinal o lingüística de dos cadenas, o si había alguna diferencia al usar mayúsculas y minúsculas entre `protocol` y "http" que pudiera hacer que la prueba de igualdad devolviera el valor `false`.</span><span class="sxs-lookup"><span data-stu-id="68eef-150">In the following example, which relies on defaults, it is difficult to know whether the developer actually intended an ordinal or a linguistic comparison of two strings, or whether a case difference between `protocol` and "http" might cause the test for equality to return `false`.</span></span>

     [!code-csharp[Conceptual.Strings.BestPractices#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/explicitargs1.cs#1)]
     [!code-vb[Conceptual.Strings.BestPractices#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/explicitargs1.vb#1)]

<span data-ttu-id="68eef-151">En general, se recomienda llamar a un método que no use los valores predeterminados, ya que hace que la intención del código no sea ambigua.</span><span class="sxs-lookup"><span data-stu-id="68eef-151">In general, we recommend that you call a method that does not rely on defaults, because it makes the intent of the code unambiguous.</span></span> <span data-ttu-id="68eef-152">Esto, a su vez, hace el código más legible y más fácil de depurar y mantener.</span><span class="sxs-lookup"><span data-stu-id="68eef-152">This, in turn, makes the code more readable and easier to debug and maintain.</span></span> <span data-ttu-id="68eef-153">En el ejemplo siguiente se abordan las cuestiones que se derivan del ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="68eef-153">The following example addresses the questions raised about the previous example.</span></span> <span data-ttu-id="68eef-154">Indica claramente que se usa la comparación ordinal y que se omiten las diferencias en cuanto al uso de mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-154">It makes it clear that ordinal comparison is used and that differences in case are ignored.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/explicitargs1.cs#2)]
[!code-vb[Conceptual.Strings.BestPractices#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/explicitargs1.vb#2)]

## <a name="the-details-of-string-comparison"></a><span data-ttu-id="68eef-155">Detalles de la comparación de cadenas</span><span class="sxs-lookup"><span data-stu-id="68eef-155">The details of string comparison</span></span>

<span data-ttu-id="68eef-156">La comparación de cadenas es el corazón de muchas operaciones relacionadas con cadenas, especialmente la ordenación y la comprobación de igualdad.</span><span class="sxs-lookup"><span data-stu-id="68eef-156">String comparison is the heart of many string-related operations, particularly sorting and testing for equality.</span></span> <span data-ttu-id="68eef-157">Las cadenas se ordenan en un orden determinado: si "mi" aparece antes que "cadena" en una lista ordenada de cadenas, "mi" debe compararse como menor o igual que "cadena".</span><span class="sxs-lookup"><span data-stu-id="68eef-157">Strings sort in a determined order: If "my" appears before "string" in a sorted list of strings, "my" must compare less than or equal to "string".</span></span> <span data-ttu-id="68eef-158">Además, la comparación define la igualdad implícitamente.</span><span class="sxs-lookup"><span data-stu-id="68eef-158">Additionally, comparison implicitly defines equality.</span></span> <span data-ttu-id="68eef-159">La operación de comparación devuelve cero para las cadenas que considera iguales.</span><span class="sxs-lookup"><span data-stu-id="68eef-159">The comparison operation returns zero for strings it deems equal.</span></span> <span data-ttu-id="68eef-160">Una buena interpretación es que ninguna cadena es menor que otra.</span><span class="sxs-lookup"><span data-stu-id="68eef-160">A good interpretation is that neither string is less than the other.</span></span> <span data-ttu-id="68eef-161">La mayoría de las operaciones significativas que implican cadenas incluyen uno o ambos de estos procedimientos: comparar con otra cadena y ejecutar una operación de ordenación bien definida.</span><span class="sxs-lookup"><span data-stu-id="68eef-161">Most meaningful operations involving strings include one or both of these procedures: comparing with another string, and executing a well-defined sort operation.</span></span>

> [!NOTE]
> <span data-ttu-id="68eef-162">Puede descargar las [tablas de pesos de ordenación](https://www.microsoft.com/download/details.aspx?id=10921), un conjunto de archivos de texto que contienen información sobre los pesos de caracteres que se usan en las operaciones de ordenación y comparación para los sistemas operativos Windows, además de la [tabla de elementos de intercalación Unicode predeterminada](https://www.unicode.org/Public/UCA/latest/allkeys.txt), que es la última versión de la tabla de pesos de ordenación para Linux y macOS.</span><span class="sxs-lookup"><span data-stu-id="68eef-162">You can download the [Sorting Weight Tables](https://www.microsoft.com/download/details.aspx?id=10921), a set of text files that contain information on the character weights used in sorting and comparison operations for Windows operating systems, and the [Default Unicode Collation Element Table](https://www.unicode.org/Public/UCA/latest/allkeys.txt), the latest version of the sort weight table for Linux and macOS.</span></span> <span data-ttu-id="68eef-163">La versión específica de la tabla de pesos de ordenación en Linux y macOS depende de la versión de las bibliotecas de [componentes internacionales de Unicode](http://site.icu-project.org/) instaladas en el sistema.</span><span class="sxs-lookup"><span data-stu-id="68eef-163">The specific version of the sort weight table on Linux and macOS depends on the version of the [International Components for Unicode](http://site.icu-project.org/) libraries installed on the system.</span></span> <span data-ttu-id="68eef-164">Para más información sobre las versiones de los componentes internacionales de Unicode y las versiones de Unicode que implementan, vea la información sobre la [descarga de componentes internacionales de Unicode](http://site.icu-project.org/download).</span><span class="sxs-lookup"><span data-stu-id="68eef-164">For information on ICU versions and the Unicode versions that they implement, see [Downloading ICU](http://site.icu-project.org/download).</span></span>

<span data-ttu-id="68eef-165">Sin embargo, la evaluación de dos cadenas para comprobar su igualdad o su criterio de ordenación no produce ningún resultado correcto único; el resultado depende de los criterios empleados para comparar las cadenas.</span><span class="sxs-lookup"><span data-stu-id="68eef-165">However, evaluating two strings for equality or sort order does not yield a single, correct result; the outcome depends on the criteria used to compare the strings.</span></span> <span data-ttu-id="68eef-166">En especial, las comparaciones de cadenas que son ordinales o que se basan en las convenciones de ordenación y uso de mayúsculas y minúsculas de la referencia cultural actual o de la [referencia cultural invariable](xref:System.Globalization.CultureInfo.InvariantCulture) (una referencia cultural válida para la configuración regional basada en el idioma inglés) pueden producir resultados diferentes.</span><span class="sxs-lookup"><span data-stu-id="68eef-166">In particular, string comparisons that are ordinal or that are based on the casing and sorting conventions of the current culture or the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture) (a locale-agnostic culture based on the English language) may produce different results.</span></span>

<span data-ttu-id="68eef-167">Además, las comparaciones de cadenas mediante las diferentes versiones de .NET o con .NET en distintos sistemas operativos o versiones de sistema operativo pueden devolver resultados diferentes.</span><span class="sxs-lookup"><span data-stu-id="68eef-167">In addition, string comparisons using different versions of .NET or using .NET on different operating systems or operating system versions may return different results.</span></span> <span data-ttu-id="68eef-168">Para más información, vea [Las cadenas y el estándar Unicode](xref:System.String#Unicode).</span><span class="sxs-lookup"><span data-stu-id="68eef-168">For more information, see [Strings and the Unicode Standard](xref:System.String#Unicode).</span></span>

### <a name="string-comparisons-that-use-the-current-culture"></a><span data-ttu-id="68eef-169">Comparaciones de cadenas que usan la referencia cultural actual</span><span class="sxs-lookup"><span data-stu-id="68eef-169">String comparisons that use the current culture</span></span>

<span data-ttu-id="68eef-170">Un criterio implica usar las convenciones de la referencia cultural actual a la hora de comparar cadenas.</span><span class="sxs-lookup"><span data-stu-id="68eef-170">One criterion involves using the conventions of the current culture when comparing strings.</span></span> <span data-ttu-id="68eef-171">Las comparaciones que se basan en la referencia cultural actual usan la referencia cultural o la configuración regional actual del subproceso.</span><span class="sxs-lookup"><span data-stu-id="68eef-171">Comparisons that are based on the current culture use the thread's current culture or locale.</span></span> <span data-ttu-id="68eef-172">Si el usuario no establece la referencia cultural, se usa como valor predeterminado la configuración de la ventana **Opciones regionales** del Panel de control.</span><span class="sxs-lookup"><span data-stu-id="68eef-172">If the culture is not set by the user, it defaults to the setting in the **Regional Options** window in Control Panel.</span></span> <span data-ttu-id="68eef-173">Siempre debe usar comparaciones basadas en la referencia cultural actual cuando los datos sean lingüísticamente pertinentes y cuando refleje una interacción con el usuario dependiente de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-173">You should always use comparisons that are based on the current culture when data is linguistically relevant, and when it reflects culture-sensitive user interaction.</span></span>

<span data-ttu-id="68eef-174">En cambio, el comportamiento de comparación y uso de mayúsculas y minúsculas de .NET cambia cuando la referencia cultural cambia.</span><span class="sxs-lookup"><span data-stu-id="68eef-174">However, comparison and casing behavior in .NET changes when the culture changes.</span></span> <span data-ttu-id="68eef-175">Esto ocurre cuando una aplicación se ejecuta en un equipo que tiene una referencia cultural diferente que el equipo en el que se desarrolló la aplicación o cuando el subproceso en ejecución cambia su referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-175">This happens when an application executes on a computer that has a different culture than the computer on which the application was developed, or when the executing thread changes its culture.</span></span> <span data-ttu-id="68eef-176">Este comportamiento es deliberado, pero sigue resultando no obvio para muchos desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="68eef-176">This behavior is intentional, but it remains non-obvious to many developers.</span></span> <span data-ttu-id="68eef-177">En el ejemplo siguiente, se muestran las diferencias en el criterio de ordenación entre las referencias culturales de inglés de EE. UU. ("en-US") y sueco ("sv-SE").</span><span class="sxs-lookup"><span data-stu-id="68eef-177">The following example illustrates differences in sort order between the U.S. English ("en-US") and Swedish ("sv-SE") cultures.</span></span> <span data-ttu-id="68eef-178">Tenga en cuenta que las palabras "ångström", "Windows" y "Visual Studio" aparecen en distintas posiciones en las matrices de cadenas ordenadas.</span><span class="sxs-lookup"><span data-stu-id="68eef-178">Note that the words "ångström", "Windows", and "Visual Studio" appear in different positions in the sorted string arrays.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#3](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison1.cs#3)]
[!code-vb[Conceptual.Strings.BestPractices#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison1.vb#3)]

<span data-ttu-id="68eef-179">Las comparaciones sin distinción entre mayúsculas y minúsculas que usan la referencia cultural actual son iguales que las comparaciones dependientes de la referencia cultural, excepto que omiten el uso de mayúsculas y minúsculas según indica la referencia cultural actual del subproceso.</span><span class="sxs-lookup"><span data-stu-id="68eef-179">Case-insensitive comparisons that use the current culture are the same as culture-sensitive comparisons, except that they ignore case as dictated by the thread's current culture.</span></span> <span data-ttu-id="68eef-180">Este comportamiento también se puede manifestar en los criterios de ordenación.</span><span class="sxs-lookup"><span data-stu-id="68eef-180">This behavior may manifest itself in sort orders as well.</span></span>

<span data-ttu-id="68eef-181">Las comparaciones que usan semántica de la referencia cultural actual son el valor predeterminado para los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="68eef-181">Comparisons that use current culture semantics are the default for the following methods:</span></span>

- <span data-ttu-id="68eef-182">Sobrecargas de<xref:System.String.Compare%2A?displayProperty=nameWithType> que no incluyen un parámetro <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="68eef-182"><xref:System.String.Compare%2A?displayProperty=nameWithType> overloads that do not include a <xref:System.StringComparison> parameter.</span></span>
- <span data-ttu-id="68eef-183">Sobrecargas de<xref:System.String.CompareTo%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-183"><xref:System.String.CompareTo%2A?displayProperty=nameWithType> overloads.</span></span>
- <span data-ttu-id="68eef-184">El método predeterminado <xref:System.String.StartsWith%28System.String%29?displayProperty=nameWithType> y el método <xref:System.String.StartsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> con un parámetro `null`<xref:System.Globalization.CultureInfo> .</span><span class="sxs-lookup"><span data-stu-id="68eef-184">The default <xref:System.String.StartsWith%28System.String%29?displayProperty=nameWithType> method, and the <xref:System.String.StartsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> method with a `null`<xref:System.Globalization.CultureInfo> parameter.</span></span>
- <span data-ttu-id="68eef-185">El método predeterminado <xref:System.String.EndsWith%28System.String%29?displayProperty=nameWithType> y el método <xref:System.String.EndsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> con un parámetro `null`<xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="68eef-185">The default <xref:System.String.EndsWith%28System.String%29?displayProperty=nameWithType> method, and the <xref:System.String.EndsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> method with a `null`<xref:System.Globalization.CultureInfo> parameter.</span></span>
- <span data-ttu-id="68eef-186">Sobrecargas de<xref:System.String.IndexOf%2A?displayProperty=nameWithType> que aceptan <xref:System.String> como un parámetro de búsqueda y que no tienen un parámetro <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="68eef-186"><xref:System.String.IndexOf%2A?displayProperty=nameWithType> overloads that accept a <xref:System.String> as a search parameter and that do not have a <xref:System.StringComparison> parameter.</span></span>
- <span data-ttu-id="68eef-187">Sobrecargas de<xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> que aceptan <xref:System.String> como un parámetro de búsqueda y que no tienen un parámetro <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="68eef-187"><xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> overloads that accept a <xref:System.String> as a search parameter and that do not have a <xref:System.StringComparison> parameter.</span></span>

<span data-ttu-id="68eef-188">En cualquier caso, se recomienda llamar a una sobrecarga que tenga un parámetro <xref:System.StringComparison> para aclarar la intención de la llamada al método.</span><span class="sxs-lookup"><span data-stu-id="68eef-188">In any case, we recommend that you call an overload that has a <xref:System.StringComparison> parameter to make the intent of the method call clear.</span></span>

<span data-ttu-id="68eef-189">Pueden surgir errores imperceptibles y no tan imperceptibles cuando los datos de cadenas no lingüísticos se interpretan lingüísticamente, o cuando los datos de cadenas de una referencia cultural determinada se interpretan usando las convenciones de otra referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-189">Subtle and not so subtle bugs can emerge when non-linguistic string data is interpreted linguistically, or when string data from a particular culture is interpreted using the conventions of another culture.</span></span> <span data-ttu-id="68eef-190">El ejemplo canónico es el problema con I en turco.</span><span class="sxs-lookup"><span data-stu-id="68eef-190">The canonical example is the Turkish-I problem.</span></span>

<span data-ttu-id="68eef-191">Para casi todos los alfabetos latinos, incluso en inglés de EE. UU., el carácter "i" (\u0069) es la versión en minúsculas del carácter "I" (\u0049).</span><span class="sxs-lookup"><span data-stu-id="68eef-191">For nearly all Latin alphabets, including U.S. English, the character "i" (\u0069) is the lowercase version of the character "I" (\u0049).</span></span> <span data-ttu-id="68eef-192">Esta regla de mayúsculas y minúsculas se convierte rápidamente en el valor predeterminado para alguien que programe en esa referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-192">This casing rule quickly becomes the default for someone programming in such a culture.</span></span> <span data-ttu-id="68eef-193">En cambio, el alfabeto turco ("tr-TR") incluye un carácter "I con punto" "İ" (\u0130), que es la versión en mayúsculas de "i".</span><span class="sxs-lookup"><span data-stu-id="68eef-193">However, the Turkish ("tr-TR") alphabet includes an "I with a dot" character "İ" (\u0130), which is the capital version of "i".</span></span> <span data-ttu-id="68eef-194">El turco también incluye un carácter "i sin punto" en minúscula, "ı" (\u0131), que en mayúsculas es "I".</span><span class="sxs-lookup"><span data-stu-id="68eef-194">Turkish also includes a lowercase "i without a dot" character, "ı" (\u0131), which capitalizes to "I".</span></span> <span data-ttu-id="68eef-195">Este comportamiento también se produce en la referencia cultural de azerbaiyano ("az").</span><span class="sxs-lookup"><span data-stu-id="68eef-195">This behavior occurs in the Azerbaijani ("az") culture as well.</span></span>

<span data-ttu-id="68eef-196">Por tanto, los supuestos sobre poner en mayúsculas "i" o escribir "I" en minúsculas no son válidas en todas las referencias culturales.</span><span class="sxs-lookup"><span data-stu-id="68eef-196">Therefore, assumptions made about capitalizing "i" or lowercasing "I" are not valid among all cultures.</span></span> <span data-ttu-id="68eef-197">Si usa las sobrecargas predeterminadas para las rutinas de comparación de cadenas, estarán sujetas a variaciones entre distintas referencias culturales.</span><span class="sxs-lookup"><span data-stu-id="68eef-197">If you use the default overloads for string comparison routines, they will be subject to variance between cultures.</span></span> <span data-ttu-id="68eef-198">Si los datos que se van a comparar son no lingüísticos, el uso de las sobrecargas predeterminadas puede generar resultados no deseables, como ilustra el siguiente intento de realizar una comparación sin distinción entre mayúsculas y minúsculas de las cadenas "file" y "FILE".</span><span class="sxs-lookup"><span data-stu-id="68eef-198">If the data to be compared is non-linguistic, using the default overloads can produce undesirable results, as the following attempt to perform a case-insensitive comparison of the strings "file" and "FILE" illustrates.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#11](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#11)]
[!code-vb[Conceptual.Strings.BestPractices#11](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#11)]

<span data-ttu-id="68eef-199">Esta comparación podría producir problemas importantes si la referencia cultural se usa involuntariamente en configuraciones que afectan a la seguridad, como en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="68eef-199">This comparison could cause significant problems if the culture is inadvertently used in security-sensitive settings, as in the following example.</span></span> <span data-ttu-id="68eef-200">Una llamada al método como `IsFileURI("file:")` devuelve `true` si la referencia cultural actual es inglés de EE. U.U., pero `false` si la referencia cultural actual es el turco.</span><span class="sxs-lookup"><span data-stu-id="68eef-200">A method call such as `IsFileURI("file:")` returns `true` if the current culture is U.S. English, but `false` if the current culture is Turkish.</span></span> <span data-ttu-id="68eef-201">Así, en los sistemas turcos, alguien podría sortear las medidas de seguridad que bloquean el acceso a los URI sin distinción entre mayúsculas y minúsculas que comienzan con "FILE":.</span><span class="sxs-lookup"><span data-stu-id="68eef-201">Thus, on Turkish systems, someone could circumvent security measures that block access to case-insensitive URIs that begin with "FILE:".</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#12](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#12)]
[!code-vb[Conceptual.Strings.BestPractices#12](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#12)]

<span data-ttu-id="68eef-202">En este caso, como "file:" se debe interpretar como un identificador no lingüístico e independiente de la referencia cultural, el código se debe escribir como se muestra en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="68eef-202">In this case, because "file:" is meant to be interpreted as a non-linguistic, culture-insensitive identifier, the code should instead be written as shown in the following example:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#13](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#13)]
[!code-vb[Conceptual.Strings.BestPractices#13](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#13)]

### <a name="ordinal-string-operations"></a><span data-ttu-id="68eef-203">Operaciones de cadenas ordinales</span><span class="sxs-lookup"><span data-stu-id="68eef-203">Ordinal string operations</span></span>

<span data-ttu-id="68eef-204">Al especificar el valor <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> o <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> en una llamada al método, se indica una comparación no lingüística en la que se omiten las características de los lenguajes naturales.</span><span class="sxs-lookup"><span data-stu-id="68eef-204">Specifying the <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> value in a method call signifies a non-linguistic comparison in which the features of natural languages are ignored.</span></span> <span data-ttu-id="68eef-205">Los métodos que se invocan con estos valores <xref:System.StringComparison> basan las decisiones sobre las operaciones con cadenas en simples comparaciones de bytes en lugar de usos de mayúsculas y minúsculas o tablas de equivalencia parametrizadas por referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-205">Methods that are invoked with these <xref:System.StringComparison> values base string operation decisions on simple byte comparisons instead of casing or equivalence tables that are parameterized by culture.</span></span> <span data-ttu-id="68eef-206">En la mayoría de los casos, este enfoque se adapta mejor a la interpretación prevista de cadenas, y el código es más rápido y más confiable.</span><span class="sxs-lookup"><span data-stu-id="68eef-206">In most cases, this approach best fits the intended interpretation of strings while making code faster and more reliable.</span></span>

<span data-ttu-id="68eef-207">Las comparaciones ordinales son comparaciones de cadenas en las que cada byte de cada cadena se compara sin ninguna interpretación lingüística; por ejemplo, "windows" no coincide con "Windows".</span><span class="sxs-lookup"><span data-stu-id="68eef-207">Ordinal comparisons are string comparisons in which each byte of each string is compared without linguistic interpretation; for example, "windows" does not match "Windows".</span></span> <span data-ttu-id="68eef-208">Esta es, esencialmente, una llamada a la función `strcmp` en tiempo de ejecución de C.</span><span class="sxs-lookup"><span data-stu-id="68eef-208">This is essentially a call to the C runtime `strcmp` function.</span></span> <span data-ttu-id="68eef-209">Use esta comparación cuando el contexto indique que las cadenas deben coincidir exactamente o exija una directiva de coincidencia conservadora.</span><span class="sxs-lookup"><span data-stu-id="68eef-209">Use this comparison when the context dictates that strings should be matched exactly or demands conservative matching policy.</span></span> <span data-ttu-id="68eef-210">Además, la comparación ordinal es la operación de comparación más rápida porque no aplica ninguna regla lingüística al determinar un resultado.</span><span class="sxs-lookup"><span data-stu-id="68eef-210">Additionally, ordinal comparison is the fastest comparison operation because it applies no linguistic rules when determining a result.</span></span>

<span data-ttu-id="68eef-211">En .NET, las cadenas pueden contener caracteres nulos incrustados.</span><span class="sxs-lookup"><span data-stu-id="68eef-211">Strings in .NET can contain embedded null characters.</span></span> <span data-ttu-id="68eef-212">Una de las diferencias más claras entre la comparación ordinal y dependiente de la referencia cultural (incluyendo las comparaciones que usan la referencia cultural de todos los idiomas) tiene que ver con el control de caracteres nulos incrustados en una cadena.</span><span class="sxs-lookup"><span data-stu-id="68eef-212">One of the clearest differences between ordinal and culture-sensitive comparison (including comparisons that use the invariant culture) concerns the handling of embedded null characters in a string.</span></span> <span data-ttu-id="68eef-213">Estos caracteres se omiten cuando usa métodos <xref:System.String.Compare%2A?displayProperty=nameWithType> y <xref:System.String.Equals%2A?displayProperty=nameWithType> para realizar comparaciones dependientes de la referencia cultural (incluyendo las comparaciones que usan la referencia cultural de todos los idiomas).</span><span class="sxs-lookup"><span data-stu-id="68eef-213">These characters are ignored when you use the <xref:System.String.Compare%2A?displayProperty=nameWithType> and <xref:System.String.Equals%2A?displayProperty=nameWithType> methods to perform culture-sensitive comparisons (including comparisons that use the invariant culture).</span></span> <span data-ttu-id="68eef-214">Por tanto, en las comparaciones dependientes de la referencia cultural, las cadenas que contienen caracteres nulos incrustados pueden considerarse iguales que las cadenas que no los contienen.</span><span class="sxs-lookup"><span data-stu-id="68eef-214">As a result, in culture-sensitive comparisons, strings that contain embedded null characters can be considered equal to strings that do not.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="68eef-215">Aunque los métodos de comparación de cadenas hacen caso omiso de los caracteres nulos incrustados, los métodos de búsqueda de cadenas como <xref:System.String.Contains%2A?displayProperty=nameWithType>, <xref:System.String.EndsWith%2A?displayProperty=nameWithType>, <xref:System.String.IndexOf%2A?displayProperty=nameWithType>, <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType>y <xref:System.String.StartsWith%2A?displayProperty=nameWithType> sí los tienen en cuenta.</span><span class="sxs-lookup"><span data-stu-id="68eef-215">Although string comparison methods disregard embedded null characters, string search methods such as <xref:System.String.Contains%2A?displayProperty=nameWithType>, <xref:System.String.EndsWith%2A?displayProperty=nameWithType>, <xref:System.String.IndexOf%2A?displayProperty=nameWithType>, <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType>, and <xref:System.String.StartsWith%2A?displayProperty=nameWithType> do not.</span></span>

<span data-ttu-id="68eef-216">En el ejemplo siguiente se realiza una comparación dependiente de la referencia cultural de la cadena "Aa" con una cadena similar que contiene varios caracteres nulos insertados entre "A" y "a", y se muestra cómo las dos cadenas se consideran iguales:</span><span class="sxs-lookup"><span data-stu-id="68eef-216">The following example performs a culture-sensitive comparison of the string "Aa" with a similar string that contains several embedded null characters between "A" and "a", and shows how the two strings are considered equal:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#19](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/embeddednulls1.cs#19)]
 [!code-vb[Conceptual.Strings.BestPractices#19](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/embeddednulls1.vb#19)]

<span data-ttu-id="68eef-217">Pero las cadenas no se consideran iguales cuando se usa la comparación ordinal, como se muestra en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="68eef-217">However, the strings are not considered equal when you use ordinal comparison, as the following example shows:</span></span>
  
[!code-csharp[Conceptual.Strings.BestPractices#20](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/embeddednulls2.cs#20)]
[!code-vb[Conceptual.Strings.BestPractices#20](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/embeddednulls2.vb#20)]

<span data-ttu-id="68eef-218">Las comparaciones ordinales sin distinción entre mayúsculas y minúsculas son el siguiente enfoque más conservador.</span><span class="sxs-lookup"><span data-stu-id="68eef-218">Case-insensitive ordinal comparisons are the next most conservative approach.</span></span> <span data-ttu-id="68eef-219">Estas comparaciones omiten la mayor parte del uso de mayúsculas y minúsculas; por ejemplo, "windows" coincide con "Windows".</span><span class="sxs-lookup"><span data-stu-id="68eef-219">These comparisons ignore most casing; for example, "windows" matches "Windows".</span></span> <span data-ttu-id="68eef-220">A la hora de tratar con caracteres ASCII, esta directiva es equivalente a <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>, salvo que omite el uso de mayúsculas y minúsculas habitual de ASCII.</span><span class="sxs-lookup"><span data-stu-id="68eef-220">When dealing with ASCII characters, this policy is equivalent to <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>, except that it ignores the usual ASCII casing.</span></span> <span data-ttu-id="68eef-221">Por tanto, cualquier carácter de [A, Z] (\u0041-\u005A) coincide con el carácter correspondiente de [a, z] (\u0061-\007A).</span><span class="sxs-lookup"><span data-stu-id="68eef-221">Therefore, any character in [A, Z] (\u0041-\u005A) matches the corresponding character in [a,z] (\u0061-\007A).</span></span> <span data-ttu-id="68eef-222">El uso de mayúsculas y minúsculas fuera del intervalo ASCII emplea las tablas de la referencia cultural de todos los idiomas.</span><span class="sxs-lookup"><span data-stu-id="68eef-222">Casing outside the ASCII range uses the invariant culture's tables.</span></span> <span data-ttu-id="68eef-223">Por tanto, la siguiente comparación:</span><span class="sxs-lookup"><span data-stu-id="68eef-223">Therefore, the following comparison:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#4](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison2.cs#4)]
[!code-vb[Conceptual.Strings.BestPractices#4](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison2.vb#4)]

<span data-ttu-id="68eef-224">es equivalente a esta comparación (pero más rápida):</span><span class="sxs-lookup"><span data-stu-id="68eef-224">is equivalent to (but faster than) this comparison:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#5](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison2.cs#5)]
[!code-vb[Conceptual.Strings.BestPractices#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison2.vb#5)]

<span data-ttu-id="68eef-225">Estas comparaciones siguen siendo muy rápidas.</span><span class="sxs-lookup"><span data-stu-id="68eef-225">These comparisons are still very fast.</span></span>

> [!NOTE]
> <span data-ttu-id="68eef-226">El comportamiento de las cadenas del sistema de archivos, claves del Registro y valores, y variables de entorno se representa mejor mediante <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-226">The string behavior of the file system, registry keys and values, and environment variables is best represented by <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-227">Tanto <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> como <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> usan los valores binarios directamente y son más adecuados para la búsqueda de coincidencias.</span><span class="sxs-lookup"><span data-stu-id="68eef-227">Both <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> and <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> use the binary values directly, and are best suited for matching.</span></span> <span data-ttu-id="68eef-228">Si no sabe con seguridad qué configuración de comparación debe emplear, use uno de estos dos valores.</span><span class="sxs-lookup"><span data-stu-id="68eef-228">When you are not sure about your comparison settings, use one of these two values.</span></span> <span data-ttu-id="68eef-229">Sin embargo, puesto que realizan una comparación byte a byte, no ordenan según un criterio de ordenación lingüístico (como un diccionario de inglés) sino según un criterio de ordenación binario.</span><span class="sxs-lookup"><span data-stu-id="68eef-229">However, because they perform a byte-by-byte comparison, they do not sort by a linguistic sort order (like an English dictionary) but by a binary sort order.</span></span> <span data-ttu-id="68eef-230">Los resultados pueden parecer extraños en la mayoría de los contextos si se muestran a los usuarios.</span><span class="sxs-lookup"><span data-stu-id="68eef-230">The results may look odd in most contexts if displayed to users.</span></span>

<span data-ttu-id="68eef-231">La semántica ordinal es el valor predeterminado para las sobrecargas de <xref:System.String.Equals%2A?displayProperty=nameWithType> que no incluyen un argumento <xref:System.StringComparison> (incluyendo el operador de igualdad).</span><span class="sxs-lookup"><span data-stu-id="68eef-231">Ordinal semantics are the default for <xref:System.String.Equals%2A?displayProperty=nameWithType> overloads that do not include a <xref:System.StringComparison> argument (including the equality operator).</span></span> <span data-ttu-id="68eef-232">En cualquier caso, se recomienda llamar a una sobrecarga que tenga un parámetro <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="68eef-232">In any case, we recommend that you call an overload that has a <xref:System.StringComparison> parameter.</span></span>

### <a name="string-operations-that-use-the-invariant-culture"></a><span data-ttu-id="68eef-233">Operaciones de cadenas que usan la referencia cultural invariable</span><span class="sxs-lookup"><span data-stu-id="68eef-233">string operations that use the invariant culture</span></span>

<span data-ttu-id="68eef-234">Las comparaciones con la referencia cultural de todos los idiomas usan la propiedad <xref:System.Globalization.CultureInfo.CompareInfo%2A> devuelta por la propiedad estática <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-234">Comparisons with the invariant culture use the <xref:System.Globalization.CultureInfo.CompareInfo%2A> property returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="68eef-235">Este comportamiento es igual en todos los sistemas; traduce cualquier carácter que esté fuera de su intervalo en lo que cree que son caracteres invariables equivalentes.</span><span class="sxs-lookup"><span data-stu-id="68eef-235">This behavior is the same on all systems; it translates any characters outside its range into what it believes are equivalent invariant characters.</span></span> <span data-ttu-id="68eef-236">Esta directiva puede ser útil para mantener un conjunto de comportamientos de las cadenas en distintas referencias culturales, pero a menudo proporciona resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="68eef-236">This policy can be useful for maintaining one set of string behavior across cultures, but it often provides unexpected results.</span></span>

<span data-ttu-id="68eef-237">Las comparaciones sin distinción entre mayúsculas y minúsculas con la referencia cultural de todos los idiomas usan también la propiedad estática <xref:System.Globalization.CultureInfo.CompareInfo%2A> devuelta por la propiedad estática <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> para obtener información de comparación.</span><span class="sxs-lookup"><span data-stu-id="68eef-237">Case-insensitive comparisons with the invariant culture use the static <xref:System.Globalization.CultureInfo.CompareInfo%2A> property returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property for comparison information as well.</span></span> <span data-ttu-id="68eef-238">Cualquier diferencia en el uso de mayúsculas y minúsculas entre estos caracteres traducidos se pasa por alto.</span><span class="sxs-lookup"><span data-stu-id="68eef-238">Any case differences among these translated characters are ignored.</span></span>

<span data-ttu-id="68eef-239">Las comparaciones que usan <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> y <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> funcionan de manera idéntica en cadenas ASCII.</span><span class="sxs-lookup"><span data-stu-id="68eef-239">Comparisons that use <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> and <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> work identically on ASCII strings.</span></span> <span data-ttu-id="68eef-240">Sin embargo, <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> toma decisiones lingüísticas que podrían no ser adecuadas para las cadenas que tienen que interpretarse como un conjunto de bytes.</span><span class="sxs-lookup"><span data-stu-id="68eef-240">However, <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> makes linguistic decisions that might not be appropriate for strings that have to be interpreted as a set of bytes.</span></span> <span data-ttu-id="68eef-241">El objeto `CultureInfo.InvariantCulture.CompareInfo` hace que el método <xref:System.String.Compare%2A> interprete ciertos conjuntos de caracteres como equivalentes.</span><span class="sxs-lookup"><span data-stu-id="68eef-241">The `CultureInfo.InvariantCulture.CompareInfo` object makes the <xref:System.String.Compare%2A> method interpret certain sets of characters as equivalent.</span></span> <span data-ttu-id="68eef-242">Por ejemplo, la siguiente equivalencia es válida en la referencia cultural de todos los idiomas:</span><span class="sxs-lookup"><span data-stu-id="68eef-242">For example, the following equivalence is valid under the invariant culture:</span></span>

<span data-ttu-id="68eef-243">InvariantCulture: a + ̊ = å</span><span class="sxs-lookup"><span data-stu-id="68eef-243">InvariantCulture: a + ̊ = å</span></span>

<span data-ttu-id="68eef-244">El carácter LETRA LATINA A MINÚSCULA "a" (\u0061), cuando está junto al carácter ANILLO SUPERIOR COMBINABLE "+ " ̊" (\u030a), se interpreta como el carácter LETRA LATINA MINÚSCULA A CON ANILLO SUPERIOR "å" (\u00e5).</span><span class="sxs-lookup"><span data-stu-id="68eef-244">The LATIN SMALL LETTER A character "a"  (\u0061), when it is next to the COMBINING RING ABOVE character "+ " ̊" (\u030a), is interpreted as the LATIN SMALL LETTER A WITH RING ABOVE character "å" (\u00e5).</span></span> <span data-ttu-id="68eef-245">Como se muestra en el ejemplo siguiente, este comportamiento difiere de la comparación ordinal.</span><span class="sxs-lookup"><span data-stu-id="68eef-245">As the following example shows, this behavior differs from ordinal comparison.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#15](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison3.cs#15)]
[!code-vb[Conceptual.Strings.BestPractices#15](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison3.vb#15)]

<span data-ttu-id="68eef-246">A la hora de interpretar nombres de archivo, cookies u otros elementos donde pueda aparecer una combinación como "å", las comparaciones ordinales siguen ofreciendo el comportamiento más transparente y adecuado.</span><span class="sxs-lookup"><span data-stu-id="68eef-246">When interpreting file names, cookies, or anything else where a combination such as "å" can appear, ordinal comparisons still offer the most transparent and fitting behavior.</span></span>

<span data-ttu-id="68eef-247">En conjunto, la referencia cultural de todos los idiomas tiene muy pocas propiedades que la hagan útil para la comparación.</span><span class="sxs-lookup"><span data-stu-id="68eef-247">On balance, the invariant culture has very few properties that make it useful for comparison.</span></span> <span data-ttu-id="68eef-248">Realiza la comparación de manera lingüísticamente pertinente, lo que le impide garantizar una equivalencia simbólica completa, pero no es la opción ideal para la presentación en cualquier referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-248">It does comparison in a linguistically relevant manner, which prevents it from guaranteeing full symbolic equivalence, but it is not the choice for display in any culture.</span></span> <span data-ttu-id="68eef-249">Una de las pocas razones para usar <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> con el fin de realizar una comparación es para conservar datos ordenados cuando se desea realizar una presentación idéntica transculturalmente.</span><span class="sxs-lookup"><span data-stu-id="68eef-249">One of the few reasons to use <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> for comparison is to persist ordered data for a cross-culturally identical display.</span></span> <span data-ttu-id="68eef-250">Por ejemplo, si un archivo de datos grande que contiene una lista de identificadores ordenados para su presentación acompaña una aplicación, al agregar datos a esta lista se necesitaría realizar una inserción con ordenación de estilo invariable.</span><span class="sxs-lookup"><span data-stu-id="68eef-250">For example, if a large data file that contains a list of sorted identifiers for display accompanies an application, adding to this list would require an insertion with invariant-style sorting.</span></span>

## <a name="choosing-a-stringcomparison-member-for-your-method-call"></a><span data-ttu-id="68eef-251">Elegir un miembro StringComparison para la llamada al método</span><span class="sxs-lookup"><span data-stu-id="68eef-251">Choosing a StringComparison member for your method call</span></span>

<span data-ttu-id="68eef-252">En la tabla siguiente se describe la asignación del contexto de cadena semántico a un miembro de la enumeración <xref:System.StringComparison>:</span><span class="sxs-lookup"><span data-stu-id="68eef-252">The following table outlines the mapping from semantic string context to a <xref:System.StringComparison> enumeration member:</span></span>

|<span data-ttu-id="68eef-253">Datos</span><span class="sxs-lookup"><span data-stu-id="68eef-253">Data</span></span>|<span data-ttu-id="68eef-254">Comportamiento</span><span class="sxs-lookup"><span data-stu-id="68eef-254">Behavior</span></span>|<span data-ttu-id="68eef-255">Valor de System.StringComparison</span><span class="sxs-lookup"><span data-stu-id="68eef-255">Corresponding System.StringComparison</span></span><br /><br /> <span data-ttu-id="68eef-256">value</span><span class="sxs-lookup"><span data-stu-id="68eef-256">value</span></span>|
|----------|--------------|-----------------------------------------------------|
|<span data-ttu-id="68eef-257">Identificadores internos con distinción entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-257">Case-sensitive internal identifiers.</span></span><br /><br /> <span data-ttu-id="68eef-258">Identificadores con distinción entre mayúsculas y minúsculas en estándares como XML y HTTP.</span><span class="sxs-lookup"><span data-stu-id="68eef-258">Case-sensitive identifiers in standards such as XML and HTTP.</span></span><br /><br /> <span data-ttu-id="68eef-259">Configuraciones relacionadas con la seguridad con distinción entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-259">Case-sensitive security-related settings.</span></span>|<span data-ttu-id="68eef-260">Identificador no lingüístico, donde los bytes coinciden exactamente.</span><span class="sxs-lookup"><span data-stu-id="68eef-260">A non-linguistic identifier, where bytes match exactly.</span></span>|<xref:System.StringComparison.Ordinal>|
|<span data-ttu-id="68eef-261">Identificadores internos sin distinción entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-261">Case-insensitive internal identifiers.</span></span><br /><br /> <span data-ttu-id="68eef-262">Identificadores sin distinción entre mayúsculas y minúsculas en estándares como XML y HTTP.</span><span class="sxs-lookup"><span data-stu-id="68eef-262">Case-insensitive identifiers in standards such as XML and HTTP.</span></span><br /><br /> <span data-ttu-id="68eef-263">Rutas de acceso a archivos.</span><span class="sxs-lookup"><span data-stu-id="68eef-263">File paths.</span></span><br /><br /> <span data-ttu-id="68eef-264">Claves del Registro y valores.</span><span class="sxs-lookup"><span data-stu-id="68eef-264">Registry keys and values.</span></span><br /><br /> <span data-ttu-id="68eef-265">Variables de entorno.</span><span class="sxs-lookup"><span data-stu-id="68eef-265">Environment variables.</span></span><br /><br /> <span data-ttu-id="68eef-266">Identificadores de recursos (por ejemplo, nombres de identificadores).</span><span class="sxs-lookup"><span data-stu-id="68eef-266">Resource identifiers (for example, handle names).</span></span><br /><br /> <span data-ttu-id="68eef-267">Configuraciones relacionadas con la seguridad sin distinción entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-267">Case-insensitive security-related settings.</span></span>|<span data-ttu-id="68eef-268">Identificador no lingüístico, donde el uso de mayúsculas y minúsculas no es pertinente; especialmente datos almacenados en la mayoría de los servicios del sistema de Windows.</span><span class="sxs-lookup"><span data-stu-id="68eef-268">A non-linguistic identifier, where case is irrelevant; especially data stored in most Windows system services.</span></span>|<xref:System.StringComparison.OrdinalIgnoreCase>|
|<span data-ttu-id="68eef-269">Algunos datos almacenados lingüísticamente pertinentes.</span><span class="sxs-lookup"><span data-stu-id="68eef-269">Some persisted, linguistically relevant data.</span></span><br /><br /> <span data-ttu-id="68eef-270">Presentación de datos lingüísticos que necesitan un criterio de ordenación fijo.</span><span class="sxs-lookup"><span data-stu-id="68eef-270">Display of linguistic data that requires a fixed sort order.</span></span>|<span data-ttu-id="68eef-271">Datos válidos culturalmente que siguen siendo lingüísticamente pertinentes.</span><span class="sxs-lookup"><span data-stu-id="68eef-271">Culturally agnostic data that still is linguistically relevant.</span></span>|<xref:System.StringComparison.InvariantCulture><br /><br /> <span data-ttu-id="68eef-272">o bien</span><span class="sxs-lookup"><span data-stu-id="68eef-272">-or-</span></span><br /><br /> <xref:System.StringComparison.InvariantCultureIgnoreCase>|
|<span data-ttu-id="68eef-273">Datos mostrados al usuario.</span><span class="sxs-lookup"><span data-stu-id="68eef-273">Data displayed to the user.</span></span><br /><br /> <span data-ttu-id="68eef-274">La mayoría de los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="68eef-274">Most user input.</span></span>|<span data-ttu-id="68eef-275">Datos que necesitan personalizaciones lingüísticas locales.</span><span class="sxs-lookup"><span data-stu-id="68eef-275">Data that requires local linguistic customs.</span></span>|<xref:System.StringComparison.CurrentCulture><br /><br /> <span data-ttu-id="68eef-276">o bien</span><span class="sxs-lookup"><span data-stu-id="68eef-276">-or-</span></span><br /><br /> <xref:System.StringComparison.CurrentCultureIgnoreCase>|

## <a name="common-string-comparison-methods-in-net"></a><span data-ttu-id="68eef-277">Métodos comunes de comparación de cadenas en .NET</span><span class="sxs-lookup"><span data-stu-id="68eef-277">Common string comparison methods in .NET</span></span>

<span data-ttu-id="68eef-278">En las secciones siguientes se describen los métodos que se usan con más frecuencia para la comparación de cadenas.</span><span class="sxs-lookup"><span data-stu-id="68eef-278">The following sections describe the methods that are most commonly used for string comparison.</span></span>

### <a name="stringcompare"></a><span data-ttu-id="68eef-279">String.Compare</span><span class="sxs-lookup"><span data-stu-id="68eef-279">String.Compare</span></span>

<span data-ttu-id="68eef-280">Interpretación predeterminada: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-280">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-281">Al ser la operación fundamental para la interpretación de cadenas, todas las instancias de estas llamadas al método se deben examinar para determinar si las cadenas se deben interpretar según la referencia cultural actual o se deben separar de la referencia cultural (simbólicamente).</span><span class="sxs-lookup"><span data-stu-id="68eef-281">As the operation most central to string interpretation, all instances of these method calls should be examined to determine whether strings should be interpreted according to the current culture, or dissociated from the culture (symbolically).</span></span> <span data-ttu-id="68eef-282">Normalmente, se trata del último caso y se debe usar en su lugar una comparación <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-282">Typically, it is the latter, and a <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> comparison should be used instead.</span></span>

<span data-ttu-id="68eef-283">La clase <xref:System.Globalization.CompareInfo?displayProperty=nameWithType> , devuelta por la propiedad <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> , también incluye un método <xref:System.Globalization.CompareInfo.Compare%2A> que proporciona un gran número de opciones de coincidencia (ordinal, omitir el espacio en blanco, omitir el tipo de kana, etc.) por medio de la enumeración de marca <xref:System.Globalization.CompareOptions> .</span><span class="sxs-lookup"><span data-stu-id="68eef-283">The <xref:System.Globalization.CompareInfo?displayProperty=nameWithType> class, which is returned by the <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property, also includes a <xref:System.Globalization.CompareInfo.Compare%2A> method that provides a large number of matching options (ordinal, ignoring white space, ignoring kana type, and so on) by means of the <xref:System.Globalization.CompareOptions> flag enumeration.</span></span>

### <a name="stringcompareto"></a><span data-ttu-id="68eef-284">String.CompareTo</span><span class="sxs-lookup"><span data-stu-id="68eef-284">String.CompareTo</span></span>

<span data-ttu-id="68eef-285">Interpretación predeterminada: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-285">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-286">Este método no ofrece actualmente una sobrecarga que especifique un tipo <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="68eef-286">This method does not currently offer an overload that specifies a <xref:System.StringComparison> type.</span></span> <span data-ttu-id="68eef-287">Normalmente es posible convertir este método en el formato recomendado del método <xref:System.String.Compare%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-287">It is usually possible to convert this method to the recommended <xref:System.String.Compare%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> form.</span></span>

<span data-ttu-id="68eef-288">Los tipos que implementan interfaces <xref:System.IComparable> y <xref:System.IComparable%601> implementan este método.</span><span class="sxs-lookup"><span data-stu-id="68eef-288">Types that implement the <xref:System.IComparable> and <xref:System.IComparable%601> interfaces implement this method.</span></span> <span data-ttu-id="68eef-289">Puesto que no ofrece la opción de un parámetro <xref:System.StringComparison> , la implementación de tipos suele permitir al usuario especificar <xref:System.StringComparer> en su constructor.</span><span class="sxs-lookup"><span data-stu-id="68eef-289">Because it does not offer the option of a <xref:System.StringComparison> parameter, implementing types often let the user specify a <xref:System.StringComparer> in their constructor.</span></span> <span data-ttu-id="68eef-290">En el ejemplo siguiente se define una clase `FileName` cuyo constructor de clase incluye un parámetro <xref:System.StringComparer> .</span><span class="sxs-lookup"><span data-stu-id="68eef-290">The following example defines a `FileName` class whose class constructor includes a <xref:System.StringComparer> parameter.</span></span> <span data-ttu-id="68eef-291">Este objeto <xref:System.StringComparer> se usa entonces en el método `FileName.CompareTo` .</span><span class="sxs-lookup"><span data-stu-id="68eef-291">This <xref:System.StringComparer> object is then used in the `FileName.CompareTo` method.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#6](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/api1.cs#6)]
[!code-vb[Conceptual.Strings.BestPractices#6](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/api1.vb#6)]

### <a name="stringequals"></a><span data-ttu-id="68eef-292">String.Equals</span><span class="sxs-lookup"><span data-stu-id="68eef-292">String.Equals</span></span>

<span data-ttu-id="68eef-293">Interpretación predeterminada: <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-293">Default interpretation: <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-294">La clase <xref:System.String> le permite comprobar la igualdad llamando a las sobrecargas de método estático o de instancia <xref:System.String.Equals%2A> , o usando el operador de igualdad estático.</span><span class="sxs-lookup"><span data-stu-id="68eef-294">The <xref:System.String> class lets you test for equality by calling either the static or instance <xref:System.String.Equals%2A> method overloads, or by using the static equality operator.</span></span> <span data-ttu-id="68eef-295">Las sobrecargas y el operador usan la comparación ordinal de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="68eef-295">The overloads and operator use ordinal comparison by default.</span></span> <span data-ttu-id="68eef-296">Sin embargo, todavía sigue siendo recomendable llamar a una sobrecarga que especifique explícitamente el tipo <xref:System.StringComparison> aunque desee realizar una comparación ordinal; esto facilita la búsqueda de cierta interpretación de la cadena en el código.</span><span class="sxs-lookup"><span data-stu-id="68eef-296">However, we still recommend that you call an overload that explicitly specifies the <xref:System.StringComparison> type even if you want to perform an ordinal comparison; this makes it easier to search code for a certain string interpretation.</span></span>

### <a name="stringtoupper-and-stringtolower"></a><span data-ttu-id="68eef-297">String.ToUpper y String.ToLower</span><span class="sxs-lookup"><span data-stu-id="68eef-297">String.ToUpper and String.ToLower</span></span>

<span data-ttu-id="68eef-298">Interpretación predeterminada: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-298">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-299">Debe tener cuidado al usar estos métodos, ya que forzar que una cadena esté en mayúsculas o en minúsculas se usa a menudo como una pequeña normalización para comparar cadenas independientemente del uso de mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-299">You should be careful when you use these methods, because forcing a string to a uppercase or lowercase is often used as a small normalization for comparing strings regardless of case.</span></span> <span data-ttu-id="68eef-300">En tal caso, considere la posibilidad de emplear una comparación sin distinción entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-300">If so, consider using a case-insensitive comparison.</span></span>

<span data-ttu-id="68eef-301">También están disponibles los métodos <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> y <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-301">The <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> and <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> methods are also available.</span></span> <span data-ttu-id="68eef-302"><xref:System.String.ToUpperInvariant%2A> es la manera estándar de normalizar el uso de mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-302"><xref:System.String.ToUpperInvariant%2A> is the standard way to normalize case.</span></span> <span data-ttu-id="68eef-303">Las comparaciones realizadas mediante <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> tienen un comportamiento que es la composición de dos llamadas: llamar a <xref:System.String.ToUpperInvariant%2A> en ambos argumentos de cadena y realizar una comparación mediante <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-303">Comparisons made using <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> are behaviorally the composition of two calls: calling <xref:System.String.ToUpperInvariant%2A> on both string arguments, and doing a comparison using <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-304">También hay sobrecargas para convertir a mayúsculas y minúsculas en una referencia cultural concreta, pasando al método un objeto <xref:System.Globalization.CultureInfo> que representa esa referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-304">Overloads are also available for converting to uppercase and lowercase in a specific culture, by passing a <xref:System.Globalization.CultureInfo> object that represents that culture to the method.</span></span>

### <a name="chartoupper-and-chartolower"></a><span data-ttu-id="68eef-305">Char.ToUpper y Char.ToLower</span><span class="sxs-lookup"><span data-stu-id="68eef-305">Char.ToUpper and Char.ToLower</span></span>

<span data-ttu-id="68eef-306">Interpretación predeterminada: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-306">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-307">Estos métodos funcionan de manera similar a los métodos <xref:System.String.ToUpper%2A?displayProperty=nameWithType> y <xref:System.String.ToLower%2A?displayProperty=nameWithType> descritos en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="68eef-307">These methods work similarly to the <xref:System.String.ToUpper%2A?displayProperty=nameWithType> and <xref:System.String.ToLower%2A?displayProperty=nameWithType> methods described in the previous section.</span></span>

### <a name="stringstartswith-and-stringendswith"></a><span data-ttu-id="68eef-308">String.StartsWith y String.EndsWith</span><span class="sxs-lookup"><span data-stu-id="68eef-308">String.StartsWith and String.EndsWith</span></span>

<span data-ttu-id="68eef-309">Interpretación predeterminada: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-309">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-310">De forma predeterminada, estos dos métodos realizan una comparación dependiente de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-310">By default, both of these methods perform a culture-sensitive comparison.</span></span>

### <a name="stringindexof-and-stringlastindexof"></a><span data-ttu-id="68eef-311">String.IndexOf y String.LastIndexOf</span><span class="sxs-lookup"><span data-stu-id="68eef-311">String.IndexOf and String.LastIndexOf</span></span>

<span data-ttu-id="68eef-312">Interpretación predeterminada: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-312">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-313">No hay coherencia en cómo las sobrecargas predeterminadas de estos métodos realizan las comparaciones.</span><span class="sxs-lookup"><span data-stu-id="68eef-313">There is a lack of consistency in how the default overloads of these methods perform comparisons.</span></span> <span data-ttu-id="68eef-314">Todos los métodos <xref:System.String.IndexOf%2A?displayProperty=nameWithType> y <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> que incluyen un parámetro <xref:System.Char> realizan una comparación ordinal, pero los métodos <xref:System.String.IndexOf%2A?displayProperty=nameWithType> y <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> predeterminados que incluyen un parámetro <xref:System.String> realizan una comparación dependiente de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-314">All <xref:System.String.IndexOf%2A?displayProperty=nameWithType> and <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> methods that include a <xref:System.Char> parameter perform an ordinal comparison, but the default <xref:System.String.IndexOf%2A?displayProperty=nameWithType> and <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> methods that include a <xref:System.String> parameter perform a culture-sensitive comparison.</span></span>

<span data-ttu-id="68eef-315">Si llama al método <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> o <xref:System.String.LastIndexOf%28System.String%29?displayProperty=nameWithType> y le pasa una cadena para ubicar en la instancia actual, se recomienda llamar a una sobrecarga que especifique explícitamente el tipo <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="68eef-315">If you call the <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> or <xref:System.String.LastIndexOf%28System.String%29?displayProperty=nameWithType> method and pass it a string to locate in the current instance, we recommend that you call an overload that explicitly specifies the <xref:System.StringComparison> type.</span></span> <span data-ttu-id="68eef-316">Las sobrecargas que incluyen un argumento <xref:System.Char> no le permiten especificar un tipo <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="68eef-316">The overloads that include a <xref:System.Char> argument do not allow you to specify a <xref:System.StringComparison> type.</span></span>

## <a name="methods-that-perform-string-comparison-indirectly"></a><span data-ttu-id="68eef-317">Métodos que realizan la comparación de cadenas indirectamente</span><span class="sxs-lookup"><span data-stu-id="68eef-317">Methods that perform string comparison indirectly</span></span>

<span data-ttu-id="68eef-318">Algunos métodos sin cadenas que tienen la comparación de cadenas como operación fundamental usan el tipo <xref:System.StringComparer> .</span><span class="sxs-lookup"><span data-stu-id="68eef-318">Some non-string methods that have string comparison as a central operation use the <xref:System.StringComparer> type.</span></span> <span data-ttu-id="68eef-319">La clase <xref:System.StringComparer> incluye seis propiedades estáticas que devuelven instancias de <xref:System.StringComparer> cuyos métodos <xref:System.StringComparer.Compare%2A?displayProperty=nameWithType> realizan los siguientes tipos de comparaciones de cadenas:</span><span class="sxs-lookup"><span data-stu-id="68eef-319">The <xref:System.StringComparer> class includes six static properties that return <xref:System.StringComparer> instances whose <xref:System.StringComparer.Compare%2A?displayProperty=nameWithType> methods perform the following types of string comparisons:</span></span>

- <span data-ttu-id="68eef-320">Comparaciones de cadenas dependientes de la referencia cultural usando la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="68eef-320">Culture-sensitive string comparisons using the current culture.</span></span> <span data-ttu-id="68eef-321">Este objeto <xref:System.StringComparer> está devuelto por la propiedad <xref:System.StringComparer.CurrentCulture%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-321">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.CurrentCulture%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="68eef-322">Comparaciones sin distinción entre mayúsculas y minúsculas usando la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="68eef-322">Case-insensitive comparisons using the current culture.</span></span> <span data-ttu-id="68eef-323">Este objeto <xref:System.StringComparer> está devuelto por la propiedad <xref:System.StringComparer.CurrentCultureIgnoreCase%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-323">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.CurrentCultureIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="68eef-324">Comparaciones independientes de la referencia cultural usando las reglas de comparación de palabras de la referencia cultural de todos los idiomas.</span><span class="sxs-lookup"><span data-stu-id="68eef-324">Culture-insensitive comparisons using the word comparison rules of the invariant culture.</span></span> <span data-ttu-id="68eef-325">Este objeto <xref:System.StringComparer> está devuelto por la propiedad <xref:System.StringComparer.InvariantCulture%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-325">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="68eef-326">Comparaciones sin distinción entre mayúsculas y minúsculas e independientes de la referencia cultural usando las reglas de comparación de palabras de la referencia cultural de todos los idiomas.</span><span class="sxs-lookup"><span data-stu-id="68eef-326">Case-insensitive and culture-insensitive comparisons using the word comparison rules of the invariant culture.</span></span> <span data-ttu-id="68eef-327">Este objeto <xref:System.StringComparer> está devuelto por la propiedad <xref:System.StringComparer.InvariantCultureIgnoreCase%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-327">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.InvariantCultureIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="68eef-328">Comparación ordinal.</span><span class="sxs-lookup"><span data-stu-id="68eef-328">Ordinal comparison.</span></span> <span data-ttu-id="68eef-329">Este objeto <xref:System.StringComparer> está devuelto por la propiedad <xref:System.StringComparer.Ordinal%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-329">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.Ordinal%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="68eef-330">Comparación ordinal sin distinción entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="68eef-330">Case-insensitive ordinal comparison.</span></span> <span data-ttu-id="68eef-331">Este objeto <xref:System.StringComparer> está devuelto por la propiedad <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-331">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>

### <a name="arraysort-and-arraybinarysearch"></a><span data-ttu-id="68eef-332">Array.Sort y Array.BinarySearch</span><span class="sxs-lookup"><span data-stu-id="68eef-332">Array.Sort and Array.BinarySearch</span></span>

<span data-ttu-id="68eef-333">Interpretación predeterminada: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-333">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="68eef-334">Cuando se almacenan datos en una colección, o cuando se leen datos almacenados de un archivo o una base de datos en una colección, el cambio de la referencia cultural actual puede invalidar los valores invariables de la colección.</span><span class="sxs-lookup"><span data-stu-id="68eef-334">When you store any data in a collection, or read persisted data from a file or database into a collection, switching the current culture can invalidate the invariants in the collection.</span></span> <span data-ttu-id="68eef-335">El método <xref:System.Array.BinarySearch%2A?displayProperty=nameWithType> supone que los elementos de la matriz que se van a buscar ya están ordenados.</span><span class="sxs-lookup"><span data-stu-id="68eef-335">The <xref:System.Array.BinarySearch%2A?displayProperty=nameWithType> method assumes that the elements in the array to be searched are already sorted.</span></span> <span data-ttu-id="68eef-336">Para ordenar cualquier elemento de cadena de la matriz, el método <xref:System.Array.Sort%2A?displayProperty=nameWithType> llama al método <xref:System.String.Compare%2A?displayProperty=nameWithType> para ordenar los elementos individuales.</span><span class="sxs-lookup"><span data-stu-id="68eef-336">To sort any string element in the array, the <xref:System.Array.Sort%2A?displayProperty=nameWithType> method calls the <xref:System.String.Compare%2A?displayProperty=nameWithType> method to order individual elements.</span></span> <span data-ttu-id="68eef-337">El uso de un comparador dependiente de la referencia cultural puede ser peligroso si la referencia cultural cambia desde que se ordena la matriz hasta que se busca en su contenido.</span><span class="sxs-lookup"><span data-stu-id="68eef-337">Using a culture-sensitive comparer can be dangerous if the culture changes between the time that the array is sorted and its contents are searched.</span></span> <span data-ttu-id="68eef-338">Por ejemplo, en el código siguiente, el almacenamiento y la recuperación funcionan en el comparador que la propiedad `Thread.CurrentThread.CurrentCulture` .</span><span class="sxs-lookup"><span data-stu-id="68eef-338">For example, in the following code, storage and retrieval operate on the comparer that is provided implicitly by the `Thread.CurrentThread.CurrentCulture` property.</span></span> <span data-ttu-id="68eef-339">Si la referencia cultural puede cambiar entre las llamadas a `StoreNames` y `DoesNameExist`, y especialmente si el contenido de la matriz se conserva en alguna parte entre las dos llamadas al método, se puede producir un error en la búsqueda binaria.</span><span class="sxs-lookup"><span data-stu-id="68eef-339">If the culture can change between the calls to `StoreNames` and `DoesNameExist`, and especially if the array contents are persisted somewhere between the two method calls, the binary search may fail.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#7](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#7)]
 [!code-vb[Conceptual.Strings.BestPractices#7](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#7)]

<span data-ttu-id="68eef-340">Aparece una variación recomendada en el ejemplo siguiente, que usa el mismo método de comparación ordinal (independiente de la referencia cultural) para ordenar y buscar en la matriz.</span><span class="sxs-lookup"><span data-stu-id="68eef-340">A recommended variation appears in the following example, which uses the same ordinal (culture-insensitive) comparison method both to sort and to search the array.</span></span> <span data-ttu-id="68eef-341">El código cambiado se refleja en las líneas etiquetadas como `Line A` y `Line B` en los dos ejemplos.</span><span class="sxs-lookup"><span data-stu-id="68eef-341">The change code is reflected in the lines labeled `Line A` and `Line B` in the two examples.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#8](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#8)]
[!code-vb[Conceptual.Strings.BestPractices#8](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#8)]

<span data-ttu-id="68eef-342">Si estos datos se conservan y mueven entre distintas referencias culturales, y se usa la ordenación para presentar estos datos al usuario, es mejor usar <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType>, que funciona lingüísticamente para obtener una mejor salida para el usuario pero no se ve afectado por los cambios en la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-342">If this data is persisted and moved across cultures, and sorting is used to present this data to the user, you might consider using <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType>, which operates linguistically for better user output but is unaffected by changes in culture.</span></span> <span data-ttu-id="68eef-343">En el ejemplo siguiente se modifican los dos ejemplos anteriores para usar la referencia cultural de todos los idiomas con el fin de ordenar y buscar en la matriz.</span><span class="sxs-lookup"><span data-stu-id="68eef-343">The following example modifies the two previous examples to use the invariant culture for sorting and searching the array.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#9](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#9)]
[!code-vb[Conceptual.Strings.BestPractices#9](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#9)]

### <a name="collections-example-hashtable-constructor"></a><span data-ttu-id="68eef-344">Ejemplo de colecciones: Constructor de tablas hash</span><span class="sxs-lookup"><span data-stu-id="68eef-344">Collections example: Hashtable constructor</span></span>

<span data-ttu-id="68eef-345">Al aplicar un algoritmo hash a las cadenas se proporciona un segundo ejemplo de una operación que se ve afectada por la forma en que se comparan las cadenas.</span><span class="sxs-lookup"><span data-stu-id="68eef-345">Hashing strings provides a second example of an operation that is affected by the way in which strings are compared.</span></span>

<span data-ttu-id="68eef-346">En el ejemplo siguiente se crea una instancia de un objeto <xref:System.Collections.Hashtable> pasándole el objeto <xref:System.StringComparer> devuelto por la propiedad <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-346">The following example instantiates a <xref:System.Collections.Hashtable> object by passing it the <xref:System.StringComparer> object that is returned by the <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="68eef-347">Puesto que una clase <xref:System.StringComparer> que se deriva de <xref:System.StringComparer> implementa la interfaz <xref:System.Collections.IEqualityComparer> , su método <xref:System.Collections.IEqualityComparer.GetHashCode%2A> se usa para calcular el código hash de cadenas de la tabla hash.</span><span class="sxs-lookup"><span data-stu-id="68eef-347">Because a class <xref:System.StringComparer> that is derived from <xref:System.StringComparer> implements the <xref:System.Collections.IEqualityComparer> interface, its <xref:System.Collections.IEqualityComparer.GetHashCode%2A> method is used to compute the hash code of strings in the hash table.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#10](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect2.cs#10)]
[!code-vb[Conceptual.Strings.BestPractices#10](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect2.vb#10)]

## <a name="displaying-and-persisting-formatted-data"></a><span data-ttu-id="68eef-348">Mostrar y conservar datos con formato</span><span class="sxs-lookup"><span data-stu-id="68eef-348">Displaying and persisting formatted data</span></span>

<span data-ttu-id="68eef-349">Cuando muestre a los usuarios datos que no sean de cadena, como números, y fechas y horas, asígneles formato mediante la configuración de la referencia cultural del usuario.</span><span class="sxs-lookup"><span data-stu-id="68eef-349">When you display non-string data such as numbers and dates and times to users, format them by using the user's cultural settings.</span></span> <span data-ttu-id="68eef-350">De forma predeterminada, los siguientes elementos usan la referencia cultural del subproceso actual al dar formato a las operaciones:</span><span class="sxs-lookup"><span data-stu-id="68eef-350">By default, the following all use the current thread culture in formatting operations:</span></span>

- <span data-ttu-id="68eef-351">Cadenas interpoladas compatibles con los compiladores [C#](../../csharp/language-reference/tokens/interpolated.md) y [Visual Basic](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md).</span><span class="sxs-lookup"><span data-stu-id="68eef-351">Interpolated strings supported by the [C#](../../csharp/language-reference/tokens/interpolated.md) and [Visual Basic](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md) compilers.</span></span>
- <span data-ttu-id="68eef-352">Operaciones de concatenación de cadenas que usan los operadores de concatenación [C#](../../csharp/language-reference/operators/addition-operator.md#string-concatenation) o [Visual Basic](../../visual-basic/programming-guide/language-features/operators-and-expressions/concatenation-operators.md), o que llaman al método <xref:System.String.Concat%2A?displayProperty=nameWithType> directamente.</span><span class="sxs-lookup"><span data-stu-id="68eef-352">String concatenation operations that use the [C#](../../csharp/language-reference/operators/addition-operator.md#string-concatenation) or [Visual Basic](../../visual-basic/programming-guide/language-features/operators-and-expressions/concatenation-operators.md) concatenation operators or that call the <xref:System.String.Concat%2A?displayProperty=nameWithType> method directly.</span></span>
- <span data-ttu-id="68eef-353">El método <xref:System.String.Format%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-353">The <xref:System.String.Format%2A?displayProperty=nameWithType> method.</span></span>
- <span data-ttu-id="68eef-354">Métodos `ToString` de los tipos numéricos y tipos de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="68eef-354">The `ToString` methods of the numeric types and the date and time types.</span></span>

<span data-ttu-id="68eef-355">Para especificar explícitamente que se debe dar formato a una cadena mediante las convenciones de una referencia cultural nombrada o la [referencia cultural invariable](xref:System.Globalization.CultureInfo.InvariantCulture), se puede hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="68eef-355">To explicitly specify that a string should be formatted by using the conventions of a designated culture or the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture), you can do the following:</span></span>

- <span data-ttu-id="68eef-356">Cuando se usen los métodos <xref:System.String.Format%2A?displayProperty=nameWithType> y `ToString`, llame a una sobrecarga que tenga un parámetro `provider`, como <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> o <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType>, y pásela a la propiedad <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType>, a una instancia <xref:System.Globalization.CultureInfo> que represente la referencia cultural que se quiera o a la propiedad <xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="68eef-356">When using the <xref:System.String.Format%2A?displayProperty=nameWithType> and `ToString` methods, call an overload that has a `provider` parameter, such as <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> or <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType>, and pass it the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property, a <xref:System.Globalization.CultureInfo> instance that represents the desired culture, or the <xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="68eef-357">Para la concatenación de cadenas, no permita que el compilador realice ninguna de las conversiones implícitas.</span><span class="sxs-lookup"><span data-stu-id="68eef-357">For string concatenation, do not allow the compiler to perform any implicit conversions.</span></span> <span data-ttu-id="68eef-358">En su lugar, realice una conversión explícita mediante una llamada a una sobrecarga `ToString` que tenga un parámetro `provider`.</span><span class="sxs-lookup"><span data-stu-id="68eef-358">Instead, perform an explicit conversion by calling a `ToString` overload that has a `provider` parameter.</span></span> <span data-ttu-id="68eef-359">Por ejemplo, el compilador utiliza implícitamente la referencia cultural actual cuando convierte un valor <xref:System.Double> en una cadena en el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="68eef-359">For example, the compiler implicitly uses the current culture when converting a <xref:System.Double> value to a string in the following code:</span></span>

  [!code-csharp[Implicit String Conversion](./snippets/best-practices-strings/csharp/tostring/Program.cs#1)]
  [!code-vb[Implicit String Conversion](./snippets/best-practices-strings/vb/tostring/Program.vb#1)]

  <span data-ttu-id="68eef-360">En su lugar, se puede especificar explícitamente la referencia cultural cuyas convenciones de formato se usan en la conversión mediante una llamada al método <xref:System.Double.ToString(System.IFormatProvider)?displayProperty=nameWithType>, tal como hace el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="68eef-360">Instead, you can explicitly specify the culture whose formatting conventions are used in the conversion by calling the <xref:System.Double.ToString(System.IFormatProvider)?displayProperty=nameWithType> method, as the following code does:</span></span>

  [!code-csharp[Explicit String Conversion](./snippets/best-practices-strings/csharp/tostring/Program.cs#2)]
  [!code-vb[Implicit String Conversion](./snippets/best-practices-strings/vb/tostring/Program.vb#2)]

- <span data-ttu-id="68eef-361">Para la interpolación de cadenas, en lugar de asignar una cadena interpolada a una instancia <xref:System.String>, asígnela a un elemento <xref:System.FormattableString>.</span><span class="sxs-lookup"><span data-stu-id="68eef-361">For string interpolation, rather than assigning an interpolated string to a <xref:System.String> instance, assign it to a <xref:System.FormattableString>.</span></span> <span data-ttu-id="68eef-362">Después, se puede llamar al método <xref:System.FormattableString.ToString?displayProperty=nameWithType> para generar una cadena de resultado que refleje las convenciones de la referencia cultural actual, o bien puede llamar al método <xref:System.FormattableString.ToString(System.IFormatProvider)?displayProperty=nameWithType> para generar una cadena de resultado que refleje las convenciones de la referencia cultural especificada.</span><span class="sxs-lookup"><span data-stu-id="68eef-362">You can then call its <xref:System.FormattableString.ToString?displayProperty=nameWithType> method produce a result string that reflects the conventions of the current culture, or you can call the <xref:System.FormattableString.ToString(System.IFormatProvider)?displayProperty=nameWithType> method to produce a result string that reflects the conventions of a specified culture.</span></span> <span data-ttu-id="68eef-363">También se puede pasar la cadena que admite formato al método estático <xref:System.FormattableString.Invariant%2A?displayProperty=nameWithType> con el fin de generar una cadena de resultado que refleje las convenciones de la referencia cultural invariable.</span><span class="sxs-lookup"><span data-stu-id="68eef-363">You can also pass the formattable string to the static <xref:System.FormattableString.Invariant%2A?displayProperty=nameWithType> method to produce a result string that reflects the conventions of the invariant culture.</span></span> <span data-ttu-id="68eef-364">En el ejemplo siguiente se muestra este enfoque.</span><span class="sxs-lookup"><span data-stu-id="68eef-364">The following example illustrates this approach.</span></span> <span data-ttu-id="68eef-365">(La salida del ejemplo refleja una referencia cultural actual de en-US).</span><span class="sxs-lookup"><span data-stu-id="68eef-365">(The output from the example reflects a current culture of en-US.)</span></span>

  [!code-csharp[String interpolation](./snippets/best-practices-strings/csharp/formattable/Program.cs)]
  [!code-vb[String interpolation](./snippets/best-practices-strings/vb/formattable/Program.vb)]

<span data-ttu-id="68eef-366">Puede conservar datos que no son de cadena como datos binarios o como datos con formato.</span><span class="sxs-lookup"><span data-stu-id="68eef-366">You can persist non-string data either as binary data or as formatted data.</span></span> <span data-ttu-id="68eef-367">Si decide guardarlos como datos con formato, debe llamar a una sobrecarga del método de formato que incluya un parámetro `provider` y pasarle la propiedad <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="68eef-367">If you choose to save it as formatted data, you should call a formatting method overload that includes a `provider` parameter and pass it the <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="68eef-368">La referencia cultural de todos los idiomas proporciona un formato coherente para los datos con formato que es independiente de la referencia cultural y del equipo.</span><span class="sxs-lookup"><span data-stu-id="68eef-368">The invariant culture provides a consistent format for formatted data that is independent of culture and machine.</span></span> <span data-ttu-id="68eef-369">En cambio, si se conservan datos a los que se aplica formato con referencias culturales distintas de la referencia cultural de todos los idiomas, se presentan varias limitaciones:</span><span class="sxs-lookup"><span data-stu-id="68eef-369">In contrast, persisting data that is formatted by using cultures other than the invariant culture has a number of limitations:</span></span>

- <span data-ttu-id="68eef-370">Es probable que los datos no puedan usarse si se recuperan en un sistema que tiene una referencia cultural distinta, o si el usuario del sistema actual cambia la referencia cultural actual e intenta recuperar los datos.</span><span class="sxs-lookup"><span data-stu-id="68eef-370">The data is likely to be unusable if it is retrieved on a system that has a different culture, or if the user of the current system changes the current culture and tries to retrieve the data.</span></span>
- <span data-ttu-id="68eef-371">Las propiedades de una referencia cultural en un equipo específico pueden diferir de los valores estándar.</span><span class="sxs-lookup"><span data-stu-id="68eef-371">The properties of a culture on a specific computer can differ from standard values.</span></span> <span data-ttu-id="68eef-372">En cualquier momento, un usuario puede personalizar la configuración de visualización que depende de la cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-372">At any time, a user can customize culture-sensitive display settings.</span></span> <span data-ttu-id="68eef-373">Debido a esto, es posible que los datos con formato que se guardan en un sistema no sean legibles después de que el usuario personalice la configuración de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="68eef-373">Because of this, formatted data that is saved on a system may not be readable after the user customizes cultural settings.</span></span> <span data-ttu-id="68eef-374">Es posible que la portabilidad de los datos con formato entre equipos sea incluso más limitada.</span><span class="sxs-lookup"><span data-stu-id="68eef-374">The portability of formatted data across computers is likely to be even more limited.</span></span>
- <span data-ttu-id="68eef-375">Las normas internacionales, regionales o nacionales que rigen el formato de los números o las fechas y horas cambian con el tiempo, y estos cambios se incorporan en las actualizaciones de los sistemas operativos Windows.</span><span class="sxs-lookup"><span data-stu-id="68eef-375">International, regional, or national standards that govern the formatting of numbers or dates and times change over time, and these changes are incorporated into Windows operating system updates.</span></span> <span data-ttu-id="68eef-376">Cuando cambian las convenciones de formato, los datos a los que se aplicó formato usando las convenciones anteriores pueden llegar a ser ilegibles.</span><span class="sxs-lookup"><span data-stu-id="68eef-376">When formatting conventions change, data that was formatted by using the previous conventions may become unreadable.</span></span>

<span data-ttu-id="68eef-377">En el ejemplo siguiente se muestra la portabilidad limitada que se deriva de usar el formato dependiente de la referencia cultural para conservar los datos.</span><span class="sxs-lookup"><span data-stu-id="68eef-377">The following example illustrates the limited portability that results from using culture-sensitive formatting to persist data.</span></span> <span data-ttu-id="68eef-378">En el ejemplo se guarda una matriz de valores de fecha y hora en un archivo.</span><span class="sxs-lookup"><span data-stu-id="68eef-378">The example saves an array of date and time values to a file.</span></span> <span data-ttu-id="68eef-379">Se les da formato con las convenciones de la referencia cultural Inglés (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="68eef-379">These are formatted by using the conventions of the English (United States) culture.</span></span> <span data-ttu-id="68eef-380">Después de que la aplicación cambie la referencia cultural del subproceso actual a Francés (Suiza), intenta leer los valores guardados usando las convenciones de formato de la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="68eef-380">After the application changes the current thread culture to French (Switzerland), it tries to read the saved values by using the formatting conventions of the current culture.</span></span> <span data-ttu-id="68eef-381">El intento de leer dos de los elementos de datos genera una excepción <xref:System.FormatException> y la matriz de fechas ahora contiene dos elementos incorrectos que iguales a <xref:System.DateTime.MinValue>.</span><span class="sxs-lookup"><span data-stu-id="68eef-381">The attempt to read two of the data items throws a <xref:System.FormatException> exception, and the array of dates now contains two incorrect elements that are equal to <xref:System.DateTime.MinValue>.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#21](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/persistence.cs#21)]
[!code-vb[Conceptual.Strings.BestPractices#21](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/persistence.vb#21)]

<span data-ttu-id="68eef-382">Pero si reemplaza la propiedad <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> por <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> en las llamadas a <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> y a <xref:System.DateTime.Parse%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>, los datos persistentes de fecha y hora se restauran correctamente, como se muestra en la salida siguiente:</span><span class="sxs-lookup"><span data-stu-id="68eef-382">However, if you replace the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property with <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> in the calls to <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> and <xref:System.DateTime.Parse%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>,   the persisted date and time data is successfully restored, as the following output shows:</span></span>

```console
06.05.1758 21:26
05.05.1818 07:19
22.04.1870 23:54
08.09.1890 06:47
18.02.1905 15:12
```
