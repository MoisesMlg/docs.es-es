---
title: Información acerca de los problemas y excepciones del elemento WebRequest
description: WebRequest y sus clases derivadas inician excepciones para indicar que existen condiciones anómalas. Las soluciones siguientes pueden ayudarle a resolver estas anomalías en .NET Framework.
ms.date: 03/30/2017
ms.assetid: 74a361a5-e912-42d3-8f2e-8e9a96880a2b
ms.openlocfilehash: 27fde2a3cf3e6a3469a47bdd9efe70d31620777d
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96236330"
---
# <a name="understanding-webrequest-problems-and-exceptions"></a>Información acerca de los problemas y excepciones del elemento WebRequest

<xref:System.Net.WebRequest> y sus clases derivadas (<xref:System.Net.HttpWebRequest>, <xref:System.Net.FtpWebRequest> y <xref:System.Net.FileWebRequest>) generan excepciones para indicar una condición anormal. A veces, la resolución de estos problemas no es obvia.  
  
## <a name="solutions"></a>Soluciones  

 Examine la propiedad <xref:System.Net.WebException.Status%2A> de la <xref:System.Net.WebException> para determinar el problema. En la tabla siguiente se muestran varios valores de estado y algunas posibles soluciones.  
  
|Situación|Detalles|Soluciones|  
|------------|-------------|--------------|  
|<xref:System.Net.WebExceptionStatus.SendFailure><br /><br /> o bien<br /><br /> <xref:System.Net.WebExceptionStatus.ReceiveFailure>|Hay un problema con el socket subyacente. Es posible que se haya restablecido la conexión.|Vuelva a conectarse y vuelva a enviar la solicitud.<br /><br /> Asegúrese de que tiene instalado el Service Pack más reciente.<br /><br /> Aumente el valor de la propiedad <xref:System.Net.ServicePointManager.MaxServicePointIdleTime%2A?displayProperty=nameWithType>.<br /><br /> Establezca <xref:System.Net.HttpWebRequest.KeepAlive%2A?displayProperty=nameWithType> en `false`.<br /><br /> Aumente el número de conexiones máximas con la propiedad <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>.<br /><br /> Compruebe la configuración de proxy.<br /><br /> Si usa SSL, asegúrese de que el proceso de servidor tiene permiso para obtener acceso al almacén de certificados.<br /><br /> Si envía una gran cantidad de datos, establezca <xref:System.Net.HttpWebRequest.AllowWriteStreamBuffering%2A> en `false`.|  
|<xref:System.Net.WebExceptionStatus.TrustFailure>|No se pudo validar el certificado de servidor.|Intente abrir el identificador URI con Internet Explorer. Resuelva todas las alertas de seguridad que muestre Internet Explorer. Si no puede resolver las alertas de seguridad, puede crear una clase de directiva de certificados que implemente <xref:System.Net.ICertificatePolicy> que devuelva `true` y luego pasarla a <xref:System.Net.ServicePointManager.CertificatePolicy%2A>.<br /><br /> Vea <https://support.microsoft.com/?id=823177>.<br /><br /> Asegúrese de que el certificado de la entidad de certificación que firmó el certificado de servidor se ha agregado a la lista de entidades de certificación de confianza de Internet Explorer.<br /><br /> Asegúrese de que el nombre de host de la dirección URL coincide con el nombre común del certificado de servidor.|  
|<xref:System.Net.WebExceptionStatus.SecureChannelFailure>|Hubo un problema en la transacción de SSL o con el certificado.|La versión 1.1 de .NET Framework solo es compatible con la versión 3.0 de SSL. Si el servidor usa solo la versión 1.0 de TLS o la versión 2.0 de SSL, se generará la excepción. Actualice a la versión 2.0 de .NET Framework y establezca <xref:System.Net.ServicePointManager.SecurityProtocol%2A> para que coincida con el servidor.<br /><br /> El certificado de cliente está firmado por una entidad de certificación (CA) en la que el servidor no confía. Instale el certificado de la entidad de certificación en el servidor. Vea <https://support.microsoft.com/?id=332077>.<br /><br /> Asegúrese de que tiene instalado el Service Pack más reciente.|  
|<xref:System.Net.WebExceptionStatus.ConnectFailure>|Error en la conexión|Hay un proxy o un firewall que está bloqueando la conexión. Modifique el firewall o el proxy para permitir la conexión.<br /><br /> Designe explícitamente un <xref:System.Net.WebProxy> en la aplicación cliente mediante una llamada al constructor <xref:System.Net.WebProxy> (`WebServiceProxyClass.Proxy = new WebProxy("http://server:80", true)`).<br /><br /> Ejecute Filemon o Regmon para garantizar que la identidad del proceso de trabajo tiene los permisos necesarios para obtener acceso a WSPWSP.dll, HKLM\System\CurrentControlSet\Services\DnsCache o a HKLM\System\CurrentControlSet\Services\WinSock2.|  
|<xref:System.Net.WebExceptionStatus.NameResolutionFailure>|El servicio de nombres de dominio no pudo resolver el nombre de host.|Configure el proxy correctamente. Vea <https://support.microsoft.com/?id=318140>.<br /><br /> Asegúrese de que los firewalls o software antivirus instalados no estén bloqueando la conexión.|  
|<xref:System.Net.WebExceptionStatus.RequestCanceled>|Se llamó a <xref:System.Net.WebRequest.Abort%2A> o se produjo un error.|Este problema puede deberse a una carga pesada en el cliente o servidor. Reduzca la carga.<br /><br /> Aumente el valor de <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>.<br /><br /> Vea <https://support.microsoft.com/?id=821268> para modificar la configuración de rendimiento del servicio web.|  
|<xref:System.Net.WebExceptionStatus.ConnectionClosed>|La aplicación intentó escribir en un socket que ya se ha cerrado.|El cliente o el servidor está sobrecargado. Reduzca la carga.<br /><br /> Aumente el valor de <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>.<br /><br /> Vea <https://support.microsoft.com/?id=821268> para modificar la configuración de rendimiento del servicio web.|  
|<xref:System.Net.WebExceptionStatus.MessageLengthLimitExceeded>|Se ha superado el límite establecido (<xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A>) en la longitud del mensaje.|Aumente el valor de la propiedad <xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A>.|  
|<xref:System.Net.WebExceptionStatus.ProxyNameResolutionFailure>|El servicio de nombres de dominio no pudo resolver el nombre de host del proxy.|Configure el proxy correctamente. Vea <https://support.microsoft.com/?id=318140>.<br /><br /> Fuerce a <xref:System.Net.HttpWebRequest> para que no use ningún proxy estableciendo la propiedad <xref:System.Net.HttpWebRequest.Proxy%2A> en `null`.|  
|<xref:System.Net.WebExceptionStatus.ServerProtocolViolation>|La respuesta del servidor no es una respuesta HTTP válida. Este problema se produce cuando .NET Framework detecta que la respuesta del servidor no es compatible con la RFC de HTTP 1.1. Este problema puede producirse si la respuesta contiene encabezados o delimitadores de encabezado incorrectos. RFC 2616 define HTTP 1.1 y el formato válido para la respuesta del servidor. Para más información, consulte [RFC 2616 - Hypertext Transfer Protocol -- HTTP/1.1](https://tools.ietf.org/html/rfc2616) (RFC 2616 - Protocolo de transferencia de hipertexto -- HTTP/1.1) en el sitio web de [Internet Engineering Task Force (IETF)](https://www.ietf.org/).|Obtenga un seguimiento de red de la transacción y examine los encabezados de la respuesta.<br /><br /> Si la aplicación requiere la respuesta del servidor sin analizar (podría tratarse de un problema de seguridad), establezca `useUnsafeHeaderParsing` en `true` en el archivo de configuración. Vea [Elemento \<httpWebRequest> (configuración de red)](../configure-apps/file-schema/network/httpwebrequest-element-network-settings.md).|  
  
## <a name="see-also"></a>Vea también

- <xref:System.Net.HttpWebRequest>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.Dns>
