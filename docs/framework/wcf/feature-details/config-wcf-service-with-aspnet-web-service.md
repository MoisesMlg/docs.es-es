---
title: Procedimiento para configurar servicios WCF para interoperar con clientes de servicios web ASP.NET
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 48e1cd90-de80-4d6c-846e-631878955762
ms.openlocfilehash: 9c241c06f153e4f85c70459ff3c50889057103f5
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96295046"
---
# <a name="how-to-configure-wcf-service-to-interoperate-with-aspnet-web-service-clients"></a><span data-ttu-id="cf7a3-102">Procedimiento para configurar servicios WCF para interoperar con clientes de servicios web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="cf7a3-102">How to: Configure WCF Service to Interoperate with ASP.NET Web Service Clients</span></span>

<span data-ttu-id="cf7a3-103">Para configurar un punto de conexión de servicio de Windows Communication Foundation (WCF) para que sea interoperable con clientes de servicios Web de ASP.NET, utilice el <xref:System.ServiceModel.BasicHttpBinding?displayProperty=nameWithType> tipo como tipo de enlace para el punto de conexión de servicio.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-103">To configure a Windows Communication Foundation (WCF) service endpoint to be interoperable with ASP.NET Web service clients, use the <xref:System.ServiceModel.BasicHttpBinding?displayProperty=nameWithType> type as the binding type for your service endpoint.</span></span>  
  
 <span data-ttu-id="cf7a3-104">Puede habilitar opcionalmente el soporte para HTTPS y la autenticación del cliente del nivel de transporte en el enlace.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-104">You can optionally enable support for HTTPS and transport-level client authentication on the binding.</span></span> <span data-ttu-id="cf7a3-105">Los clientes del servicio Web ASP.NET no admiten la codificación de mensajes MTOM, por lo que la <xref:System.ServiceModel.BasicHttpBinding.MessageEncoding%2A?displayProperty=nameWithType> propiedad se debe dejar como su valor predeterminado, que es <xref:System.ServiceModel.WSMessageEncoding.Text?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="cf7a3-105">ASP.NET Web service clients do not support MTOM message encoding, so the <xref:System.ServiceModel.BasicHttpBinding.MessageEncoding%2A?displayProperty=nameWithType> property should be left as its default value, which is <xref:System.ServiceModel.WSMessageEncoding.Text?displayProperty=nameWithType>.</span></span> <span data-ttu-id="cf7a3-106">Los clientes del servicio Web ASP.NET no admiten WS-Security, por lo que <xref:System.ServiceModel.BasicHttpBinding.Security%2A?displayProperty=nameWithType> debe establecerse en <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> .</span><span class="sxs-lookup"><span data-stu-id="cf7a3-106">ASP.NET Web Service clients do not support WS-Security, so the <xref:System.ServiceModel.BasicHttpBinding.Security%2A?displayProperty=nameWithType> should be set to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span>  
  
 <span data-ttu-id="cf7a3-107">Para que los metadatos de un servicio WCF estén disponibles para las herramientas de generación de proxy del servicio Web de ASP.NET (es decir, la [herramienta lenguaje de descripción de servicios web (Wsdl.exe)](/previous-versions/dotnet/netframework-4.0/7h3ystb6(v=vs.100)), la [herramienta de detección de servicios web (Disco.exe)](/previous-versions/dotnet/netframework-4.0/cy2a3ybs(v=vs.100))y la característica **Agregar referencia Web** en Visual Studio), debe exponer un extremo de metadatos HTTP/GET.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-107">To make the metadata for a WCF service available to ASP.NET Web service proxy generation tools (that is, [Web Services Description Language Tool (Wsdl.exe)](/previous-versions/dotnet/netframework-4.0/7h3ystb6(v=vs.100)), [Web Services Discovery Tool (Disco.exe)](/previous-versions/dotnet/netframework-4.0/cy2a3ybs(v=vs.100)), and the **Add Web Reference** feature in Visual Studio), you should expose an HTTP/GET metadata endpoint.</span></span>  
  
## <a name="add-an-endpoint-in-code"></a><span data-ttu-id="cf7a3-108">Agregar un punto de conexión en el código</span><span class="sxs-lookup"><span data-stu-id="cf7a3-108">Add an endpoint in code</span></span>  
  
1. <span data-ttu-id="cf7a3-109">Cree una nueva instancia de <xref:System.ServiceModel.BasicHttpBinding></span><span class="sxs-lookup"><span data-stu-id="cf7a3-109">Create a new <xref:System.ServiceModel.BasicHttpBinding> instance</span></span>  
  
2. <span data-ttu-id="cf7a3-110">De manera opcional, habilite la seguridad de transporte para este enlace de punto de conexión de servicio estableciendo el modo de seguridad para el enlace en <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-110">Optionally enable transport security for this service endpoint binding by setting the security mode for the binding to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span> <span data-ttu-id="cf7a3-111">Para obtener más información, vea [seguridad de transporte](transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="cf7a3-111">For details, see [Transport Security](transport-security.md).</span></span>  
  
3. <span data-ttu-id="cf7a3-112">Agregue un nuevo extremo de la aplicación a su host de servicio mediante la instancia de enlace que acaba de crear.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-112">Add a new application endpoint to your service host using the binding instance that you just created.</span></span> <span data-ttu-id="cf7a3-113">Para obtener más información sobre cómo agregar un punto de conexión de servicio en el código, vea [Cómo: crear un punto de conexión de servicio en el código](how-to-create-a-service-endpoint-in-code.md).</span><span class="sxs-lookup"><span data-stu-id="cf7a3-113">For details about how to add a service endpoint in code, see the [How to: Create a Service Endpoint in Code](how-to-create-a-service-endpoint-in-code.md).</span></span>  
  
4. <span data-ttu-id="cf7a3-114">Habilite un punto de conexión de metadatos HTTP/GET para su servicio.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-114">Enable an HTTP/GET metadata endpoint for your service.</span></span> <span data-ttu-id="cf7a3-115">Para obtener más información, consulte [Cómo: publicar metadatos para un servicio mediante código](how-to-publish-metadata-for-a-service-using-code.md).</span><span class="sxs-lookup"><span data-stu-id="cf7a3-115">For details see [How to: Publish Metadata for a Service Using Code](how-to-publish-metadata-for-a-service-using-code.md).</span></span>  
  
## <a name="add-an-endpoint-in-a-configuration-file"></a><span data-ttu-id="cf7a3-116">Agregar un punto de conexión en un archivo de configuración</span><span class="sxs-lookup"><span data-stu-id="cf7a3-116">Add an endpoint in a configuration file</span></span>  
  
1. <span data-ttu-id="cf7a3-117">Cree una nueva configuración de enlace <xref:System.ServiceModel.BasicHttpBinding>.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-117">Create a new <xref:System.ServiceModel.BasicHttpBinding> binding configuration.</span></span> <span data-ttu-id="cf7a3-118">Para obtener más información, consulte [Cómo: especificar un enlace de servicio en la configuración](../how-to-specify-a-service-binding-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="cf7a3-118">For details, see the [How to: Specify a Service Binding in Configuration](../how-to-specify-a-service-binding-in-configuration.md).</span></span>  
  
2. <span data-ttu-id="cf7a3-119">De manera opcional, habilite la seguridad de transporte para esta configuración de enlace de extremo de servicio estableciendo el modo de seguridad para el enlace en <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-119">Optionally enable transport security for this service endpoint binding configuration by setting the security mode for the binding to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span> <span data-ttu-id="cf7a3-120">Para obtener más información, vea [seguridad de transporte](transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="cf7a3-120">For details, see [Transport Security](transport-security.md).</span></span>  
  
3. <span data-ttu-id="cf7a3-121">Configure un nuevo punto de conexión de la aplicación para su servicio utilizando la configuración de enlace que acaba de crear.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-121">Configure a new application endpoint for your service using the binding configuration that you just created.</span></span> <span data-ttu-id="cf7a3-122">Para obtener más información sobre cómo agregar un punto de conexión de servicio en un archivo de configuración, consulte [Cómo: crear un punto de conexión de servicio en la configuración](how-to-create-a-service-endpoint-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="cf7a3-122">For details about how to add a service endpoint in a configuration file, see the [How to: Create a Service Endpoint in Configuration](how-to-create-a-service-endpoint-in-configuration.md).</span></span>  
  
4. <span data-ttu-id="cf7a3-123">Habilite un punto de conexión de metadatos HTTP/GET para su servicio.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-123">Enable an HTTP/GET metadata endpoint for your service.</span></span> <span data-ttu-id="cf7a3-124">Para obtener más información, consulte [Cómo: publicar metadatos para un servicio mediante un archivo de configuración](how-to-publish-metadata-for-a-service-using-a-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="cf7a3-124">For details see the [How to: Publish Metadata for a Service Using a Configuration File](how-to-publish-metadata-for-a-service-using-a-configuration-file.md).</span></span>  
  
## <a name="example"></a><span data-ttu-id="cf7a3-125">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="cf7a3-125">Example</span></span>  

 <span data-ttu-id="cf7a3-126">En el código de ejemplo siguiente se muestra cómo agregar un punto de conexión de WCF que es compatible con los clientes de servicios Web de ASP.NET en el código y, como alternativa, en los archivos de configuración.</span><span class="sxs-lookup"><span data-stu-id="cf7a3-126">The following example code demonstrates how to add a WCF endpoint that is compatible with ASP.NET Web service clients in code and alternatively in configuration files.</span></span>  
  
 [!code-csharp[C_HowTo-WCFServiceAndASMXClient#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto-wcfserviceandasmxclient/cs/program.cs#0)]
 [!code-vb[C_HowTo-WCFServiceAndASMXClient#0](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto-wcfserviceandasmxclient/vb/program.vb#0)]
 [!code-xml[C_HowTo-WCFServiceAndASMXClient#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto-wcfserviceandasmxclient/common/app.config#1)]
  
## <a name="see-also"></a><span data-ttu-id="cf7a3-127">Vea también</span><span class="sxs-lookup"><span data-stu-id="cf7a3-127">See also</span></span>

- [<span data-ttu-id="cf7a3-128">Procedimiento para crear un punto de conexión de servicio mediante código</span><span class="sxs-lookup"><span data-stu-id="cf7a3-128">How to: Create a Service Endpoint in Code</span></span>](how-to-create-a-service-endpoint-in-code.md)
- [<span data-ttu-id="cf7a3-129">Procedimiento para publicar metadatos para un servicio mediante código</span><span class="sxs-lookup"><span data-stu-id="cf7a3-129">How to: Publish Metadata for a Service Using Code</span></span>](how-to-publish-metadata-for-a-service-using-code.md)
- [<span data-ttu-id="cf7a3-130">Procedimiento para especificar un enlace de servicio en la configuración</span><span class="sxs-lookup"><span data-stu-id="cf7a3-130">How to: Specify a Service Binding in Configuration</span></span>](../how-to-specify-a-service-binding-in-configuration.md)
- [<span data-ttu-id="cf7a3-131">Procedimiento para crear un punto de conexión de servicio en la configuración</span><span class="sxs-lookup"><span data-stu-id="cf7a3-131">How to: Create a Service Endpoint in Configuration</span></span>](how-to-create-a-service-endpoint-in-configuration.md)
- [<span data-ttu-id="cf7a3-132">Procedimiento para publicar metadatos para un servicio mediante un archivo de configuración</span><span class="sxs-lookup"><span data-stu-id="cf7a3-132">How to: Publish Metadata for a Service Using a Configuration File</span></span>](how-to-publish-metadata-for-a-service-using-a-configuration-file.md)
- [<span data-ttu-id="cf7a3-133">Seguridad de transporte</span><span class="sxs-lookup"><span data-stu-id="cf7a3-133">Transport Security</span></span>](transport-security.md)
- [<span data-ttu-id="cf7a3-134">Utilización de los metadatos</span><span class="sxs-lookup"><span data-stu-id="cf7a3-134">Using Metadata</span></span>](using-metadata.md)
