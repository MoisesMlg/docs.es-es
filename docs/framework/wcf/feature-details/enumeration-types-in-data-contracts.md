---
title: Tipos de enumeración en contratos de datos
description: Obtenga información sobre cómo el modelo de contrato de datos expresa las enumeraciones como parte del modelo de programación de WFC.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data contracts [WCF], enumeration types
ms.assetid: b5d694da-68cb-4b74-a5fb-75108a68ec3b
ms.openlocfilehash: 88bf2513435a9c00cf11a0681b32871992c8d2b2
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96276664"
---
# <a name="enumeration-types-in-data-contracts"></a><span data-ttu-id="3511a-103">Tipos de enumeración en contratos de datos</span><span class="sxs-lookup"><span data-stu-id="3511a-103">Enumeration Types in Data Contracts</span></span>

<span data-ttu-id="3511a-104">Las enumeraciones se pueden expresar en el modelo del contrato de datos.</span><span class="sxs-lookup"><span data-stu-id="3511a-104">Enumerations can be expressed in the data contract model.</span></span> <span data-ttu-id="3511a-105">En este tema se exponen varios ejemplos que explican el modelo de programación.</span><span class="sxs-lookup"><span data-stu-id="3511a-105">This topic walks through several examples that explain the programming model.</span></span>  
  
## <a name="enumeration-basics"></a><span data-ttu-id="3511a-106">Fundamentos de enumeración</span><span class="sxs-lookup"><span data-stu-id="3511a-106">Enumeration Basics</span></span>  

 <span data-ttu-id="3511a-107">Una manera de utilizar tipos de enumeración en el modelo del contrato de datos es aplicar el atributo <xref:System.Runtime.Serialization.DataContractAttribute> al tipo.</span><span class="sxs-lookup"><span data-stu-id="3511a-107">One way to use enumeration types in the data contract model is to apply the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the type.</span></span> <span data-ttu-id="3511a-108">Debe aplicar a continuación el atributo <xref:System.Runtime.Serialization.EnumMemberAttribute> a cada miembro que debe estar incluido en el contrato de datos.</span><span class="sxs-lookup"><span data-stu-id="3511a-108">You must then apply the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute to each member that must be included in the data contract.</span></span>  
  
 <span data-ttu-id="3511a-109">En el ejemplo siguiente se muestran dos clases.</span><span class="sxs-lookup"><span data-stu-id="3511a-109">The following example shows two classes.</span></span> <span data-ttu-id="3511a-110">El primero utiliza la enumeración y el segundo define la enumeración.</span><span class="sxs-lookup"><span data-stu-id="3511a-110">The first uses the enumeration and the second defines the enumeration.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#1)]
 [!code-vb[c_DataContractEnumerations#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#1)]  
  
 <span data-ttu-id="3511a-111">Una instancia de la clase `Car` se puede enviar o recibir solo si el campo `condition` está establecido en uno de los valores `New`, `Used`o `Rental`.</span><span class="sxs-lookup"><span data-stu-id="3511a-111">An instance of the `Car` class can be sent or received only if the `condition` field is set to one of the values `New`, `Used`, or `Rental`.</span></span> <span data-ttu-id="3511a-112">Si la propiedad `condition` es `Broken` o `Stolen`, se produce <xref:System.Runtime.Serialization.SerializationException>.</span><span class="sxs-lookup"><span data-stu-id="3511a-112">If the `condition` is `Broken` or `Stolen`, a <xref:System.Runtime.Serialization.SerializationException> is thrown.</span></span>  
  
 <span data-ttu-id="3511a-113">Puede utilizar las propiedades (<xref:System.Runtime.Serialization.DataContractAttribute> y <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A>) <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A> de forma habitual para los contratos de datos de enumeración.</span><span class="sxs-lookup"><span data-stu-id="3511a-113">You can use the <xref:System.Runtime.Serialization.DataContractAttribute> properties (<xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> and <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A>) as usual for enumeration data contracts.</span></span>  
  
### <a name="enumeration-member-values"></a><span data-ttu-id="3511a-114">Valores miembro de enumeración</span><span class="sxs-lookup"><span data-stu-id="3511a-114">Enumeration Member Values</span></span>  

 <span data-ttu-id="3511a-115">Generalmente, el contrato de datos incluye nombres miembro de enumeración, no valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="3511a-115">Generally the data contract includes enumeration member names, not numerical values.</span></span> <span data-ttu-id="3511a-116">Sin embargo, cuando se usa el modelo de contrato de datos, si el lado receptor es un cliente de WCF, el esquema exportado conserva los valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="3511a-116">However, when using the data contract model, if the receiving side is a WCF client, the exported schema preserves the numerical values.</span></span> <span data-ttu-id="3511a-117">Tenga en cuenta que este no es el caso cuando se usa la [clase XmlSerializer](using-the-xmlserializer-class.md).</span><span class="sxs-lookup"><span data-stu-id="3511a-117">Note that this is not the case when using the [Using the XmlSerializer Class](using-the-xmlserializer-class.md).</span></span>  
  
 <span data-ttu-id="3511a-118">En el ejemplo anterior, si `condition` está establecido en `Used` y se serializan los datos a XML, el XML resultante es `<condition>Used</condition>``<condition>1</condition>` y no .</span><span class="sxs-lookup"><span data-stu-id="3511a-118">In the preceding example, if `condition` is set to `Used` and the data is serialized to XML, the resulting XML is `<condition>Used</condition>` and not `<condition>1</condition>`.</span></span> <span data-ttu-id="3511a-119">Por consiguiente, el contrato de datos siguiente es equivalente al contrato de datos de `CarConditionEnum`.</span><span class="sxs-lookup"><span data-stu-id="3511a-119">Therefore, the following data contract is equivalent to the data contract of `CarConditionEnum`.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#2)]
 [!code-vb[c_DataContractEnumerations#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#2)]  
  
 <span data-ttu-id="3511a-120">Por ejemplo, puede utilizar `CarConditionEnum` en el lado emisor y `CarConditionWithNumbers` en el lado receptor.</span><span class="sxs-lookup"><span data-stu-id="3511a-120">For example, you can use `CarConditionEnum` on the sending side and `CarConditionWithNumbers` on the receiving side.</span></span> <span data-ttu-id="3511a-121">Aunque el lado emisor usa el valor "1" para `Used` y el lado receptor usa el valor "20", la representación XML es `<condition>Used</condition>` para ambos lados.</span><span class="sxs-lookup"><span data-stu-id="3511a-121">Although the sending side uses the value "1" for `Used` and the receiving side uses the value "20," the XML representation is `<condition>Used</condition>` for both sides.</span></span>  
  
 <span data-ttu-id="3511a-122">Para que se incluya en el contrato de datos, debe aplicar el atributo <xref:System.Runtime.Serialization.EnumMemberAttribute>.</span><span class="sxs-lookup"><span data-stu-id="3511a-122">To be included in the data contract, you must apply the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span> <span data-ttu-id="3511a-123">En el .NET Framework, siempre puede aplicar el valor especial 0 (cero) a una enumeración, que también es el valor predeterminado para cualquier enumeración.</span><span class="sxs-lookup"><span data-stu-id="3511a-123">In the .NET Framework, you can always apply the special value 0 (zero) to an enumeration, which is also the default value for any enumeration.</span></span> <span data-ttu-id="3511a-124">Sin embargo, este valor especial cero no se puede serializar a menos que se marque con el atributo <xref:System.Runtime.Serialization.EnumMemberAttribute>.</span><span class="sxs-lookup"><span data-stu-id="3511a-124">However, even this special zero value cannot be serialized unless it is marked with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span>  
  
 <span data-ttu-id="3511a-125">Existen dos excepciones a esto:</span><span class="sxs-lookup"><span data-stu-id="3511a-125">There are two exceptions to this:</span></span>  
  
- <span data-ttu-id="3511a-126">Enumeraciones de marcas (se describe más adelante en este tema).</span><span class="sxs-lookup"><span data-stu-id="3511a-126">Flag enumerations (discussed later in this topic).</span></span>  
  
- <span data-ttu-id="3511a-127">Miembros de datos de enumeración con la propiedad <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> establecida en `false` (en cuyo caso la enumeración con el valor cero se omite de los datos serializados).</span><span class="sxs-lookup"><span data-stu-id="3511a-127">Enumeration data members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property set to `false` (in which case, the enumeration with the value zero is omitted from the serialized data).</span></span>  
  
### <a name="customizing-enumeration-member-values"></a><span data-ttu-id="3511a-128">Personalización de valores miembro de enumeración</span><span class="sxs-lookup"><span data-stu-id="3511a-128">Customizing Enumeration Member Values</span></span>  

 <span data-ttu-id="3511a-129">Puede personalizar el valor miembro de enumeración que constituye una parte del contrato de datos utilizando la propiedad <xref:System.Runtime.Serialization.EnumMemberAttribute.Value%2A> del atributo <xref:System.Runtime.Serialization.EnumMemberAttribute>.</span><span class="sxs-lookup"><span data-stu-id="3511a-129">You can customize the enumeration member value that forms a part of the data contract by using the <xref:System.Runtime.Serialization.EnumMemberAttribute.Value%2A> property of the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span>  
  
 <span data-ttu-id="3511a-130">Por ejemplo, el siguiente contrato de datos es también equivalente al contrato de datos de `CarConditionEnum`.</span><span class="sxs-lookup"><span data-stu-id="3511a-130">For example, the following data contract is also equivalent to the data contract of the `CarConditionEnum`.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#3)]
 [!code-vb[c_DataContractEnumerations#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#3)]  
  
 <span data-ttu-id="3511a-131">Cuando se serializa, el valor de `PreviouslyOwned` tiene representación XML `<condition>Used</condition>`.</span><span class="sxs-lookup"><span data-stu-id="3511a-131">When serialized, the value of `PreviouslyOwned` has the XML representation `<condition>Used</condition>`.</span></span>  
  
## <a name="simple-enumerations"></a><span data-ttu-id="3511a-132">Enumeraciones simples</span><span class="sxs-lookup"><span data-stu-id="3511a-132">Simple Enumerations</span></span>  

 <span data-ttu-id="3511a-133">También puede serializar los tipos de enumeración a los que no se ha aplicado el atributo <xref:System.Runtime.Serialization.DataContractAttribute>.</span><span class="sxs-lookup"><span data-stu-id="3511a-133">You can also serialize enumeration types to which the <xref:System.Runtime.Serialization.DataContractAttribute> attribute has not been applied.</span></span> <span data-ttu-id="3511a-134">Estos tipos de enumeración se tratan tal y como se ha descrito anteriormente, a excepción de que cada miembro (que no tiene el atributo <xref:System.NonSerializedAttribute> aplicado) se trata como si se hubiera aplicado el atributo <xref:System.Runtime.Serialization.EnumMemberAttribute>.</span><span class="sxs-lookup"><span data-stu-id="3511a-134">Such enumeration types are treated exactly as previously described, except that every member (that does not have the <xref:System.NonSerializedAttribute> attribute applied) is treated as if the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute has been applied.</span></span> <span data-ttu-id="3511a-135">Por ejemplo, la enumeración siguiente tiene de forma implícita un contrato de datos equivalente al del ejemplo de `CarConditionEnum` anterior.</span><span class="sxs-lookup"><span data-stu-id="3511a-135">For example, the following enumeration implicitly has a data contract equivalent to the preceding `CarConditionEnum` example.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#6)]
 [!code-vb[c_DataContractEnumerations#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#6)]  
  
 <span data-ttu-id="3511a-136">Puede usar las enumeraciones simples cuando no necesite personalizar el espacio de nombres y el nombre del contrato de datos de la enumeración y los valores miembro de la enumeración.</span><span class="sxs-lookup"><span data-stu-id="3511a-136">You can use simple enumerations when you do not need to customize the enumeration's data contract name and namespace and the enumeration member values.</span></span>  
  
#### <a name="notes-on-simple-enumerations"></a><span data-ttu-id="3511a-137">Notas en enumeraciones simples</span><span class="sxs-lookup"><span data-stu-id="3511a-137">Notes on Simple Enumerations</span></span>  

 <span data-ttu-id="3511a-138">Aplicar el atributo <xref:System.Runtime.Serialization.EnumMemberAttribute> a las enumeraciones simples no tiene ningún efecto.</span><span class="sxs-lookup"><span data-stu-id="3511a-138">Applying the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute to simple enumerations has no effect.</span></span>  
  
 <span data-ttu-id="3511a-139">No se produce ninguna diferencia si se aplica el atributo <xref:System.SerializableAttribute> o no a la enumeración.</span><span class="sxs-lookup"><span data-stu-id="3511a-139">It makes no difference whether or not the <xref:System.SerializableAttribute> attribute is applied to the enumeration.</span></span>  
  
 <span data-ttu-id="3511a-140">El hecho que la clase <xref:System.Runtime.Serialization.DataContractSerializer> acepte el atributo <xref:System.NonSerializedAttribute> aplicado a los miembros de enumeración es diferente del comportamiento de <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> y <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>.</span><span class="sxs-lookup"><span data-stu-id="3511a-140">The fact that the <xref:System.Runtime.Serialization.DataContractSerializer> class honors the <xref:System.NonSerializedAttribute> attribute applied to enumeration members is different from the behavior of the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> and the <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>.</span></span> <span data-ttu-id="3511a-141">Ambos de esos serializadores omiten el atributo <xref:System.NonSerializedAttribute>.</span><span class="sxs-lookup"><span data-stu-id="3511a-141">Both of those serializers ignore the <xref:System.NonSerializedAttribute> attribute.</span></span>  
  
## <a name="flag-enumerations"></a><span data-ttu-id="3511a-142">Enumeraciones de marcas</span><span class="sxs-lookup"><span data-stu-id="3511a-142">Flag Enumerations</span></span>  

 <span data-ttu-id="3511a-143">Puede aplicar el atributo <xref:System.FlagsAttribute> a enumeraciones.</span><span class="sxs-lookup"><span data-stu-id="3511a-143">You can apply the <xref:System.FlagsAttribute> attribute to enumerations.</span></span> <span data-ttu-id="3511a-144">En ese caso, una lista de cero o más valores de enumeración se puede enviar o recibir simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="3511a-144">In that case, a list of zero or more enumeration values can be sent or received simultaneously.</span></span>  
  
 <span data-ttu-id="3511a-145">Para ello, aplique el atributo <xref:System.Runtime.Serialization.DataContractAttribute> a la enumeración de marca y, a continuación, marque todos los miembros que son potencias de dos con el atributo <xref:System.Runtime.Serialization.EnumMemberAttribute>.</span><span class="sxs-lookup"><span data-stu-id="3511a-145">To do so, apply the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the flag enumeration and then mark all the members that are powers of two with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span> <span data-ttu-id="3511a-146">Tenga en cuenta que para utilizar una enumeración de marca, la progresión debe ser una secuencia ininterrumpida de potencias de 2 (por ejemplo, 1, 2, 4, 8, 16, 32, 64).</span><span class="sxs-lookup"><span data-stu-id="3511a-146">Note that to use a flag enumeration, the progression must be an uninterrupted sequence of powers of 2 (for example, 1, 2, 4, 8, 16, 32, 64).</span></span>  
  
 <span data-ttu-id="3511a-147">Los pasos siguientes se aplican al envío de un valor de enumeración de un marca:</span><span class="sxs-lookup"><span data-stu-id="3511a-147">The following steps apply to sending a flag's enumeration value:</span></span>  
  
1. <span data-ttu-id="3511a-148">Intente buscar un miembro de enumeración (con el atributo <xref:System.Runtime.Serialization.EnumMemberAttribute> aplicado) que asigna al valor numérico.</span><span class="sxs-lookup"><span data-stu-id="3511a-148">Attempt to find an enumeration member (with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute applied) that maps to the numeric value.</span></span> <span data-ttu-id="3511a-149">Si lo encuentra, envíe una lista que contenga solo ese miembro.</span><span class="sxs-lookup"><span data-stu-id="3511a-149">If found, send a list that contains just that member.</span></span>  
  
2. <span data-ttu-id="3511a-150">Intente desglosar el valor numérico en una suma de tal forma que haya miembros de enumeración (cada uno con el atributo <xref:System.Runtime.Serialization.EnumMemberAttribute> aplicado) que estén asignados a cada parte de la suma.</span><span class="sxs-lookup"><span data-stu-id="3511a-150">Attempt to break the numeric value into a sum such that there are enumeration members (each with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute applied) that map to each part of the sum.</span></span> <span data-ttu-id="3511a-151">Envíe la lista de todos estos miembros.</span><span class="sxs-lookup"><span data-stu-id="3511a-151">Send the list of all these members.</span></span> <span data-ttu-id="3511a-152">Tenga en cuenta que el *algoritmo expansivo* se usa para encontrar este tipo de suma y, por lo tanto, no hay ninguna garantía de que se encuentre una suma de este tipo, aunque esté presente.</span><span class="sxs-lookup"><span data-stu-id="3511a-152">Note that the *greedy algorithm* is used to find such a sum, and thus there is no guarantee that such a sum is found even if it is present.</span></span> <span data-ttu-id="3511a-153">Para evitar este problema, asegúrese de que los valores numéricos de los miembros de enumeración son potencias de dos.</span><span class="sxs-lookup"><span data-stu-id="3511a-153">To avoid this problem, make sure that the numeric values of the enumeration members are powers of two.</span></span>  
  
3. <span data-ttu-id="3511a-154">Si los dos pasos anteriores fallan, y el valor numérico es distinto de cero, inicie <xref:System.Runtime.Serialization.SerializationException>.</span><span class="sxs-lookup"><span data-stu-id="3511a-154">If the preceding two steps fail, and the numeric value is nonzero, throw a <xref:System.Runtime.Serialization.SerializationException>.</span></span> <span data-ttu-id="3511a-155">Si el valor numérico es cero, envíe la lista vacía.</span><span class="sxs-lookup"><span data-stu-id="3511a-155">If the numeric value is zero, send the empty list.</span></span>  
  
### <a name="example"></a><span data-ttu-id="3511a-156">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3511a-156">Example</span></span>  

 <span data-ttu-id="3511a-157">El ejemplo de enumeración siguiente se puede utilizar en una operación de la marca.</span><span class="sxs-lookup"><span data-stu-id="3511a-157">The following enumeration example can be used in a flag operation.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#4)]
 [!code-vb[c_DataContractEnumerations#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#4)]  
  
 <span data-ttu-id="3511a-158">Los valores de ejemplo siguientes se serializan tal y como se ha indicado.</span><span class="sxs-lookup"><span data-stu-id="3511a-158">The following example values are serialized as indicated.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#5)]
 [!code-vb[c_DataContractEnumerations#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#5)]  
  
## <a name="see-also"></a><span data-ttu-id="3511a-159">Vea también</span><span class="sxs-lookup"><span data-stu-id="3511a-159">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- [<span data-ttu-id="3511a-160">Utilización de contratos de datos</span><span class="sxs-lookup"><span data-stu-id="3511a-160">Using Data Contracts</span></span>](using-data-contracts.md)
- [<span data-ttu-id="3511a-161">Especificación de transferencia de datos en contratos de servicio</span><span class="sxs-lookup"><span data-stu-id="3511a-161">Specifying Data Transfer in Service Contracts</span></span>](specifying-data-transfer-in-service-contracts.md)
