---
title: Procedimientos recomendados para la comunicación en cola
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], best practices
- best practices [WCF], queued communication
ms.assetid: 446a6383-cae3-4338-b193-a33c14a49948
ms.openlocfilehash: 412b30a497fcf4c341f80a64c76fcbbc425e70b2
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96247452"
---
# <a name="best-practices-for-queued-communication"></a><span data-ttu-id="60ba2-102">Procedimientos recomendados para la comunicación en cola</span><span class="sxs-lookup"><span data-stu-id="60ba2-102">Best Practices for Queued Communication</span></span>

<span data-ttu-id="60ba2-103">En este tema se proporcionan los procedimientos recomendados para la comunicación en cola en Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="60ba2-103">This topic provides recommended practices for queued communication in Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="60ba2-104">Las secciones siguientes discuten los procedimientos recomendados desde una perspectiva del escenario.</span><span class="sxs-lookup"><span data-stu-id="60ba2-104">The following sections discuss recommended practices from a scenario perspective.</span></span>  
  
## <a name="fast-best-effort-queued-messaging"></a><span data-ttu-id="60ba2-105">Mensajería en cola rápida y eficiente</span><span class="sxs-lookup"><span data-stu-id="60ba2-105">Fast, Best-Effort Queued Messaging</span></span>  

 <span data-ttu-id="60ba2-106">Para los escenarios que requieren la separación que proporciona la mensajería en cola y una mensajería rápida y de alto rendimiento con garantías de optimización, utilice una cola no transaccional y establezca la propiedad <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> en `false`.</span><span class="sxs-lookup"><span data-stu-id="60ba2-106">For scenarios that require separation that queued messaging provides and fast, high-performance messaging with best-effort assurances, use a non-transactional queue and set the <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> property to `false`.</span></span>  
  
 <span data-ttu-id="60ba2-107">Además, puede decidir no incurrir en el costo de escrituras en disco estableciendo la propiedad <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> en `false`.</span><span class="sxs-lookup"><span data-stu-id="60ba2-107">In addition, you can choose not to incur the cost of disk writes by setting the <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property to `false`.</span></span>  
  
 <span data-ttu-id="60ba2-108">La seguridad afecta al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="60ba2-108">Security has implications on performance.</span></span> <span data-ttu-id="60ba2-109">Para obtener más información, consulte [consideraciones de rendimiento](performance-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="60ba2-109">For more information, see [Performance Considerations](performance-considerations.md).</span></span>  
  
## <a name="reliable-end-to-end-queued-messaging"></a><span data-ttu-id="60ba2-110">Mensajería en cola fiable de un extremo a otro</span><span class="sxs-lookup"><span data-stu-id="60ba2-110">Reliable End-to-End Queued Messaging</span></span>  

 <span data-ttu-id="60ba2-111">Las secciones siguientes describen los procedimientos recomendados para escenarios que requieren una mensajería fiable de un extremo a otro.</span><span class="sxs-lookup"><span data-stu-id="60ba2-111">The following sections describe recommended practices for scenarios that require end-to-end reliable messaging.</span></span>  
  
### <a name="basic-reliable-transfer"></a><span data-ttu-id="60ba2-112">Transferencia fiable básica</span><span class="sxs-lookup"><span data-stu-id="60ba2-112">Basic Reliable Transfer</span></span>  

 <span data-ttu-id="60ba2-113">Para obtener una fiabilidad de un extremo a otro, establezca la propiedad <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> en `true` para asegurar la transferencia.</span><span class="sxs-lookup"><span data-stu-id="60ba2-113">For end-to-end reliability, set the <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> property to `true` to ensure transfer.</span></span> <span data-ttu-id="60ba2-114">La propiedad <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> puede establecerse en `true` o `false` en función de sus requisitos (el valor predeterminado es `true`).</span><span class="sxs-lookup"><span data-stu-id="60ba2-114">The <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property can be set to `true` or `false` depending on your requirements (the default is `true`).</span></span> <span data-ttu-id="60ba2-115">Generalmente, la propiedad <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> está establecida en `true` como parte de la fiabilidad de un extremo a otro.</span><span class="sxs-lookup"><span data-stu-id="60ba2-115">Generally, the <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property is set to `true` as part of end-to-end reliability.</span></span> <span data-ttu-id="60ba2-116">El compromiso es proporcionar un costo de rendimiento, pero hace el mensaje durable para que no se pierda el mensaje si un administrador de cola se bloquea.</span><span class="sxs-lookup"><span data-stu-id="60ba2-116">The compromise is a performance cost, but makes the message durable so that the message is not lost if a queue manager crashes.</span></span>  
  
### <a name="use-of-transactions"></a><span data-ttu-id="60ba2-117">Uso de transacciones</span><span class="sxs-lookup"><span data-stu-id="60ba2-117">Use of Transactions</span></span>  

 <span data-ttu-id="60ba2-118">Debe usar transacciones para garantizar la confiabilidad de un extremo a otro.</span><span class="sxs-lookup"><span data-stu-id="60ba2-118">You must use transactions to ensure end-to-end reliability.</span></span> <span data-ttu-id="60ba2-119">Las garantías de`ExactlyOnce` solo aseguran que los mensajes se entreguen a la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="60ba2-119">`ExactlyOnce` assurances only ensure that messages are delivered to the target queue.</span></span> <span data-ttu-id="60ba2-120">Para garantizar que se reciba el mensaje, utilice transacciones.</span><span class="sxs-lookup"><span data-stu-id="60ba2-120">To ensure that the message is received, use transactions.</span></span> <span data-ttu-id="60ba2-121">Sin transacciones, si el servicio se bloquea, pierde el mensaje que se entrega pero realmente se entrega a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="60ba2-121">Without transactions, if the service crashes, you lose the message that is being delivered but is actually delivered to the application.</span></span>  
  
### <a name="use-of-dead-letter-queues"></a><span data-ttu-id="60ba2-122">Uso de colas de mensajes no enviados</span><span class="sxs-lookup"><span data-stu-id="60ba2-122">Use of Dead-letter Queues</span></span>  

 <span data-ttu-id="60ba2-123">Las colas de mensajes no enviados aseguran que reciba una notificación si no se pudo entregar un mensaje a la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="60ba2-123">Dead-letter queues ensure that you are notified if a message fails to be delivered to the target queue.</span></span> <span data-ttu-id="60ba2-124">Puede utilizar la cola de mensajes no enviados proporcionada por el sistema o una cola de mensajes no enviados personalizada.</span><span class="sxs-lookup"><span data-stu-id="60ba2-124">You can use the system-provided dead-letter queue or a custom dead-letter queue.</span></span> <span data-ttu-id="60ba2-125">En general, utilizar una cola de mensajes no enviados personalizada es mejor porque le permite enviar mensajes no enviados de una aplicación en una cola de mensajes no enviados única.</span><span class="sxs-lookup"><span data-stu-id="60ba2-125">In general, using a custom dead-letter queue is best because it enables you to send dead-letter messages from one application into a single dead-letter queue.</span></span> <span data-ttu-id="60ba2-126">De lo contrario, todos los mensajes no enviados que ocurran para todas las aplicaciones que se ejecuten en el sistema se entregan a una cola única.</span><span class="sxs-lookup"><span data-stu-id="60ba2-126">Otherwise, all dead-letter messages that occur for all applications running on the system are delivered to a single queue.</span></span> <span data-ttu-id="60ba2-127">Cada aplicación debe buscar a continuación en la cola de mensajes no enviados para encontrar los mensajes no enviados pertinentes para esa aplicación.</span><span class="sxs-lookup"><span data-stu-id="60ba2-127">Each application must then search though the dead-letter queue to find the dead-letter messages that are relevant to that application.</span></span> <span data-ttu-id="60ba2-128">A veces, utilizar una cola de mensajes no enviados personalizada no es factible, como cuando se usa MSMQ 3.0.</span><span class="sxs-lookup"><span data-stu-id="60ba2-128">Sometimes, using a custom dead-letter queue is not feasible, such as when using MSMQ 3.0.</span></span>  
  
 <span data-ttu-id="60ba2-129">No se recomienda desactivar las colas de mensajes no enviados para la comunicación fiable de un extremo a otro.</span><span class="sxs-lookup"><span data-stu-id="60ba2-129">Turning off dead-letter queues for end-to-end reliable communication is not recommended.</span></span>  
  
 <span data-ttu-id="60ba2-130">Para obtener más información, consulte [uso de colas de Dead-Letter para controlar los errores de transferencia de mensajes](using-dead-letter-queues-to-handle-message-transfer-failures.md).</span><span class="sxs-lookup"><span data-stu-id="60ba2-130">For more information, see [Using Dead-Letter Queues to Handle Message Transfer Failures](using-dead-letter-queues-to-handle-message-transfer-failures.md).</span></span>  
  
### <a name="use-of-poison-message-handling"></a><span data-ttu-id="60ba2-131">Uso de control de mensajes dudosos</span><span class="sxs-lookup"><span data-stu-id="60ba2-131">Use of Poison-Message Handling</span></span>  

 <span data-ttu-id="60ba2-132">El control de mensajes dudosos proporciona la capacidad de recuperarse del error de procesamiento de mensajes.</span><span class="sxs-lookup"><span data-stu-id="60ba2-132">Poison-message handling provides the ability to recover from the failure to process messages.</span></span>  
  
 <span data-ttu-id="60ba2-133">Al utilizar la característica de control de mensajes dudosos, asegúrese de que la propiedad <xref:System.ServiceModel.MsmqBindingBase.ReceiveErrorHandling%2A> está establecida en el valor adecuado.</span><span class="sxs-lookup"><span data-stu-id="60ba2-133">When using the poison-message handling feature, ensure that the <xref:System.ServiceModel.MsmqBindingBase.ReceiveErrorHandling%2A> property is set to the appropriate value.</span></span> <span data-ttu-id="60ba2-134">Establecerla en <xref:System.ServiceModel.ReceiveErrorHandling.Drop> implica que los datos se pierdan.</span><span class="sxs-lookup"><span data-stu-id="60ba2-134">Setting it to <xref:System.ServiceModel.ReceiveErrorHandling.Drop> means the data is lost.</span></span> <span data-ttu-id="60ba2-135">Por otro lado, establecerla en <xref:System.ServiceModel.ReceiveErrorHandling.Fault> produce un error en el host de servicios cuando detecta un mensaje dudoso.</span><span class="sxs-lookup"><span data-stu-id="60ba2-135">On the other hand, setting it to <xref:System.ServiceModel.ReceiveErrorHandling.Fault> faults the service host when it detects a poison message.</span></span> <span data-ttu-id="60ba2-136">Utilizar MSMQ 3.0, <xref:System.ServiceModel.ReceiveErrorHandling.Fault> es la mejor opción para evitar la pérdida de datos y quitar el mensaje dudoso.</span><span class="sxs-lookup"><span data-stu-id="60ba2-136">Using MSMQ 3.0, <xref:System.ServiceModel.ReceiveErrorHandling.Fault> is the best option to avoid data loss and move the poison message out of the way.</span></span> <span data-ttu-id="60ba2-137">Con MSMQ 4.0, <xref:System.ServiceModel.ReceiveErrorHandling.Move> es el enfoque recomendado.</span><span class="sxs-lookup"><span data-stu-id="60ba2-137">Using MSMQ 4.0, <xref:System.ServiceModel.ReceiveErrorHandling.Move> is the recommended approach.</span></span> <span data-ttu-id="60ba2-138"><xref:System.ServiceModel.ReceiveErrorHandling.Move> mueve un mensaje dudoso fuera de la cola para que el servicio pueda continuar procesando los nuevos mensajes.</span><span class="sxs-lookup"><span data-stu-id="60ba2-138"><xref:System.ServiceModel.ReceiveErrorHandling.Move> moves a poisoned message out of the queue so the service can continue to process new messages.</span></span> <span data-ttu-id="60ba2-139">El servicio del mensaje dudoso puede procesar a continuación el mensaje dudoso por separado.</span><span class="sxs-lookup"><span data-stu-id="60ba2-139">The poison-message service can then process the poison message separately.</span></span>  
  
 <span data-ttu-id="60ba2-140">Para obtener más información, vea [control de mensajes dudosos](poison-message-handling.md).</span><span class="sxs-lookup"><span data-stu-id="60ba2-140">For more information, see [Poison Message Handling](poison-message-handling.md).</span></span>  
  
## <a name="achieving-high-throughput"></a><span data-ttu-id="60ba2-141">Obtener un alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="60ba2-141">Achieving High Throughput</span></span>  

 <span data-ttu-id="60ba2-142">Para lograr un alto rendimiento en un solo punto de conexión, utilice lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="60ba2-142">To achieve high throughput on a single endpoint, use the following:</span></span>  
  
- <span data-ttu-id="60ba2-143">Procesamiento por lotes con transacciones</span><span class="sxs-lookup"><span data-stu-id="60ba2-143">Transacted batching.</span></span> <span data-ttu-id="60ba2-144">El procesamiento por lotes con transacciones garantiza que muchos mensajes se puedan leer en una transacción única.</span><span class="sxs-lookup"><span data-stu-id="60ba2-144">Transacted batching ensures that many messages can be read in a single transaction.</span></span> <span data-ttu-id="60ba2-145">Esto optimiza las confirmaciones de transacciones, aumentando el rendimiento total.</span><span class="sxs-lookup"><span data-stu-id="60ba2-145">This optimizes transaction commits, increasing overall performance.</span></span> <span data-ttu-id="60ba2-146">El costo del procesamiento por lotes es que si se produce un error en un mensaje único dentro de un lote, se deshace el lote completo y se deben procesar los mensajes de uno en uno hasta que sea seguro de nuevo el procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="60ba2-146">The cost of batching is that if a failure occurs in a single message within a batch, then the entire batch is rolled back and the messages must be processed one at a time until it is safe to batch again.</span></span> <span data-ttu-id="60ba2-147">En la mayoría de los casos, los mensajes dudosos son raros, así que el procesamiento por lotes es la forma preferida de aumentar el rendimiento del sistema, particularmente cuando se tienen otros administradores de recursos que participan en la transacción.</span><span class="sxs-lookup"><span data-stu-id="60ba2-147">In most cases, poison messages are rare, so batching is the preferred way to increase system performance, particularly when you have other resource managers that participate in the transaction.</span></span> <span data-ttu-id="60ba2-148">Para obtener más información, consulte [procesamiento por lotes de mensajes en una transacción](batching-messages-in-a-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="60ba2-148">For more information, see [Batching Messages in a Transaction](batching-messages-in-a-transaction.md).</span></span>  
  
- <span data-ttu-id="60ba2-149">Simultaneidad.</span><span class="sxs-lookup"><span data-stu-id="60ba2-149">Concurrency.</span></span> <span data-ttu-id="60ba2-150">La simultaneidad aumenta el rendimiento, pero también afecta a la contención a los recursos compartidos.</span><span class="sxs-lookup"><span data-stu-id="60ba2-150">Concurrency increases throughput, but concurrency also affects contention to shared resources.</span></span> <span data-ttu-id="60ba2-151">Para obtener más información, vea [Concurrency](../samples/concurrency.md).</span><span class="sxs-lookup"><span data-stu-id="60ba2-151">For more information, see [Concurrency](../samples/concurrency.md).</span></span>  
  
- <span data-ttu-id="60ba2-152">Limitación de peticiones.</span><span class="sxs-lookup"><span data-stu-id="60ba2-152">Throttling.</span></span> <span data-ttu-id="60ba2-153">Para un rendimiento óptimo, limite el número de mensajes en el conductor del distribuidor.</span><span class="sxs-lookup"><span data-stu-id="60ba2-153">For optimal performance, throttle the number of messages in the dispatcher pipeline.</span></span> <span data-ttu-id="60ba2-154">Para obtener un ejemplo de cómo hacerlo, consulte [limitación](../samples/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="60ba2-154">For an example of how to do this, see [Throttling](../samples/throttling.md).</span></span>  
  
 <span data-ttu-id="60ba2-155">Al utilizar el procesamiento por lotes, sea consciente que la simultaneidad y la limitación de peticiones se traducen en los lotes simultáneos.</span><span class="sxs-lookup"><span data-stu-id="60ba2-155">When using batching, be aware that concurrency and throttling translate to concurrent batches.</span></span>  
  
 <span data-ttu-id="60ba2-156">Para lograr un mayor rendimiento y disponibilidad, use una granja de servicios WCF que lean desde la cola.</span><span class="sxs-lookup"><span data-stu-id="60ba2-156">To achieve higher throughput and availability, use a farm of WCF services that read from the queue.</span></span> <span data-ttu-id="60ba2-157">Esto requiere que todos estos servicios expongan el mismo contrato en el mismo extremo.</span><span class="sxs-lookup"><span data-stu-id="60ba2-157">This requires that all of these services expose the same contract on the same endpoint.</span></span> <span data-ttu-id="60ba2-158">El enfoque del conjunto funciona mejor para las aplicaciones que tienen tasas altas de producción de mensajes porque permite a varios servicios que lean desde la misma cola.</span><span class="sxs-lookup"><span data-stu-id="60ba2-158">The farm approach works best for applications that have high production rates of messages because it enables a number of services to all read from the same queue.</span></span>  
  
 <span data-ttu-id="60ba2-159">Al utilizar los conjuntos, sea consciente de que MSMQ 3.0 no admite las lecturas con transacciones remotas.</span><span class="sxs-lookup"><span data-stu-id="60ba2-159">When using farms, be aware that MSMQ 3.0 does not support remote transacted reads.</span></span> <span data-ttu-id="60ba2-160">MSMQ 4.0 admite las lecturas con transacciones remotas.</span><span class="sxs-lookup"><span data-stu-id="60ba2-160">MSMQ 4.0 does support remote transacted reads.</span></span>  
  
 <span data-ttu-id="60ba2-161">Para obtener más información, consulte [procesamiento por lotes de mensajes en una transacción](batching-messages-in-a-transaction.md) y [diferencias en las características de cola en Windows Vista, Windows Server 2003 y Windows XP](diff-in-queue-in-vista-server-2003-windows-xp.md).</span><span class="sxs-lookup"><span data-stu-id="60ba2-161">For more information, see [Batching Messages in a Transaction](batching-messages-in-a-transaction.md) and [Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP](diff-in-queue-in-vista-server-2003-windows-xp.md).</span></span>  
  
## <a name="queuing-with-unit-of-work-semantics"></a><span data-ttu-id="60ba2-162">Puesta en cola con la unidad de semántica de trabajo</span><span class="sxs-lookup"><span data-stu-id="60ba2-162">Queuing with Unit of Work Semantics</span></span>  

 <span data-ttu-id="60ba2-163">En algunos escenarios un grupo de mensajes en una cola se puede relacionar y, por consiguiente, la clasificación de estos mensajes es significativa.</span><span class="sxs-lookup"><span data-stu-id="60ba2-163">In some scenarios a group of messages in a queue may be related and, therefore, the ordering of these messages is significant.</span></span> <span data-ttu-id="60ba2-164">En tales escenarios, procese juntos un grupo de mensajes relacionados como una unidad única: o se procesan todos los mensajes correctamente o no se procesa ninguno.</span><span class="sxs-lookup"><span data-stu-id="60ba2-164">In such scenarios, process a group of related messages together as a single unit: either all of the messages are processed successfully or none are.</span></span> <span data-ttu-id="60ba2-165">Para implementar tal comportamiento, utilice sesiones con colas.</span><span class="sxs-lookup"><span data-stu-id="60ba2-165">To implement such behavior, use sessions with queues.</span></span>  
  
 <span data-ttu-id="60ba2-166">Para obtener más información, consulte [agrupar los mensajes en cola en una sesión](grouping-queued-messages-in-a-session.md).</span><span class="sxs-lookup"><span data-stu-id="60ba2-166">For more information, see [Grouping Queued Messages in a Session](grouping-queued-messages-in-a-session.md).</span></span>  
  
## <a name="correlating-request-reply-messages"></a><span data-ttu-id="60ba2-167">Correlación de mensajes de solicitud-respuesta</span><span class="sxs-lookup"><span data-stu-id="60ba2-167">Correlating Request-Reply Messages</span></span>  

 <span data-ttu-id="60ba2-168">Aunque las colas son típicamente unidireccionales, en algunos escenarios puede querer correlacionar una respuesta recibida con una solicitud enviada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="60ba2-168">Though queues are typically one-way, in some scenarios you may want to correlate a reply received to a request sent earlier.</span></span> <span data-ttu-id="60ba2-169">Si requiere dicha correlación, se recomienda que aplique su propio encabezado de mensaje SOAP que contiene información de correlación con el mensaje.</span><span class="sxs-lookup"><span data-stu-id="60ba2-169">If you require such correlation, it is recommended that you apply your own SOAP message header that contains correlation information with the message.</span></span> <span data-ttu-id="60ba2-170">Normalmente, el remitente adjunta este encabezado al mensaje y el receptor, tras procesar el mensaje y responder con un nuevo mensaje en una cola de respuesta, adjunta el encabezado del mensaje del remitente que contiene la información de la correlación al mensaje de solicitud para que el remitente pueda identificar el mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="60ba2-170">Typically, the sender attaches this header with the message, and the receiver, upon processing the message and replying back with a new message on a reply queue, attaches the sender's message header that contains the correlation information so that the sender can identify the reply message with the request message.</span></span>  
  
## <a name="integrating-with-non-wcf-applications"></a><span data-ttu-id="60ba2-171">Integración en aplicaciones que no son WCF</span><span class="sxs-lookup"><span data-stu-id="60ba2-171">Integrating with Non-WCF Applications</span></span>  

 <span data-ttu-id="60ba2-172">Use `MsmqIntegrationBinding` al integrar clientes o servicios WCF con servicios o clientes que no sean WCF.</span><span class="sxs-lookup"><span data-stu-id="60ba2-172">Use `MsmqIntegrationBinding` when integrating WCF services or clients with non-WCF services or clients.</span></span> <span data-ttu-id="60ba2-173">La aplicación que no es WCF puede ser una aplicación MSMQ escrita con System. Messaging, COM+, Visual Basic o C++.</span><span class="sxs-lookup"><span data-stu-id="60ba2-173">The non-WCF application can be an MSMQ application written using System.Messaging, COM+, Visual Basic, or C++.</span></span>  
  
 <span data-ttu-id="60ba2-174">Al utilizar `MsmqIntegrationBinding`, sea consciente de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="60ba2-174">When using `MsmqIntegrationBinding`, be aware of the following:</span></span>  
  
- <span data-ttu-id="60ba2-175">Un cuerpo de mensaje de WCF no es el mismo que el cuerpo de un mensaje de MSMQ.</span><span class="sxs-lookup"><span data-stu-id="60ba2-175">A WCF message body is not the same as a MSMQ message body.</span></span> <span data-ttu-id="60ba2-176">Al enviar un mensaje de WCF mediante un enlace en cola, el cuerpo del mensaje de WCF se coloca dentro de un mensaje de MSMQ.</span><span class="sxs-lookup"><span data-stu-id="60ba2-176">When sending a WCF message using a queued binding, the WCF message body is placed inside of a MSMQ message.</span></span> <span data-ttu-id="60ba2-177">La infraestructura de MSMQ es ajena a esta información adicional; solo ve el mensaje de MSMQ.</span><span class="sxs-lookup"><span data-stu-id="60ba2-177">The MSMQ infrastructure is oblivious to this extra information; it sees only the MSMQ message.</span></span>  
  
- <span data-ttu-id="60ba2-178">`MsmqIntegrationBinding` admite los tipos de serialización populares.</span><span class="sxs-lookup"><span data-stu-id="60ba2-178">`MsmqIntegrationBinding` supports popular serialization types.</span></span> <span data-ttu-id="60ba2-179">Se basa en el tipo de serialización, el tipo de cuerpo del mensaje genérico, <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601>, toma diferentes tipos de parámetros.</span><span class="sxs-lookup"><span data-stu-id="60ba2-179">Based on the serialization type, the body type of the generic message, <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601>, takes different type parameters.</span></span> <span data-ttu-id="60ba2-180">Por ejemplo, <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.ByteArray> requiere `MsmqMessage\<byte[]>`<xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.Stream> y `MsmqMessage<Stream>` requiere .</span><span class="sxs-lookup"><span data-stu-id="60ba2-180">For example, <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.ByteArray> requires `MsmqMessage\<byte[]>` and <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.Stream> requires `MsmqMessage<Stream>`.</span></span>  
  
- <span data-ttu-id="60ba2-181">Con la serialización XML, puede especificar el tipo conocido utilizando el `KnownTypes` atributo en el [\<behavior>](../../configure-apps/file-schema/wcf/behavior-of-servicebehaviors.md) elemento que se utiliza a continuación para determinar cómo deserializar el mensaje XML.</span><span class="sxs-lookup"><span data-stu-id="60ba2-181">With XML serialization, you can specify the known type using the `KnownTypes` attribute on the [\<behavior>](../../configure-apps/file-schema/wcf/behavior-of-servicebehaviors.md) element that is then used to determine how to deserialize the XML message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="60ba2-182">Vea también</span><span class="sxs-lookup"><span data-stu-id="60ba2-182">See also</span></span>

- [<span data-ttu-id="60ba2-183">Las colas en WCF</span><span class="sxs-lookup"><span data-stu-id="60ba2-183">Queuing in WCF</span></span>](queuing-in-wcf.md)
- [<span data-ttu-id="60ba2-184">Procedimiento para intercambiar mensajes en cola con puntos de conexión de WCF</span><span class="sxs-lookup"><span data-stu-id="60ba2-184">How to: Exchange Queued Messages with WCF Endpoints</span></span>](how-to-exchange-queued-messages-with-wcf-endpoints.md)
- [<span data-ttu-id="60ba2-185">Procedimiento para intercambiar mensajes con puntos de conexión de WCF y aplicaciones de Message Queue Server</span><span class="sxs-lookup"><span data-stu-id="60ba2-185">How to: Exchange Messages with WCF Endpoints and Message Queuing Applications</span></span>](how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md)
- [<span data-ttu-id="60ba2-186">Agrupación de los mensajes en cola de una sesión</span><span class="sxs-lookup"><span data-stu-id="60ba2-186">Grouping Queued Messages in a Session</span></span>](grouping-queued-messages-in-a-session.md)
- [<span data-ttu-id="60ba2-187">Mensajes por lotes en una transacción</span><span class="sxs-lookup"><span data-stu-id="60ba2-187">Batching Messages in a Transaction</span></span>](batching-messages-in-a-transaction.md)
- [<span data-ttu-id="60ba2-188">Utilización de las colas de mensajes no enviados para administrar los errores en la transferencia de mensajes</span><span class="sxs-lookup"><span data-stu-id="60ba2-188">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="60ba2-189">Control de mensajes dudosos</span><span class="sxs-lookup"><span data-stu-id="60ba2-189">Poison Message Handling</span></span>](poison-message-handling.md)
- [<span data-ttu-id="60ba2-190">Diferencias en las características de cola en Windows Vista, Windows Server 2003 y Windows XP</span><span class="sxs-lookup"><span data-stu-id="60ba2-190">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>](diff-in-queue-in-vista-server-2003-windows-xp.md)
- [<span data-ttu-id="60ba2-191">Protección de mensajes utilizando la seguridad de transporte</span><span class="sxs-lookup"><span data-stu-id="60ba2-191">Securing Messages Using Transport Security</span></span>](securing-messages-using-transport-security.md)
- [<span data-ttu-id="60ba2-192">Protección de mensajes mediante la seguridad de mensajes</span><span class="sxs-lookup"><span data-stu-id="60ba2-192">Securing Messages Using Message Security</span></span>](securing-messages-using-message-security.md)
- [<span data-ttu-id="60ba2-193">Solución de problemas de la mensajería en cola</span><span class="sxs-lookup"><span data-stu-id="60ba2-193">Troubleshooting Queued Messaging</span></span>](troubleshooting-queued-messaging.md)
