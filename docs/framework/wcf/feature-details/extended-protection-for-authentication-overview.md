---
title: Información general sobre la protección extendida para la autenticación
ms.date: 03/30/2017
ms.assetid: 3d2ceffe-a7bf-4bd9-a5a2-9406423bd7f8
ms.openlocfilehash: 0537e6147a7b43dabcb4c3612fc58da11dfd4d6d
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96255551"
---
# <a name="extended-protection-for-authentication-overview"></a><span data-ttu-id="5ad51-102">Información general sobre la protección extendida para la autenticación</span><span class="sxs-lookup"><span data-stu-id="5ad51-102">Extended Protection for Authentication Overview</span></span>

<span data-ttu-id="5ad51-103">La protección extendida para la autenticación ayuda a protegerse de los ataques de tipo "man-in-the-middle" (MITM), en los que un atacante intercepta las credenciales de un cliente y las reenvía a un servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-103">Extended Protection for Authentication helps protect against man-in-the-middle (MITM) attacks, in which an attacker intercepts a client’s credentials and forwards them to a server.</span></span>  
  
 <span data-ttu-id="5ad51-104">Considere un escenario con tres participantes: un cliente, un servidor y un atacante.</span><span class="sxs-lookup"><span data-stu-id="5ad51-104">Consider a scenario with three participants: a client, server, and attacker.</span></span> <span data-ttu-id="5ad51-105">El servidor tiene la dirección URL `https://server`, mientras que el atacante tiene la dirección URL `https://attacker`.</span><span class="sxs-lookup"><span data-stu-id="5ad51-105">The server has the URL `https://server`, whereas the attacker has the URL `https://attacker`.</span></span> <span data-ttu-id="5ad51-106">El atacante engaña al cliente para que este tenga acceso a él como si fuese el servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-106">The attacker tricks the client into accessing the attacker as if it were the server.</span></span> <span data-ttu-id="5ad51-107">A continuación, el atacante envía una solicitud al servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-107">The attacker then sends a request to the server.</span></span> <span data-ttu-id="5ad51-108">Si el atacante intenta tener acceso a un recurso seguro, el servidor le responde con un encabezado WWW-Authenticate.</span><span class="sxs-lookup"><span data-stu-id="5ad51-108">If the attacker is trying to access a secure resource, the server replies to the attacker with a WWW-Authenticate header.</span></span> <span data-ttu-id="5ad51-109">El atacante no dispone de la información de autenticación, por lo que envía el encabezado WWW-Authenticate al cliente.</span><span class="sxs-lookup"><span data-stu-id="5ad51-109">The attacker does not have the authentication information, so it sends the WWW-Authenticate header on to the client.</span></span> <span data-ttu-id="5ad51-110">El cliente envía el encabezado de autorización al atacante, y este lo envía a su vez al servidor, obteniendo así acceso a los recursos seguros mediante las credenciales del cliente.</span><span class="sxs-lookup"><span data-stu-id="5ad51-110">The client sends the Authorization header to the attacker, and the attacker sends the header on to the server and gets access to the secure resources using the client’s credentials.</span></span>  
  
 <span data-ttu-id="5ad51-111">Actualmente, cuando una aplicación cliente se autentica ante el servidor mediante Kerberos, Digest o NTLM usando HTTPS, se establece en primer lugar un canal de seguridad de nivel de transporte (TLS) y la autenticación se lleva a cabo usando dicho canal.</span><span class="sxs-lookup"><span data-stu-id="5ad51-111">Currently, when a client application authenticates itself to the server using Kerberos, Digest, or NTLM using HTTPS, a Transport Level Security (TLS) channel is first established and authentication takes place using this channel.</span></span> <span data-ttu-id="5ad51-112">Sin embargo, no hay ningún enlace entre la clave de sesión generada por la Capa de sockets seguros (SSL) y la clave de sesión generada durante la autenticación.</span><span class="sxs-lookup"><span data-stu-id="5ad51-112">However, there is no binding between the session key generated by Secure Sockets Layer (SSL) and the session key that is generated during authentication.</span></span> <span data-ttu-id="5ad51-113">Por lo tanto, en el escenario anterior, si la comunicación se lleva a cabo en un canal TLS (por ejemplo, un canal HTTPS), se crean dos canales SSL: uno entre el cliente y el atacante, y otro entre este y el servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-113">So, in the previous scenario, if the communication takes places over a TLS (such as an HTTPS channel), there are two SSL channels created: one between the client and the attacker, and another between the attacker and the server.</span></span> <span data-ttu-id="5ad51-114">Las credenciales del cliente se envían desde este al servidor primero sobre el canal SSL abierto entre el cliente y el atacante, y luego sobre el canal abierto entre este y el servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-114">The client’s credentials are sent from the client to the server first over the SSL channel between the client and the attacker and then over the channel between the attacker and the server.</span></span> <span data-ttu-id="5ad51-115">Cuando dichas credenciales alcanzan el servidor, este las comprueba sin detectar que el canal sobre el que se enviaron tiene su origen en el atacante, no en el cliente.</span><span class="sxs-lookup"><span data-stu-id="5ad51-115">Once the client’s credentials reach the server, the server verifies the credentials without detecting that the channel over which those credentials were sent originated with the attacker and not the client.</span></span>  
  
 <span data-ttu-id="5ad51-116">La solución consiste en usar un canal externo seguro para TLS y un canal interno autenticado con el cliente, así como en pasar un token de enlace de canal (CBT) al servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-116">The solution is to use a TLS-secured outer channel and a client-authenticated inner channel, and to pass a Channel Binding Token (CBT) to the server.</span></span> <span data-ttu-id="5ad51-117">El CBT es una propiedad del canal externo seguro para TLS, y se usa para enlazar el canal externo a una conversación sobre el canal interno autenticado con el cliente.</span><span class="sxs-lookup"><span data-stu-id="5ad51-117">The CBT is a property of the TLS-secured outer channel, and is used to bind the outer channel to a conversation over the client-authenticated inner channel.</span></span>  
  
 <span data-ttu-id="5ad51-118">En el escenario anterior, el CBT del canal TLS cliente-atacante se combina con la información de autorización que se envía al servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-118">In the previous scenario, the CBT of the client-attacker TLS channel is merged with the authorization information that is sent to the server.</span></span> <span data-ttu-id="5ad51-119">Un servidor compatible con CBT compara el CBT incluido en la información de autenticación del cliente, que corresponde al canal cliente-atacante, con el CBT adjuntado al canal atacante-servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-119">A CBT-aware server compares the CBT contained in the client authentication information, which corresponds to the client-attacker channel, to the CBT attached to the attacker-server channel.</span></span> <span data-ttu-id="5ad51-120">El CBT es específico del destino de un canal, por lo que el CBT cliente-atacante no coincide con el CBT atacante-servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-120">A CBT is specific to a channel’s destination, so the client-attacker CBT does not match the attacker-server CBT.</span></span> <span data-ttu-id="5ad51-121">Esto permite al servidor detectar el ataque MITM y rechazar la solicitud de autenticación.</span><span class="sxs-lookup"><span data-stu-id="5ad51-121">This lets the server detect the MITM attack and refuse the authentication request.</span></span>  
  
 <span data-ttu-id="5ad51-122">El lado de cliente no requiere ningún valor de configuración.</span><span class="sxs-lookup"><span data-stu-id="5ad51-122">The client side does not require any configuration setting.</span></span> <span data-ttu-id="5ad51-123">Una vez que el cliente se ha actualizado para pasar el CBT al servidor, lo hará siempre.</span><span class="sxs-lookup"><span data-stu-id="5ad51-123">Once the client has been updated to pass the CBT to the server, it always does so.</span></span> <span data-ttu-id="5ad51-124">Si el servidor también se ha actualizado, es posible configurarlo para que use el CBT o lo ignore.</span><span class="sxs-lookup"><span data-stu-id="5ad51-124">If the server has also been updated, it can be configured to use the CBT or ignore it.</span></span> <span data-ttu-id="5ad51-125">Si no se ha actualizado, lo ignorará.</span><span class="sxs-lookup"><span data-stu-id="5ad51-125">If it has not been updated, it ignores it.</span></span>  
  
 <span data-ttu-id="5ad51-126">El servidor puede tener los niveles de protección siguientes:</span><span class="sxs-lookup"><span data-stu-id="5ad51-126">The server can have the following levels of protection:</span></span>  
  
- <span data-ttu-id="5ad51-127">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="5ad51-127">None.</span></span> <span data-ttu-id="5ad51-128">No se realiza ninguna validación de enlace de canal.</span><span class="sxs-lookup"><span data-stu-id="5ad51-128">No channel binding validation is performed.</span></span> <span data-ttu-id="5ad51-129">Este es el comportamiento de todos los servidores que no se han actualizado.</span><span class="sxs-lookup"><span data-stu-id="5ad51-129">This is the behavior of all servers that have not been updated.</span></span>  
  
- <span data-ttu-id="5ad51-130">Parcial.</span><span class="sxs-lookup"><span data-stu-id="5ad51-130">Partial.</span></span> <span data-ttu-id="5ad51-131">Todos los clientes que se han actualizado deben proporcionar información de enlace de canal al servidor.</span><span class="sxs-lookup"><span data-stu-id="5ad51-131">All clients that have been updated must provide channel binding information to the server.</span></span> <span data-ttu-id="5ad51-132">No es obligatorio para los clientes que no se han actualizado.</span><span class="sxs-lookup"><span data-stu-id="5ad51-132">Clients that have not been updated do not have to do so.</span></span> <span data-ttu-id="5ad51-133">Esta es una opción intermedia que permite la compatibilidad entre aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="5ad51-133">This is an intermediate option that allows for application compatibility.</span></span>  
  
- <span data-ttu-id="5ad51-134">Completo.</span><span class="sxs-lookup"><span data-stu-id="5ad51-134">Full.</span></span> <span data-ttu-id="5ad51-135">Todos los clientes deben proporcionar información de enlace de canal.</span><span class="sxs-lookup"><span data-stu-id="5ad51-135">All clients must provide channel binding information.</span></span> <span data-ttu-id="5ad51-136">El servidor rechazará las solicitudes de autenticación de los clientes que no lo hagan.</span><span class="sxs-lookup"><span data-stu-id="5ad51-136">The server rejects authentication requests from clients that do not do so.</span></span>  
  
 <span data-ttu-id="5ad51-137">Para obtener más información, vea el ejemplo de protección extendida/CBT para Windows 7.</span><span class="sxs-lookup"><span data-stu-id="5ad51-137">For more information, see the Win7 CBT/Extended Protection sample.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5ad51-138">Vea también</span><span class="sxs-lookup"><span data-stu-id="5ad51-138">See also</span></span>

- <span data-ttu-id="5ad51-139">[Modelo de seguridad para Windows Server App Fabric](/previous-versions/appfabric/ee677202(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="5ad51-139">[Security Model for Windows Server App Fabric](/previous-versions/appfabric/ee677202(v=azure.10))</span></span>
