---
title: Valores predeterminados de los miembros de datos
description: Obtenga información acerca de cómo omitir un miembro de datos de datos serializados cuando tiene un .NET Framework valor predeterminado. WCF puede mejorar el rendimiento al no serializar un valor predeterminado.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data members [WCF], default values
- data members [WCF]
ms.assetid: 53a3b505-4b27-444b-b079-0eb84a97cfd8
ms.openlocfilehash: 98b19fdabebeb8a1d43a66a192cb523b82ada618
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96262000"
---
# <a name="data-member-default-values"></a><span data-ttu-id="ffd76-104">Valores predeterminados de los miembros de datos</span><span class="sxs-lookup"><span data-stu-id="ffd76-104">Data Member Default Values</span></span>

<span data-ttu-id="ffd76-105">En el .NET Framework, los tipos tienen un concepto de *valores predeterminados*.</span><span class="sxs-lookup"><span data-stu-id="ffd76-105">In the .NET Framework, types have a concept of *default values*.</span></span> <span data-ttu-id="ffd76-106">Por ejemplo, para cualquier tipo de referencia el valor predeterminado es `null`, y para un tipo entero es cero.</span><span class="sxs-lookup"><span data-stu-id="ffd76-106">For example, for any reference type the default value is `null`, and for an integer type it is zero.</span></span> <span data-ttu-id="ffd76-107">En ocasiones es deseable omitir un miembro de datos de los datos serializados cuando está establecido en su valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="ffd76-107">It is occasionally desirable to omit a data member from serialized data when it is set to its default value.</span></span> <span data-ttu-id="ffd76-108">Dado que el miembro tiene un valor predeterminado, no es necesario serializar un valor real; esto es una ventaja en cuanto al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="ffd76-108">Because the member has a default value, an actual value need not be serialized; this has a performance advantage.</span></span>  
  
 <span data-ttu-id="ffd76-109">Para omitir un miembro de los datos serializados, establezca la propiedad <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> del atributo <xref:System.Runtime.Serialization.DataMemberAttribute> en `false` (el valor predeterminado es `true`).</span><span class="sxs-lookup"><span data-stu-id="ffd76-109">To omit a member from serialized data, set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to `false` (the default is `true`).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="ffd76-110">Debe establecer la propiedad <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> en `false` si hubiese una necesidad concreta de hacerlo, como para reducir el tamaño de los datos u ofrecer interoperabilidad.</span><span class="sxs-lookup"><span data-stu-id="ffd76-110">You should set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property to `false` if there is a specific need to do so, such as for interoperability or data size reduction.</span></span>  
  
## <a name="example"></a><span data-ttu-id="ffd76-111">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="ffd76-111">Example</span></span>  

 <span data-ttu-id="ffd76-112">El siguiente código tiene varios miembros con el <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> establecido en `false`.</span><span class="sxs-lookup"><span data-stu-id="ffd76-112">The following code has several members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> set to `false`.</span></span>  
  
 [!code-csharp[DataMemberAttribute#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/datamemberattribute/cs/overview.cs#4)]
 [!code-vb[DataMemberAttribute#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/datamemberattribute/vb/overview.vb#4)]  
  
 <span data-ttu-id="ffd76-113">Si se serializa una instancia de esta clase, el resultado es el siguiente: se serializan `employeeName` y `employeeID`.</span><span class="sxs-lookup"><span data-stu-id="ffd76-113">If an instance of this class is serialized, the result is as follows: `employeeName` and `employeeID` is serialized.</span></span> <span data-ttu-id="ffd76-114">El valor null de `employeeName` y el valor cero para `employeeID` forma parte explícitamente de los datos serializados.</span><span class="sxs-lookup"><span data-stu-id="ffd76-114">The null value for `employeeName` and the zero value for `employeeID` is explicitly part of the serialized data.</span></span> <span data-ttu-id="ffd76-115">Sin embargo, no se serializan los miembros `position`, `salary`y `bonus`.</span><span class="sxs-lookup"><span data-stu-id="ffd76-115">However, the `position`, `salary`, and `bonus` members are not serialized.</span></span> <span data-ttu-id="ffd76-116">Finalmente, se serializa como de costumbre `targetSalary`, aunque la propiedad <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> esté establecida en `false`, porque 57800 no coincide con el valor predeterminado de .NET para un entero, que es cero.</span><span class="sxs-lookup"><span data-stu-id="ffd76-116">Finally, `targetSalary` is serialized as usual, even though the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is set to `false`, because 57800 does not match the .NET default value for an integer, which is zero.</span></span>  
  
### <a name="xml-representation"></a><span data-ttu-id="ffd76-117">Representación de XML</span><span class="sxs-lookup"><span data-stu-id="ffd76-117">XML Representation</span></span>  

 <span data-ttu-id="ffd76-118">Si el ejemplo anterior se serializa en XML, la representación es similar a la siguiente.</span><span class="sxs-lookup"><span data-stu-id="ffd76-118">If the previous example is serialized to XML, the representation is similar to the following.</span></span>  
  
```xml  
<Employee>  
   <employeeName xsi:nil="true" />  
   <employeeID>0</employeeID>  
<targetSalary>57800</targetSalary>  
</Employee>  
```  
  
 <span data-ttu-id="ffd76-119">El atributo `xsi:nil` es un atributo especial en el espacio de nombres de instancia del Esquema XML de World Wide Web Consortium (W3C), que proporciona una manera interoperable de representar explícitamente un valor nulo.</span><span class="sxs-lookup"><span data-stu-id="ffd76-119">The `xsi:nil` attribute is a special attribute in the World Wide Web Consortium (W3C) XML Schema instance namespace that provides an interoperable way to explicitly represent a null value.</span></span> <span data-ttu-id="ffd76-120">Observe que no hay ninguna información en el XML sobre los miembros de datos de bonificaciones, posición ni sueldo.</span><span class="sxs-lookup"><span data-stu-id="ffd76-120">Note that there is no information at all in the XML about position, salary, and bonus data members.</span></span> <span data-ttu-id="ffd76-121">El extremo receptor puede interpretarlos como `null`, cero y `null`, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="ffd76-121">The receiving end can interpret these as `null`, zero, and `null`, respectively.</span></span> <span data-ttu-id="ffd76-122">No hay ninguna garantía de que un deserializador de otro fabricante pueda realizar la interpretación correcta, que es la razón por la que este patrón no se recomienda.</span><span class="sxs-lookup"><span data-stu-id="ffd76-122">There is no guarantee that a third-party deserializer can make the correct interpretation, which is why this pattern is not recommended.</span></span> <span data-ttu-id="ffd76-123">La clase <xref:System.Runtime.Serialization.DataContractSerializer> siempre selecciona la interpretación correcta de los valores que faltan.</span><span class="sxs-lookup"><span data-stu-id="ffd76-123">The <xref:System.Runtime.Serialization.DataContractSerializer> class always selects the correct interpretation for missing values.</span></span>  
  
### <a name="interaction-with-isrequired"></a><span data-ttu-id="ffd76-124">Interacción con IsRequired</span><span class="sxs-lookup"><span data-stu-id="ffd76-124">Interaction with IsRequired</span></span>  

 <span data-ttu-id="ffd76-125">Como se explicó en el [control de versiones del contrato de datos](data-contract-versioning.md), el <xref:System.Runtime.Serialization.DataMemberAttribute> atributo tiene una <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> propiedad (el valor predeterminado es `false` ).</span><span class="sxs-lookup"><span data-stu-id="ffd76-125">As discussed in [Data Contract Versioning](data-contract-versioning.md), the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute has an <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property (the default is `false`).</span></span> <span data-ttu-id="ffd76-126">La propiedad indica si un miembro de datos determinado debe estar presente o no en los datos serializados cuando se deserialicen.</span><span class="sxs-lookup"><span data-stu-id="ffd76-126">The property indicates whether a given data member must be present in the serialized data when it is being deserialized.</span></span> <span data-ttu-id="ffd76-127">Si `IsRequired` se establece en `true` (lo que indica que un valor debe estar presente) y <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> se establece en `false` (lo que indica que el valor no debe estar presente si se establece en su valor predeterminado), no se pueden serializar los valores predeterminados para este miembro de datos porque los resultados serían contradictorios.</span><span class="sxs-lookup"><span data-stu-id="ffd76-127">If `IsRequired` is set to `true`, (which indicates that a value must be present) and <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false` (indicating that the value must not be present if it is set to its default value), default values for this data member cannot be serialized because the results would be contradictory.</span></span> <span data-ttu-id="ffd76-128">Si este tipo de miembro de datos está establecido en su valor predeterminado (normalmente `null` o cero) y se intenta una serialización, se produce una <xref:System.Runtime.Serialization.SerializationException>.</span><span class="sxs-lookup"><span data-stu-id="ffd76-128">If such a data member is set to its default value (usually `null` or zero) and a serialization is attempted, a <xref:System.Runtime.Serialization.SerializationException> is thrown.</span></span>  
  
### <a name="schema-representation"></a><span data-ttu-id="ffd76-129">Representación del esquema</span><span class="sxs-lookup"><span data-stu-id="ffd76-129">Schema Representation</span></span>  

 <span data-ttu-id="ffd76-130">Los detalles de la representación del esquema del lenguaje de definición de esquemas XML (XSD) de los miembros de datos cuando la `EmitDefaultValue` propiedad está establecida en `false` se explican en [referencia de esquema de contrato de datos](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="ffd76-130">The details of the XML Schema definition language (XSD) schema representation of data members when the `EmitDefaultValue` property is set to `false` are discussed in [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span> <span data-ttu-id="ffd76-131">Sin embargo, la siguiente es una información general resumida:</span><span class="sxs-lookup"><span data-stu-id="ffd76-131">However, the following is a brief overview:</span></span>  
  
- <span data-ttu-id="ffd76-132">Cuando <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> se establece en `false` , se representa en el esquema como una anotación específica de Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="ffd76-132">When the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false`, it is represented in the schema as an annotation specific to Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="ffd76-133">No hay ninguna manera interoperable de representar esta información.</span><span class="sxs-lookup"><span data-stu-id="ffd76-133">There is no interoperable way to represent this information.</span></span> <span data-ttu-id="ffd76-134">En particular, el atributo "default" (predeterminado) en el esquema no se utiliza para este propósito, el atributo `minOccurs` solo se ve afectado por el valor <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A>, y el atributo `nillable` solo se ve afectado por el tipo del miembro de datos.</span><span class="sxs-lookup"><span data-stu-id="ffd76-134">In particular, the "default" attribute in the schema is not used for this purpose, the `minOccurs` attribute is affected only by the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> setting, and the `nillable` attribute is affected only by the type of the data member.</span></span>  
  
- <span data-ttu-id="ffd76-135">El valor predeterminado real a utilizar no se encuentra en el esquema.</span><span class="sxs-lookup"><span data-stu-id="ffd76-135">The actual default value to use is not present in the schema.</span></span> <span data-ttu-id="ffd76-136">Depende del punto de conexión receptor el interpretar correctamente un elemento que falta.</span><span class="sxs-lookup"><span data-stu-id="ffd76-136">It is up to the receiving endpoint to appropriately interpret a missing element.</span></span>  
  
 <span data-ttu-id="ffd76-137">En la importación de esquemas, la <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> propiedad se establece automáticamente en `false` cada vez que se detecta la anotación específica de WCF mencionada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="ffd76-137">On schema import, the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is automatically set to `false` whenever the WCF-specific annotation mentioned previously is detected.</span></span> <span data-ttu-id="ffd76-138">También se establece en `false` para los tipos de referencia que tienen la `nillable` propiedad establecida en `false` para admitir escenarios de interoperabilidad específicos que se suelen producir al consumir servicios Web de ASP.net.</span><span class="sxs-lookup"><span data-stu-id="ffd76-138">It is also set to `false` for reference types that have the `nillable` property set to `false` to support specific interoperability scenarios that commonly occur when consuming ASP.NET Web services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ffd76-139">Vea también</span><span class="sxs-lookup"><span data-stu-id="ffd76-139">See also</span></span>

- <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A>
- <xref:System.Runtime.Serialization.DataMemberAttribute>
