---
title: Características de simplificación de WCF
ms.date: 03/30/2017
ms.assetid: 4535a511-6064-4da0-b361-80262a891663
ms.openlocfilehash: 8a818ec0852cfae20ef23fede04b55b08a7449a5
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/24/2020
ms.locfileid: "95732923"
---
# <a name="wcf-simplification-features"></a><span data-ttu-id="a552c-102">Características de simplificación de WCF</span><span class="sxs-lookup"><span data-stu-id="a552c-102">WCF Simplification Features</span></span>

<span data-ttu-id="a552c-103">En este tema se describen las características nuevas que simplifican la escritura de aplicaciones WCF.</span><span class="sxs-lookup"><span data-stu-id="a552c-103">This topic discusses new features that make writing WCF applications simpler.</span></span>

## <a name="simplified-generated-configuration-files"></a><span data-ttu-id="a552c-104">Archivos de configuración generados simplificados</span><span class="sxs-lookup"><span data-stu-id="a552c-104">Simplified Generated Configuration Files</span></span>

<span data-ttu-id="a552c-105">Al agregar una referencia de servicio en Visual Studio o al usar la herramienta SvcUtil.exe se genera un archivo de configuración de cliente.</span><span class="sxs-lookup"><span data-stu-id="a552c-105">When you add a service reference in Visual Studio or use the SvcUtil.exe tool a client configuration file is generated.</span></span> <span data-ttu-id="a552c-106">En versiones anteriores de WCF, estos archivos de configuración contenían el valor de cada propiedad de enlace incluso si el valor era el predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a552c-106">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="a552c-107">En WCF 4.5, los archivos de configuración generados solo contienen las propiedades de enlace que se establecen en un valor no predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a552c-107">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>

<span data-ttu-id="a552c-108">El siguiente es un ejemplo de un archivo de configuración generado por WCF 3.0.</span><span class="sxs-lookup"><span data-stu-id="a552c-108">The following is an example of a configuration file generated by WCF 3.0.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" closeTimeout="00:01:00"
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                    allowCookies="false" bypassProxyOnLocal="false"
                    hostNameComparisonMode="StrongWildcard" maxBufferSize="65536"
                    maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                    messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
                    useDefaultWebProxy="true">
                    <readerQuotas maxDepth="32" maxStringContentLength="8192"
                        maxArrayLength="16384" maxBytesPerRead="4096"
                        maxNameTableCharCount="16384" />
                    <security mode="None">
                        <transport clientCredentialType="None" proxyCredentialType="None"
                            realm="" />
                        <message clientCredentialType="UserName" algorithmSuite="Default" />
                    </security>
                </binding>
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

<span data-ttu-id="a552c-109">El siguiente es un ejemplo del mismo archivo de configuración generado por WCF 4.5.</span><span class="sxs-lookup"><span data-stu-id="a552c-109">The following is an example of the same configuration file generated by WCF 4.5.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" />
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

## <a name="contract-first-development"></a><span data-ttu-id="a552c-110">Desarrollo de contrato primero</span><span class="sxs-lookup"><span data-stu-id="a552c-110">Contract-First Development</span></span>

<span data-ttu-id="a552c-111">WCF admite ahora el desarrollo de contrato primero.</span><span class="sxs-lookup"><span data-stu-id="a552c-111">WCF now has support for contract-first development.</span></span> <span data-ttu-id="a552c-112">La herramienta svcutil.exe tiene un modificador/serviceContract que permite generar contratos de datos y de servicio a partir de un documento WSDL.</span><span class="sxs-lookup"><span data-stu-id="a552c-112">The svcutil.exe tool has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>

## <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="a552c-113">Agregar referencia de servicio desde un proyecto de subconjuntos portátiles</span><span class="sxs-lookup"><span data-stu-id="a552c-113">Add Service Reference From a Portable Subset Project</span></span>

<span data-ttu-id="a552c-114">Los proyectos de subconjuntos portátiles permiten a los programadores de ensamblados .NET mantener un único árbol de origen y un sistema de compilación, al mismo tiempo que se admiten varias implementaciones de .NET (escritorio, Silverlight, Windows Phone y Xbox).</span><span class="sxs-lookup"><span data-stu-id="a552c-114">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and Xbox).</span></span> <span data-ttu-id="a552c-115">Los proyectos de subconjuntos portátiles solo hacen referencia a bibliotecas portables de .NET que son ensamblados que se pueden usar en cualquier implementación de .NET.</span><span class="sxs-lookup"><span data-stu-id="a552c-115">Portable subset projects only reference .NET portable libraries that are assemblies that can be used on any .NET implementation.</span></span> <span data-ttu-id="a552c-116">La experiencia del desarrollador es igual que agregar una referencia de servicio en cualquier otra aplicación cliente de WCF.</span><span class="sxs-lookup"><span data-stu-id="a552c-116">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="a552c-117">Para obtener más información, vea [Agregar referencia de servicio en un proyecto de subconjunto portátil](add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="a552c-117">For more information, see [Add Service Reference in a Portable Subset Project](add-service-reference-in-a-portable-subset-project.md).</span></span>

## <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="a552c-118">Valor predeterminado del modo de compatibilidad de ASP.NET cambiado</span><span class="sxs-lookup"><span data-stu-id="a552c-118">ASP.NET Compatibility Mode Default Changed</span></span>

<span data-ttu-id="a552c-119">WCF proporciona el modo de compatibilidad de ASP.NET para conceder a los desarrolladores acceso total a las características en la canalización HTTP de ASP.NET al escribir servicios WCF.</span><span class="sxs-lookup"><span data-stu-id="a552c-119">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="a552c-120">Para usar este modo, debe establecer el `aspNetCompatibilityEnabled` atributo en true en la [\<serviceHostingEnvironment>](../configure-apps/file-schema/wcf/servicehostingenvironment.md) sección de web.config. Además, cualquier servicio de este appDomain debe tener la `RequirementsMode` propiedad <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> establecida en <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> o <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required> .</span><span class="sxs-lookup"><span data-stu-id="a552c-120">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="a552c-121">De forma predeterminada, <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> ahora está establecido en <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> y la plantilla de aplicación de servicio WCF predeterminada establece el `aspNetCompatibilityEnabled` atributo en `true` .</span><span class="sxs-lookup"><span data-stu-id="a552c-121">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> and the default WCF service application template sets the `aspNetCompatibilityEnabled` attribute to `true`.</span></span> <span data-ttu-id="a552c-122">Para obtener más información, vea [novedades de Windows Communication Foundation 4,5](whats-new.md) y [servicios WCF y ASP.net](./feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="a552c-122">For more information, see [What's New in Windows Communication Foundation 4.5](whats-new.md) and [WCF Services and ASP.NET](./feature-details/wcf-services-and-aspnet.md).</span></span>

## <a name="streaming-improvements"></a><span data-ttu-id="a552c-123">Mejoras en streaming</span><span class="sxs-lookup"><span data-stu-id="a552c-123">Streaming Improvements</span></span>

- <span data-ttu-id="a552c-124">Se ha agregado a WCF una nueva compatibilidad para streaming asincrónico.</span><span class="sxs-lookup"><span data-stu-id="a552c-124">New support for asynchronous streaming has been added to WCF.</span></span> <span data-ttu-id="a552c-125">Para habilitar el streaming asincrónico, agregue el comportamiento de punto de conexión <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> al host de servicio y establezca la propiedad <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> en `true`.</span><span class="sxs-lookup"><span data-stu-id="a552c-125">To enable asynchronous streaming, add the  <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> endpoint behavior to the service host and set its <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> property to `true`.</span></span> <span data-ttu-id="a552c-126">Esto puede beneficiar a la escalabilidad cuando un servicio envía mensajes de secuencias a varios clientes que leen despacio.</span><span class="sxs-lookup"><span data-stu-id="a552c-126">This can benefit scalability when a service is sending streamed messages to multiple clients which are reading slowly.</span></span> <span data-ttu-id="a552c-127">WCF ya no bloquea un subproceso por cliente y liberará el subproceso para atender a otro cliente.</span><span class="sxs-lookup"><span data-stu-id="a552c-127">WCF does not block one thread per client anymore and will free up the thread to service another client.</span></span>

- <span data-ttu-id="a552c-128">Se han quitado las limitaciones sobre el almacenamiento en búfer de mensajes cuando un servicio está hospedado en IIS.</span><span class="sxs-lookup"><span data-stu-id="a552c-128">Removed limitations around buffering of messages when a service is IIS hosted.</span></span> <span data-ttu-id="a552c-129">En versiones anteriores de WCF, al recibir un mensaje para un servicio hospedado por IIS que usaba transferencia de mensajes de streaming, ASP.NET almacenaba en búfer todo el mensaje antes de enviarlo a WCF.</span><span class="sxs-lookup"><span data-stu-id="a552c-129">In previous versions of WCF when receiving a message for an IIS-hosted service that used streaming message transfer, ASP.NET would buffer the entire message before sending it to WCF.</span></span> <span data-ttu-id="a552c-130">Esto provocaba que el consumo de memoria fuera grande.</span><span class="sxs-lookup"><span data-stu-id="a552c-130">This would cause large memory consumption.</span></span> <span data-ttu-id="a552c-131">Este almacenamiento en búfer se ha quitado en .NET Framework 4,5 y ahora los servicios WCF hospedados en IIS pueden iniciar el procesamiento del flujo entrante antes de que se haya recibido el mensaje completo, lo que permite una transmisión por secuencias verdadera.</span><span class="sxs-lookup"><span data-stu-id="a552c-131">This buffering has been removed in .NET Framework 4.5 and now IIS-hosted WCF services can start processing the incoming stream before the entire message has been received, thereby enabling true streaming.</span></span> <span data-ttu-id="a552c-132">Esto permite que WCF responda inmediatamente a los mensajes y permite mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a552c-132">This allows WCF to respond immediately to messages and allows improved performance.</span></span> <span data-ttu-id="a552c-133">Además, ya no es necesario especificar un valor para `maxRequestLength`, el límite de tamaño de ASP.NET en las solicitudes entrantes.</span><span class="sxs-lookup"><span data-stu-id="a552c-133">In addition, you no longer have to specify a value for `maxRequestLength`, the ASP.NET size limit on incoming requests.</span></span> <span data-ttu-id="a552c-134">Si se establece esta propiedad, se omite.</span><span class="sxs-lookup"><span data-stu-id="a552c-134">If this property is set, it is ignored.</span></span> <span data-ttu-id="a552c-135">Para obtener más información, `maxRequestLength` vea [ \<httpRuntime> elemento de configuración](/previous-versions/dotnet/netframework-1.1/e1f13641(v=vs.71)).</span><span class="sxs-lookup"><span data-stu-id="a552c-135">For more information about `maxRequestLength` see [\<httpRuntime> configuration element](/previous-versions/dotnet/netframework-1.1/e1f13641(v=vs.71)).</span></span> <span data-ttu-id="a552c-136">Todavía tendrá que configurar el maxAllowedContentLength. para obtener más información, consulte [límites de solicitudes de IIS](/previous-versions/iis/settings-schema/ms689462(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="a552c-136">You will still need to configure the maxAllowedContentLength, For more information, see [IIS Request Limits](/previous-versions/iis/settings-schema/ms689462(v=vs.90)).</span></span>

## <a name="new-transport-default-values"></a><span data-ttu-id="a552c-137">Nuevos valores de transporte predeterminados</span><span class="sxs-lookup"><span data-stu-id="a552c-137">New Transport Default Values</span></span>

<span data-ttu-id="a552c-138">En la tabla siguiente se describen los valores que han cambiado y dónde encontrar información adicional.</span><span class="sxs-lookup"><span data-stu-id="a552c-138">The following table describes the settings that have changed and where to find additional information.</span></span>

|<span data-ttu-id="a552c-139">Propiedad</span><span class="sxs-lookup"><span data-stu-id="a552c-139">Property</span></span>|<span data-ttu-id="a552c-140">Activado</span><span class="sxs-lookup"><span data-stu-id="a552c-140">On</span></span>|<span data-ttu-id="a552c-141">Nuevo valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="a552c-141">New Default</span></span>|<span data-ttu-id="a552c-142">Más información</span><span class="sxs-lookup"><span data-stu-id="a552c-142">More Information</span></span>|
|--------------|--------|-----------------|----------------------|
|<span data-ttu-id="a552c-143">channelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="a552c-143">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="a552c-144">30 segundos</span><span class="sxs-lookup"><span data-stu-id="a552c-144">30 seconds</span></span>|<span data-ttu-id="a552c-145">Esta propiedad determina cuánto tiempo puede tardar una conexión TCP en autenticarse a sí misma mediante el protocolo de tramas .NET.</span><span class="sxs-lookup"><span data-stu-id="a552c-145">This property determines how long a TCP connection can take to authenticate itself using the .NET Framing protocol.</span></span> <span data-ttu-id="a552c-146">Un cliente debe enviar algunos datos iniciales antes de que el servidor tenga información suficiente para realizar la autenticación.</span><span class="sxs-lookup"><span data-stu-id="a552c-146">A client needs to send some initial data before the server has enough information to perform authentication.</span></span> <span data-ttu-id="a552c-147">Este tiempo de expiración se ha hecho intencionadamente más breve que ReceiveTimeout (10 min) para que los clientes no autenticados y malintencionados no conserven las conexiones con el servidor durante mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="a552c-147">This timeout is intentionally made smaller than the ReceiveTimeout (10 min) so that malicious unauthenticated clients do not keep the connections tied up to the server for long.</span></span> <span data-ttu-id="a552c-148">El valor predeterminado es 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="a552c-148">The default value is 30 seconds.</span></span> <span data-ttu-id="a552c-149">Para obtener más información acerca de <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span><span class="sxs-lookup"><span data-stu-id="a552c-149">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span></span>|
|<span data-ttu-id="a552c-150">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="a552c-150">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="a552c-151">16 \* número de procesadores</span><span class="sxs-lookup"><span data-stu-id="a552c-151">16 \* number of processors</span></span>|<span data-ttu-id="a552c-152">Esta propiedad del nivel de socket describe el número de solicitudes "pendientes de aceptación" que se van a poner en cola.</span><span class="sxs-lookup"><span data-stu-id="a552c-152">This socket-level property describes the number of "pending accept" requests to be queued.</span></span> <span data-ttu-id="a552c-153">Si la cola de trabajos pendientes de escucha se llena, las nuevas solicitudes de socket se rechazarán.</span><span class="sxs-lookup"><span data-stu-id="a552c-153">If the listen backlog queue fills up, new socket requests will be rejected.</span></span> <span data-ttu-id="a552c-154">Para obtener más información acerca de <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span><span class="sxs-lookup"><span data-stu-id="a552c-154">For more information about <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span></span>|
|<span data-ttu-id="a552c-155">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="a552c-155">maxPendingAccepts</span></span>|<span data-ttu-id="a552c-156">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="a552c-156">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="a552c-157">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="a552c-157">SMSvcHost.exe</span></span>|<span data-ttu-id="a552c-158">2 \* número de procesadores para transporte</span><span class="sxs-lookup"><span data-stu-id="a552c-158">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="a552c-159">4 \* número de procesadores para SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="a552c-159">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="a552c-160">Esta propiedad limita el número de canales que el servidor pueda tener en espera en un agente de escucha.</span><span class="sxs-lookup"><span data-stu-id="a552c-160">This property limits the number of channels that the server can have waiting on a listener.</span></span> <span data-ttu-id="a552c-161">Cuando MaxPendingAccepts es demasiado bajo, hay un pequeño intervalo de tiempo en el que todos los canales en espera han iniciado conexiones de mantenimiento, pero sin que ningún canal nuevo haya empezado a escuchar.</span><span class="sxs-lookup"><span data-stu-id="a552c-161">When MaxPendingAccepts is too low, there will be a small interval of time in which all of the waiting channels have started servicing connections, but no new channels have begun listening.</span></span> <span data-ttu-id="a552c-162">Una conexión puede llegar durante este intervalo y producirá un error porque no hay nada en espera en el servidor.</span><span class="sxs-lookup"><span data-stu-id="a552c-162">A connection can arrive during this interval and will fail because nothing is waiting for it on the server.</span></span> <span data-ttu-id="a552c-163">Esta propiedad se puede configurar si se establece la propiedad <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> en un número mayor.</span><span class="sxs-lookup"><span data-stu-id="a552c-163">This property can be configured by setting the <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> property to a larger number.</span></span> <span data-ttu-id="a552c-164">Para obtener más información, vea <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> y [configurar el servicio de uso compartido de puertos net. TCP.](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span><span class="sxs-lookup"><span data-stu-id="a552c-164">For more information, see <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> and [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span></span>|
|<span data-ttu-id="a552c-165">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="a552c-165">maxPendingConnections</span></span>|<span data-ttu-id="a552c-166">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="a552c-166">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="a552c-167">12 \* número de procesadores</span><span class="sxs-lookup"><span data-stu-id="a552c-167">12 \* number of processors</span></span>|<span data-ttu-id="a552c-168">Esta propiedad controla cuántas conexiones ha aceptado un transporte pero no las ha seleccionado el distribuidor de ServiceModel.</span><span class="sxs-lookup"><span data-stu-id="a552c-168">This property controls how many connections a transport has accepted but have not been picked up by the ServiceModel Dispatcher.</span></span> <span data-ttu-id="a552c-169">Para establecer este valor, use `MaxConnections` en el enlace o `maxOutboundConnectionsPerEndpoint` en el elemento de enlace.</span><span class="sxs-lookup"><span data-stu-id="a552c-169">To set this value, use `MaxConnections` on the binding or `maxOutboundConnectionsPerEndpoint` on the binding element.</span></span> <span data-ttu-id="a552c-170">Para obtener más información acerca de <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span><span class="sxs-lookup"><span data-stu-id="a552c-170">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span></span>|
|<span data-ttu-id="a552c-171">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="a552c-171">receiveTimeout</span></span>|<span data-ttu-id="a552c-172">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="a552c-172">SMSvcHost.exe</span></span>|<span data-ttu-id="a552c-173">30 segundos</span><span class="sxs-lookup"><span data-stu-id="a552c-173">30 seconds</span></span>|<span data-ttu-id="a552c-174">Esta propiedad especifica el tiempo de expiración para la lectura de datos de trama de TCP y para la conexión mediante el envío desde las conexiones subyacentes.</span><span class="sxs-lookup"><span data-stu-id="a552c-174">This property specifies the timeout for reading the TCP framing data and performing connection dispatching from the underlying connections.</span></span> <span data-ttu-id="a552c-175">Existe para limitar el tiempo que el servicio SMSvcHost.exe se mantiene ocupado para leer los datos de preámbulo de una conexión entrante.</span><span class="sxs-lookup"><span data-stu-id="a552c-175">This exists to put a cap on the amount of time SMSvcHost.exe service is kept engaged to read the preamble data from an incoming connection.</span></span> <span data-ttu-id="a552c-176">Para obtener más información, vea [configurar el servicio de uso compartido de puertos net. TCP](./feature-details/configuring-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="a552c-176">For more information, see [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md).</span></span>|

> [!NOTE]
> <span data-ttu-id="a552c-177">Estos valores predeterminados nuevos se usan solo si implementa el servicio WCF en un equipo con .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="a552c-177">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="a552c-178">Si implementa el mismo servicio en un equipo con .NET Framework 4.0, se usan los valores predeterminados de .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="a552c-178">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="a552c-179">En tales casos se recomienda configurar estos valores de forma explícita.</span><span class="sxs-lookup"><span data-stu-id="a552c-179">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="a552c-180">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="a552c-180">XmlDictionaryReaderQuotas</span></span>

<span data-ttu-id="a552c-181"><xref:System.Xml.XmlDictionaryReaderQuotas> contiene valores de cuota configurables para los lectores de diccionario de XML que restringen la cantidad de memoria usada por un codificador mientras se crea un mensaje.</span><span class="sxs-lookup"><span data-stu-id="a552c-181"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="a552c-182">Aunque estas cuotas son configurables, los valores predeterminados han cambiado para reducir la posibilidad de que un desarrollador tenga que establecerlas explícitamente.</span><span class="sxs-lookup"><span data-stu-id="a552c-182">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will need to set them explicitly.</span></span> <span data-ttu-id="a552c-183">La cuota de `MaxReceivedMessageSize` no se ha cambiado, de modo que aún puede limitar el consumo de memoria para evitar que sea necesario tratar la complejidad de <xref:System.Xml.XmlDictionaryReaderQuotas>.</span><span class="sxs-lookup"><span data-stu-id="a552c-183">`MaxReceivedMessageSize` quota has not been changed so that it can still limit memory consumption preventing the need for you to deal with the complexity of the <xref:System.Xml.XmlDictionaryReaderQuotas>.</span></span> <span data-ttu-id="a552c-184">En la tabla siguiente se muestran las cuotas, sus nuevos valores predeterminados y una breve descripción de para qué se usa cada cuota.</span><span class="sxs-lookup"><span data-stu-id="a552c-184">The following table shows the quotas, their new default values and a brief explanation of what each quota is used for.</span></span>

|<span data-ttu-id="a552c-185">Nombre de cuota</span><span class="sxs-lookup"><span data-stu-id="a552c-185">Quota Name</span></span>|<span data-ttu-id="a552c-186">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="a552c-186">Default Value</span></span>|<span data-ttu-id="a552c-187">Descripción</span><span class="sxs-lookup"><span data-stu-id="a552c-187">Description</span></span>|
|----------------|-------------------|-----------------|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>|<span data-ttu-id="a552c-188">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="a552c-188">Int32.MaxValue</span></span>|<span data-ttu-id="a552c-189">Obtiene y establece la longitud máxima permitida de matriz.</span><span class="sxs-lookup"><span data-stu-id="a552c-189">Gets and sets the maximum allowed array length.</span></span> <span data-ttu-id="a552c-190">Esta cuota limita el tamaño máximo de una matriz de primitivas que devuelve el lector XML, incluidas las matrices de bytes.</span><span class="sxs-lookup"><span data-stu-id="a552c-190">This quota limits the maximum size of an array of primitives that the XML reader returns, including byte arrays.</span></span> <span data-ttu-id="a552c-191">Esta cuota no limita el consumo de la memoria en el propio lector XML, sino en cualquier componente que esté utilizando el lector.</span><span class="sxs-lookup"><span data-stu-id="a552c-191">This quota does not limit memory consumption in the XML reader itself, but in whatever component that is using the reader.</span></span> <span data-ttu-id="a552c-192">Por ejemplo, cuando <xref:System.Runtime.Serialization.DataContractSerializer> utiliza un lector protegido con <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, no deserializa matrices de bytes mayores que esta cuota.</span><span class="sxs-lookup"><span data-stu-id="a552c-192">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, it does not deserialize byte arrays larger than this quota.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>|<span data-ttu-id="a552c-193">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="a552c-193">Int32.MaxValue</span></span>|<span data-ttu-id="a552c-194">Obtiene y establece el máximo permitido de bytes devueltos para cada lectura.</span><span class="sxs-lookup"><span data-stu-id="a552c-194">Gets and sets the maximum allowed bytes returned for each read.</span></span> <span data-ttu-id="a552c-195">Esta cuota limita el número de bytes que se leen en una operación de lectura única al leer la etiqueta de inicio de elemento y sus atributos.</span><span class="sxs-lookup"><span data-stu-id="a552c-195">This quota limits the number of bytes that are read in a single Read operation when reading the element start tag and its attributes.</span></span> <span data-ttu-id="a552c-196">(En los casos en que no haya transmisión, el propio nombre del elemento no se cuenta para la cuota).</span><span class="sxs-lookup"><span data-stu-id="a552c-196">(In non-streamed cases, the element name itself is not counted against the quota).</span></span> <span data-ttu-id="a552c-197">Tener demasiados atributos XML puede usar un tiempo de proceso desproporcionado porque se tiene que comprobar la unicidad de los nombres de atributo.</span><span class="sxs-lookup"><span data-stu-id="a552c-197">Having too many XML attributes may use up disproportionate processing time because attribute names have to be checked for uniqueness.</span></span> <span data-ttu-id="a552c-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mitiga esta amenaza.</span><span class="sxs-lookup"><span data-stu-id="a552c-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mitigates this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A>|<span data-ttu-id="a552c-199">128 nodos de profundidad</span><span class="sxs-lookup"><span data-stu-id="a552c-199">128 nodes deep</span></span>|<span data-ttu-id="a552c-200">Esta cuota limita la profundidad máxima del anidamiento de elementos XML.</span><span class="sxs-lookup"><span data-stu-id="a552c-200">This quota limits the maximum nesting depth of XML elements.</span></span> <span data-ttu-id="a552c-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interactúa con <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: el lector siempre mantiene los datos en memoria para el elemento vigente y todos sus antecesores, por lo que el consumo máximo de la memoria del lector es proporcional al producto de estos dos valores.</span><span class="sxs-lookup"><span data-stu-id="a552c-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interacts with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: the reader always keeps data in memory for the current element and all of its ancestors, so the maximum memory consumption of the reader is proportional to the product of these two settings.</span></span> <span data-ttu-id="a552c-202">Al deserializar un gráfico de objetos profundamente anidado, el deserializador se ve obligado a obtener acceso a la pila completa e iniciar una <xref:System.StackOverflowException>irrecuperable.</span><span class="sxs-lookup"><span data-stu-id="a552c-202">When deserializing a deeply-nested object graph, the deserializer is forced to access the entire stack and throw an unrecoverable <xref:System.StackOverflowException>.</span></span> <span data-ttu-id="a552c-203">Existe una correlación directa entre anidamiento de XML y anidamiento de objeto para <xref:System.Runtime.Serialization.DataContractSerializer> y <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="a552c-203">A direct correlation exists between XML nesting and object nesting for both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer>.</span></span> <span data-ttu-id="a552c-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> se usa para mitigar esta amenaza.</span><span class="sxs-lookup"><span data-stu-id="a552c-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> is used to mitigate this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxNameTableCharCount%2A>|<span data-ttu-id="a552c-205">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="a552c-205">Int32.MaxValue</span></span>|<span data-ttu-id="a552c-206">Esta cuota limita el número máximo de caracteres permitidos en un objeto nametable.</span><span class="sxs-lookup"><span data-stu-id="a552c-206">This quota limits the maximum number of characters allowed in a nametable.</span></span> <span data-ttu-id="a552c-207">La tabla de nombres contiene ciertas cadenas (como espacios de nombres y prefijos) que se encuentran al procesar un documento XML.</span><span class="sxs-lookup"><span data-stu-id="a552c-207">The nametable contains certain strings (such as namespaces and prefixes) that are encountered when processing an XML document.</span></span> <span data-ttu-id="a552c-208">Como estas cadenas están almacenadas en búfer en la memoria, esta cuota se usa para evitar el almacenamiento en búfer excesivo cuando se espera streaming.</span><span class="sxs-lookup"><span data-stu-id="a552c-208">As these strings are buffered in memory, this quota is used to prevent excessive buffering when streaming is expected.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>|<span data-ttu-id="a552c-209">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="a552c-209">Int32.MaxValue</span></span>|<span data-ttu-id="a552c-210">Esta cuota limita el tamaño máximo de la cadena que el lector XML devuelve.</span><span class="sxs-lookup"><span data-stu-id="a552c-210">This quota limits the maximum string size that the XML reader returns.</span></span> <span data-ttu-id="a552c-211">Esta cuota no limita el consumo de la memoria en el propio lector XML, sino en el componente que está utilizando el lector.</span><span class="sxs-lookup"><span data-stu-id="a552c-211">This quota does not limit memory consumption in the XML reader itself, but in the component that is using the reader.</span></span> <span data-ttu-id="a552c-212">Por ejemplo, cuando <xref:System.Runtime.Serialization.DataContractSerializer> utiliza un lector protegido con <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, no deserializa cadenas mayores que esta cuota.</span><span class="sxs-lookup"><span data-stu-id="a552c-212">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, it does not deserialize strings larger than this quota.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="a552c-213">Consulte "uso de XML de forma segura" en [consideraciones de seguridad para datos](./feature-details/security-considerations-for-data.md) para obtener más información sobre la protección de los datos.</span><span class="sxs-lookup"><span data-stu-id="a552c-213">Refer to "Using XML Safely" under [Security Considerations for Data](./feature-details/security-considerations-for-data.md) for more information about securing your data.</span></span>

> [!NOTE]
> <span data-ttu-id="a552c-214">Estos valores predeterminados nuevos se usan solo si implementa el servicio WCF en un equipo con .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="a552c-214">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="a552c-215">Si implementa el mismo servicio en un equipo con .NET Framework 4.0, se usan los valores predeterminados de .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="a552c-215">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="a552c-216">En tales casos se recomienda configurar estos valores de forma explícita.</span><span class="sxs-lookup"><span data-stu-id="a552c-216">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="wcf-configuration-validation"></a><span data-ttu-id="a552c-217">Validación de la configuración de WCF</span><span class="sxs-lookup"><span data-stu-id="a552c-217">WCF Configuration Validation</span></span>

<span data-ttu-id="a552c-218">Como parte del proceso de compilación en Visual Studio, los archivos de configuración de WCF ahora se validan.</span><span class="sxs-lookup"><span data-stu-id="a552c-218">As part of the build process within Visual Studio, WCF configuration files are now validated.</span></span> <span data-ttu-id="a552c-219">Se muestra una lista de errores de validación o advertencias en Visual Studio si se produce un error en la validación.</span><span class="sxs-lookup"><span data-stu-id="a552c-219">A list of validation errors or warnings are displayed in Visual Studio if the validation fails.</span></span>

## <a name="xml-editor-tooltips"></a><span data-ttu-id="a552c-220">Información sobre herramientas del editor XML</span><span class="sxs-lookup"><span data-stu-id="a552c-220">XML Editor Tooltips</span></span>

<span data-ttu-id="a552c-221">Para ayudar a los desarrolladores de servicios WCF nuevos y existentes a configurar sus servicios, el Editor XML de Visual Studio proporciona ahora información sobre herramientas para cada elemento de configuración que forma parte del archivo de configuración del servicio y sus propiedades.</span><span class="sxs-lookup"><span data-stu-id="a552c-221">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="basichttpbinding-improvements"></a><span data-ttu-id="a552c-222">Mejoras de BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="a552c-222">BasicHttpBinding Improvements</span></span>

1. <span data-ttu-id="a552c-223">Permite a un único extremo de WCF responder a distintos modos de autenticación.</span><span class="sxs-lookup"><span data-stu-id="a552c-223">Enables a single WCF endpoint to respond to different authentication modes.</span></span>

2. <span data-ttu-id="a552c-224">Permite que la configuración de seguridad de un servicio WCF esté controlada por IIS</span><span class="sxs-lookup"><span data-stu-id="a552c-224">Enables a WCF service’s security settings to be controlled by IIS</span></span>
