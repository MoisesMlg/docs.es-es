---
title: Protección de clientes
ms.date: 03/30/2017
helpviewer_keywords:
- clients [WCF], security considerations
ms.assetid: 44c8578c-9a5b-4acd-8168-1c30a027c4c5
ms.openlocfilehash: b7f720b83a858c8739d2f7b9bf63d29c54b914e0
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96242258"
---
# <a name="securing-clients"></a><span data-ttu-id="580d8-102">Protección de clientes</span><span class="sxs-lookup"><span data-stu-id="580d8-102">Securing Clients</span></span>

<span data-ttu-id="580d8-103">En Windows Communication Foundation (WCF), el servicio dicta los requisitos de seguridad para los clientes.</span><span class="sxs-lookup"><span data-stu-id="580d8-103">In Windows Communication Foundation (WCF), the service dictates the security requirements for clients.</span></span> <span data-ttu-id="580d8-104">Es decir, el servicio especifica qué modo de seguridad utilizar, y si el cliente debe proporcionar una credencial o no.</span><span class="sxs-lookup"><span data-stu-id="580d8-104">That is, the service specifies what security mode to use, and whether or not the client must provide a credential.</span></span> <span data-ttu-id="580d8-105">El proceso de protección de un cliente, por consiguiente, es simple: utilice los metadatos obtenidos del servicio (si se publica) y cree un cliente.</span><span class="sxs-lookup"><span data-stu-id="580d8-105">The process of securing a client, therefore, is simple: use the metadata obtained from the service (if it is published) and build a client.</span></span> <span data-ttu-id="580d8-106">Los metadatos especifican cómo configurar el cliente.</span><span class="sxs-lookup"><span data-stu-id="580d8-106">The metadata specifies how to configure the client.</span></span> <span data-ttu-id="580d8-107">Si el servicio requiere que el cliente suministre una credencial, debe obtener una credencial que se ajuste al requisito.</span><span class="sxs-lookup"><span data-stu-id="580d8-107">If the service requires that the client supply a credential, then you must obtain a credential that fits the requirement.</span></span> <span data-ttu-id="580d8-108">Este tema explica el proceso con más detalle.</span><span class="sxs-lookup"><span data-stu-id="580d8-108">This topic discusses the process in further detail.</span></span> <span data-ttu-id="580d8-109">Para obtener más información sobre cómo crear un servicio seguro, consulte [protección de servicios](securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="580d8-109">For more information about creating a secure service, see [Securing Services](securing-services.md).</span></span>  
  
## <a name="the-service-specifies-security"></a><span data-ttu-id="580d8-110">El servicio especifica la seguridad</span><span class="sxs-lookup"><span data-stu-id="580d8-110">The Service Specifies Security</span></span>  

 <span data-ttu-id="580d8-111">De forma predeterminada, los enlaces de WCF tienen habilitadas las características de seguridad.</span><span class="sxs-lookup"><span data-stu-id="580d8-111">By default, WCF bindings have security features enabled.</span></span> <span data-ttu-id="580d8-112">(La excepción es <xref:System.ServiceModel.BasicHttpBinding> ). Por lo tanto, si el servicio se creó mediante WCF, existe la posibilidad de que se implemente la seguridad para garantizar la autenticación, la confidencialidad y la integridad.</span><span class="sxs-lookup"><span data-stu-id="580d8-112">(The exception is the <xref:System.ServiceModel.BasicHttpBinding>.) Therefore, if the service was created using WCF, there is a greater chance that it will implement security to ensure authentication, confidentiality, and integrity.</span></span> <span data-ttu-id="580d8-113">En ese caso, los metadatos que proporciona el servicio indicarán lo que se requiere para establecer un canal de comunicación seguro.</span><span class="sxs-lookup"><span data-stu-id="580d8-113">In that case, the metadata the service provides will indicate what it requires to establish a secure communication channel.</span></span> <span data-ttu-id="580d8-114">Si los metadatos del servicio no incluyen ningún requisito de seguridad, no hay ninguna manera de imponer un esquema de seguridad, como Secure Sockets Layer (SSL) sobre HTTP, en un servicio.</span><span class="sxs-lookup"><span data-stu-id="580d8-114">If the service metadata does not include any security requirements, there is no way to impose a security scheme, such as Secure Sockets Layer (SSL) over HTTP, on a service.</span></span> <span data-ttu-id="580d8-115">Si, sin embargo, el servicio requiere que el cliente proporcione una credencial, el desarrollador, implementador o administrador del cliente, debe proporcionar la credencial real que el cliente utilizará para autenticarse en el servicio.</span><span class="sxs-lookup"><span data-stu-id="580d8-115">If, however, the service requires the client to supply a credential, then the client developer, deployer, or administrator must supply the actual credential that the client will use to authenticate itself to the service.</span></span>  
  
## <a name="obtaining-metadata"></a><span data-ttu-id="580d8-116">Obtención de los metadatos</span><span class="sxs-lookup"><span data-stu-id="580d8-116">Obtaining Metadata</span></span>  

 <span data-ttu-id="580d8-117">Al crear un cliente, el primer paso es obtener los metadatos para el servicio con el que el cliente se comunicará.</span><span class="sxs-lookup"><span data-stu-id="580d8-117">When creating a client, the first step is to obtain the metadata for the service that the client will communicate with.</span></span> <span data-ttu-id="580d8-118">Esto se puede llevar a cabo de dos maneras.</span><span class="sxs-lookup"><span data-stu-id="580d8-118">This can be done in two ways.</span></span> <span data-ttu-id="580d8-119">En primer lugar, si el servicio publica un extremo de intercambio de metadatos (MEX) o hace que sus metadatos estén disponibles a través de HTTP o HTTPS, puede descargar los metadatos mediante la [herramienta de utilidad de metadatos de ServiceModel (Svcutil.exe)](servicemodel-metadata-utility-tool-svcutil-exe.md), que genera ambos archivos de código para un cliente, así como un archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="580d8-119">First, if the service publishes a metadata exchange (MEX) endpoint or makes its metadata available over HTTP or HTTPS, you can download the metadata using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](servicemodel-metadata-utility-tool-svcutil-exe.md), which generates both code files for a client as well as a configuration file.</span></span> <span data-ttu-id="580d8-120">(Para obtener más información sobre el uso de la herramienta, vea [obtener acceso a servicios mediante un cliente WCF](accessing-services-using-a-wcf-client.md)). Si el servicio no publica un punto de conexión MEX y tampoco pone sus metadatos a disposición de HTTP o HTTPS, debe ponerse en contacto con el creador del servicio para obtener la documentación que describe los requisitos de seguridad y los metadatos.</span><span class="sxs-lookup"><span data-stu-id="580d8-120">(For more information about using the tool, see [Accessing Services Using a WCF Client](accessing-services-using-a-wcf-client.md).) If the service does not publish a MEX endpoint and also does not make its metadata available over HTTP or HTTPS, you must contact the service creator for documentation that describes the security requirements and the metadata.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="580d8-121">Se recomienda que los metadatos procedan de una fuente de confianza y que no se manipulen.</span><span class="sxs-lookup"><span data-stu-id="580d8-121">It is recommended that the metadata come from a trusted source and that it not be tampered with.</span></span> <span data-ttu-id="580d8-122">Los metadatos recuperados utilizando el protocolo HTTP se envían en texto no cifrado y se pueden manipular.</span><span class="sxs-lookup"><span data-stu-id="580d8-122">Metadata retrieved using the HTTP protocol is sent in clear text and can be tampered with.</span></span> <span data-ttu-id="580d8-123">Si el servicio utiliza <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A> y las propiedades <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A>, utilice la dirección URL que el creador del servicio proporcionó para descargar los datos mediante el protocolo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="580d8-123">If the service uses the <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A> and <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A> properties, use the URL the service creator supplied to download the data using the HTTPS protocol.</span></span>  
  
## <a name="validating-security"></a><span data-ttu-id="580d8-124">Validación de la seguridad</span><span class="sxs-lookup"><span data-stu-id="580d8-124">Validating Security</span></span>  

 <span data-ttu-id="580d8-125">Las fuentes de metadatos pueden dividirse en dos amplias categorías: fuentes de confianza y fuentes que no son de confianza.</span><span class="sxs-lookup"><span data-stu-id="580d8-125">Metadata sources can be divided into two broad categories: trust sources and untrusted sources.</span></span> <span data-ttu-id="580d8-126">Si confía en una fuente y se ha descargado el código de cliente y otros metadatos desde ese extremo MEX seguro de la fuente, puede crear el cliente, proporcionarle las credenciales correctas y ejecutarlo sin más preocupaciones.</span><span class="sxs-lookup"><span data-stu-id="580d8-126">If you trust a source and have downloaded the client code and other metadata from that source's secure MEX endpoint, then you can build the client, supply it with the right credentials, and run it with no other concerns.</span></span>  
  
 <span data-ttu-id="580d8-127">Sin embargo, si elige descargar un cliente y metadatos desde un origen del que sabe poco, asegúrese de validar la las medidas de seguridad que utiliza el código.</span><span class="sxs-lookup"><span data-stu-id="580d8-127">However, if you elect to download a client and metadata from a source that you know little about, be sure to validate the security measures the code uses.</span></span> <span data-ttu-id="580d8-128">Por ejemplo, no debe crear simplemente un cliente que envíe su información personal o financiera a un servicio a menos que el servicio exija confidencialidad e integridad (como mínimo).</span><span class="sxs-lookup"><span data-stu-id="580d8-128">For example, you must not simply create a client that sends your personal or financial information to a service unless the service demands confidentiality and integrity (at the very least).</span></span> <span data-ttu-id="580d8-129">Debe confiar en el propietario del servicio en la medida en que esté dispuesto a divulgar dicha información, ya que esa información la verán.</span><span class="sxs-lookup"><span data-stu-id="580d8-129">You should trust the owner of the service to the extent that you are willing to disclose such information, because such information will be visible to them.</span></span>  
  
 <span data-ttu-id="580d8-130">Como regla, por consiguiente, al utilizar código y metadatos desde una fuente que no sea de confianza, compruebe el código y los metadatos para asegurarse de que cumple el nivel de seguridad que requiere.</span><span class="sxs-lookup"><span data-stu-id="580d8-130">As a rule, therefore, when using code and metadata from an untrusted source, check the code and metadata to ensure that it meets the security level that you require.</span></span>  
  
## <a name="setting-a-client-credential"></a><span data-ttu-id="580d8-131">Establecimiento de una credencial de cliente</span><span class="sxs-lookup"><span data-stu-id="580d8-131">Setting a Client Credential</span></span>  

 <span data-ttu-id="580d8-132">El establecimiento de una credencial de cliente en un cliente consta de dos pasos:</span><span class="sxs-lookup"><span data-stu-id="580d8-132">Setting a client credential on a client consists of two steps:</span></span>  
  
1. <span data-ttu-id="580d8-133">Determine el *tipo de credencial de cliente* que el servicio requiere.</span><span class="sxs-lookup"><span data-stu-id="580d8-133">Determine the *client credential type* the service requires.</span></span> <span data-ttu-id="580d8-134">Esto se logra mediante uno de los dos métodos de siguientes.</span><span class="sxs-lookup"><span data-stu-id="580d8-134">This is accomplished by one of two methods.</span></span> <span data-ttu-id="580d8-135">Primero, si tiene documentación del creador del servicio, debería especificar el tipo de credencial de cliente (si hubiese) que el servicio requiere.</span><span class="sxs-lookup"><span data-stu-id="580d8-135">First, if you have documentation from the service creator, it should specify the client credential type (if any) the service requires.</span></span> <span data-ttu-id="580d8-136">Segundo, si solo tiene un archivo de configuración generado por la herramienta Svcutil.exe, puede examinar los enlaces individuales para determinar qué tipo de credencial se requiere.</span><span class="sxs-lookup"><span data-stu-id="580d8-136">Second, if you have only a configuration file generated by the Svcutil.exe tool, you can examine the individual bindings to determine what credential type is required.</span></span>  
  
2. <span data-ttu-id="580d8-137">Especifique una credencial de cliente real.</span><span class="sxs-lookup"><span data-stu-id="580d8-137">Specify an actual client credential.</span></span> <span data-ttu-id="580d8-138">La credencial de cliente real se denomina *valor de credencial de cliente* para distinguirla del tipo.</span><span class="sxs-lookup"><span data-stu-id="580d8-138">The actual client credential is called a *client credential value* to distinguish it from the type.</span></span> <span data-ttu-id="580d8-139">Por ejemplo, si el tipo de credencial de cliente especifica un certificado, debe proporcionar un certificado X.509 que emita una entidad de certificación en la que el servicio confíe.</span><span class="sxs-lookup"><span data-stu-id="580d8-139">For example, if the client credential type specifies a certificate, you must supply an X.509 certificate that is issued by a certification authority the service trusts.</span></span>  
  
### <a name="determining-the-client-credential-type"></a><span data-ttu-id="580d8-140">Determinación del tipo de credencial de cliente</span><span class="sxs-lookup"><span data-stu-id="580d8-140">Determining the Client Credential Type</span></span>  

 <span data-ttu-id="580d8-141">Si tiene el archivo de configuración que generó la herramienta de Svcutil.exe, examine la [\<bindings>](../configure-apps/file-schema/wcf/bindings.md) sección para determinar qué tipo de credencial de cliente se requiere.</span><span class="sxs-lookup"><span data-stu-id="580d8-141">If you have the configuration file the Svcutil.exe tool generated, examine the [\<bindings>](../configure-apps/file-schema/wcf/bindings.md) section to determine what client credential type is required.</span></span> <span data-ttu-id="580d8-142">Dentro de la sección hay elementos de enlace que especifican los requisitos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="580d8-142">Within the section are binding elements that specify the security requirements.</span></span> <span data-ttu-id="580d8-143">En concreto, examine el \<security> elemento de cada enlace.</span><span class="sxs-lookup"><span data-stu-id="580d8-143">Specifically, examine the \<security> Element of each binding.</span></span> <span data-ttu-id="580d8-144">Ese elemento incluye el atributo `mode`, que puede establecer en uno de tres valores posibles (`Message`, `Transport`o `TransportWithMessageCredential`).</span><span class="sxs-lookup"><span data-stu-id="580d8-144">That element includes the `mode` attribute, which you can set to one of three possible values (`Message`, `Transport`, or `TransportWithMessageCredential`).</span></span> <span data-ttu-id="580d8-145">El valor del atributo determina el modo y el modo determina cuál de los elementos secundarios es significativo.</span><span class="sxs-lookup"><span data-stu-id="580d8-145">The value of the attribute determines the mode, and the mode determines which of the child elements is significant.</span></span>  
  
 <span data-ttu-id="580d8-146">El `<security>` elemento puede contener un `<transport>` elemento o `<message>` , o ambos.</span><span class="sxs-lookup"><span data-stu-id="580d8-146">The `<security>` element can contain either a `<transport>` or `<message>` element, or both.</span></span> <span data-ttu-id="580d8-147">El elemento significativo es el que coincide con el modo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="580d8-147">The significant element is the one that matches the security mode.</span></span> <span data-ttu-id="580d8-148">Por ejemplo, el siguiente código especifica que el modo de seguridad es `"Message"`, y que el tipo de credencial de cliente para el elemento `<message>`.</span><span class="sxs-lookup"><span data-stu-id="580d8-148">For example, the following code specifies that the security mode is `"Message"`, and the client credential type for the `<message>` element is `"Certificate"`.</span></span> <span data-ttu-id="580d8-149">En este caso se puede ignorar el elemento `<transport>`.</span><span class="sxs-lookup"><span data-stu-id="580d8-149">In this case, the `<transport>` element can be ignored.</span></span> <span data-ttu-id="580d8-150">Sin embargo, el elemento `<message>` especifica que se debe proporcionar un certificado X.509.</span><span class="sxs-lookup"><span data-stu-id="580d8-150">However, the `<message>` element specifies that an X.509 certificate must be supplied.</span></span>  

```xml  
<wsHttpBinding>  
    <binding name="WSHttpBinding_ICalculator">  
       <security mode="Message">  
           <transport clientCredentialType="Windows"
                      realm="" />  
           <message clientCredentialType="Certificate"
                    negotiateServiceCredential="true"  
                    algorithmSuite="Default"
                    establishSecurityContext="true" />  
       </security>  
    </binding>  
</wsHttpBinding>  
```  

 <span data-ttu-id="580d8-151">Tenga en cuenta que si el atributo `clientCredentialType` está establecido en `"Windows"`, tal y como se muestra en el ejemplo siguiente, no es necesario proporcionar un valor de credencial real.</span><span class="sxs-lookup"><span data-stu-id="580d8-151">Note that if the `clientCredentialType` attribute is set to `"Windows"`, as shown in the following example, you do not need to supply an actual credential value.</span></span> <span data-ttu-id="580d8-152">Esto se debe a que la seguridad integrada de Windows proporciona la credencial real (un token de Kerberos) de la persona que está ejecutando el cliente.</span><span class="sxs-lookup"><span data-stu-id="580d8-152">This is because the Windows integrated security provides the actual credential (a Kerberos token) of the person who is running the client.</span></span>  
  
```xml  
<security mode="Message">  
    <transport clientCredentialType="Windows "
        realm="" />  
</security>  
```  
  
### <a name="setting-the-client-credential-value"></a><span data-ttu-id="580d8-153">Establecimiento del valor de credencial de cliente</span><span class="sxs-lookup"><span data-stu-id="580d8-153">Setting the Client Credential Value</span></span>  

 <span data-ttu-id="580d8-154">Si se determina que el cliente debe proporcionar una credencial, utilice el método adecuado para configurar el cliente.</span><span class="sxs-lookup"><span data-stu-id="580d8-154">If it is determined that the client must supply a credential, use the appropriate method to configure the client.</span></span> <span data-ttu-id="580d8-155">Por ejemplo, para establecer un certificado de cliente, utilice el método <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A>.</span><span class="sxs-lookup"><span data-stu-id="580d8-155">For example, to set a client certificate, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method.</span></span>  
  
 <span data-ttu-id="580d8-156">Un formulario común de credencial es el certificado X.509.</span><span class="sxs-lookup"><span data-stu-id="580d8-156">A common form of credential is the X.509 certificate.</span></span> <span data-ttu-id="580d8-157">Puede proporcionar la credencial de dos maneras:</span><span class="sxs-lookup"><span data-stu-id="580d8-157">You can supply the credential in two ways:</span></span>  
  
- <span data-ttu-id="580d8-158">Programándolo en su código de cliente (mediante el método `SetCertificate` ).</span><span class="sxs-lookup"><span data-stu-id="580d8-158">By programming it in your client code (using the `SetCertificate` method).</span></span>  
  
 <span data-ttu-id="580d8-159">Agregando una [\<behaviors>](../configure-apps/file-schema/wcf/behaviors.md) sección del archivo de configuración para el cliente y usando el `clientCredentials` elemento (se muestra a continuación).</span><span class="sxs-lookup"><span data-stu-id="580d8-159">By adding a [\<behaviors>](../configure-apps/file-schema/wcf/behaviors.md) section of the configuration file for the client and using the `clientCredentials` element (shown below).</span></span>  
  
#### <a name="setting-a-clientcredentials-value-in-code"></a><span data-ttu-id="580d8-160">Establecer un \<clientCredentials> valor en el código</span><span class="sxs-lookup"><span data-stu-id="580d8-160">Setting a \<clientCredentials> Value in Code</span></span>  

 <span data-ttu-id="580d8-161">Para establecer un [\<clientCredentials>](../configure-apps/file-schema/wcf/clientcredentials.md) valor en el código, debe tener acceso a la <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> propiedad de la <xref:System.ServiceModel.ClientBase%601> clase.</span><span class="sxs-lookup"><span data-stu-id="580d8-161">To set a [\<clientCredentials>](../configure-apps/file-schema/wcf/clientcredentials.md) value in code, you must access the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property of the <xref:System.ServiceModel.ClientBase%601> class.</span></span> <span data-ttu-id="580d8-162">La propiedad devuelve un objeto <xref:System.ServiceModel.Description.ClientCredentials> que permite el acceso a varios tipos de credenciales, tal y como se muestra en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="580d8-162">The property returns a <xref:System.ServiceModel.Description.ClientCredentials> object that allows access to various credential types, as shown in the following table.</span></span>  
  
|<span data-ttu-id="580d8-163">Propiedad ClientCredential</span><span class="sxs-lookup"><span data-stu-id="580d8-163">ClientCredential Property</span></span>|<span data-ttu-id="580d8-164">Descripción</span><span class="sxs-lookup"><span data-stu-id="580d8-164">Description</span></span>|<span data-ttu-id="580d8-165">Notas</span><span class="sxs-lookup"><span data-stu-id="580d8-165">Notes</span></span>|  
|-------------------------------|-----------------|-----------|  
|<xref:System.ServiceModel.Description.ClientCredentials.ClientCertificate%2A>|<span data-ttu-id="580d8-166">Devuelve una <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential>.</span><span class="sxs-lookup"><span data-stu-id="580d8-166">Returns an <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential></span></span>|<span data-ttu-id="580d8-167">Representa un certificado X.509 proporcionado por el cliente para autenticarse en el servicio.</span><span class="sxs-lookup"><span data-stu-id="580d8-167">Represents an X.509 certificate provided by the client to authenticate itself to the service.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.HttpDigest%2A>|<span data-ttu-id="580d8-168">Devuelve una <xref:System.ServiceModel.Security.HttpDigestClientCredential>.</span><span class="sxs-lookup"><span data-stu-id="580d8-168">Returns an <xref:System.ServiceModel.Security.HttpDigestClientCredential></span></span>|<span data-ttu-id="580d8-169">Representa una credencial de sintaxis de HTTP.</span><span class="sxs-lookup"><span data-stu-id="580d8-169">Represents an HTTP digest credential.</span></span> <span data-ttu-id="580d8-170">La credencial es un hash del nombre de usuario y contraseña.</span><span class="sxs-lookup"><span data-stu-id="580d8-170">The credential is a hash of the user name and password.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.IssuedToken%2A>|<span data-ttu-id="580d8-171">Devuelve una <xref:System.ServiceModel.Security.IssuedTokenClientCredential>.</span><span class="sxs-lookup"><span data-stu-id="580d8-171">Returns an <xref:System.ServiceModel.Security.IssuedTokenClientCredential></span></span>|<span data-ttu-id="580d8-172">Representa un token de seguridad personalizado emitido por un servicio de tokens de seguridad, utilizado normalmente en escenarios de federación.</span><span class="sxs-lookup"><span data-stu-id="580d8-172">Represents a custom security token issued by a Security Token Service, commonly used in federation scenarios.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.Peer%2A>|<span data-ttu-id="580d8-173">Devuelve una <xref:System.ServiceModel.Security.PeerCredential></span><span class="sxs-lookup"><span data-stu-id="580d8-173">Returns a <xref:System.ServiceModel.Security.PeerCredential></span></span>|<span data-ttu-id="580d8-174">Representa una credencial del mismo nivel para la participación en una malla del mismo nivel en un dominio de Windows.</span><span class="sxs-lookup"><span data-stu-id="580d8-174">Represents a Peer credential for participation in a Peer mesh on a Windows domain.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.ServiceCertificate%2A>|<span data-ttu-id="580d8-175">Devuelve una <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>.</span><span class="sxs-lookup"><span data-stu-id="580d8-175">Returns an <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential></span></span>|<span data-ttu-id="580d8-176">Representa un certificado X.509 proporcionado por el servicio en una negociación fuera de banda.</span><span class="sxs-lookup"><span data-stu-id="580d8-176">Represents an X.509 certificate provided by the service in an out-of-band negotiation.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.UserName%2A>|<span data-ttu-id="580d8-177">Devuelve una <xref:System.ServiceModel.Security.UserNamePasswordClientCredential></span><span class="sxs-lookup"><span data-stu-id="580d8-177">Returns a <xref:System.ServiceModel.Security.UserNamePasswordClientCredential></span></span>|<span data-ttu-id="580d8-178">Representa un par de nombre de usuario y contraseña.</span><span class="sxs-lookup"><span data-stu-id="580d8-178">Represents a user name and password pair.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.Windows%2A>|<span data-ttu-id="580d8-179">Devuelve una <xref:System.ServiceModel.Security.WindowsClientCredential></span><span class="sxs-lookup"><span data-stu-id="580d8-179">Returns a <xref:System.ServiceModel.Security.WindowsClientCredential></span></span>|<span data-ttu-id="580d8-180">Representa una credencial de cliente de Windows (una credencial de Kerberos).</span><span class="sxs-lookup"><span data-stu-id="580d8-180">Represents a Windows client credential (a Kerberos credential).</span></span> <span data-ttu-id="580d8-181">Las propiedades de la clase son de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="580d8-181">The properties of the class are read-only.</span></span>|  
  
#### <a name="setting-a-clientcredentials-value-in-configuration"></a><span data-ttu-id="580d8-182">Establecer un \<clientCredentials> valor en la configuración</span><span class="sxs-lookup"><span data-stu-id="580d8-182">Setting a \<clientCredentials> Value in Configuration</span></span>  

 <span data-ttu-id="580d8-183">Los valores de credenciales se especifican utilizando un comportamiento de punto de conexión como elementos secundarios del [\<clientCredentials>](../configure-apps/file-schema/wcf/clientcredentials.md) elemento.</span><span class="sxs-lookup"><span data-stu-id="580d8-183">Credential values are specified by using an endpoint behavior as child elements of the [\<clientCredentials>](../configure-apps/file-schema/wcf/clientcredentials.md) element.</span></span> <span data-ttu-id="580d8-184">El elemento utilizado depende del tipo de credencial de cliente.</span><span class="sxs-lookup"><span data-stu-id="580d8-184">The element used depends on the client credential type.</span></span> <span data-ttu-id="580d8-185">Por ejemplo, en el ejemplo siguiente se muestra la configuración para establecer un certificado X. 509 mediante el <[\<clientCertificate>](../configure-apps/file-schema/wcf/clientcertificate-of-clientcredentials-element.md) .</span><span class="sxs-lookup"><span data-stu-id="580d8-185">For example, the following example shows the configuration to set an X.509 certificate using the <[\<clientCertificate>](../configure-apps/file-schema/wcf/clientcertificate-of-clientcredentials-element.md).</span></span>  
  
```xml  
<configuration>  
  <system.serviceModel>  
    <behaviors>  
      <endpointBehaviors>
        <behavior name="myEndpointBehavior">  
          <clientCredentials>  
            <clientCertificate findvalue="myMachineName"
            storeLocation="Current" X509FindType="FindBySubjectName" />  
          </clientCredentials>  
        </behavior>
      </endpointBehaviors>
    </behaviors>
  </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="580d8-186">Para establecer la credencial de cliente en la configuración, agregue un [\<endpointBehaviors>](../configure-apps/file-schema/wcf/endpointbehaviors.md) elemento al archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="580d8-186">To set the client credential in configuration, add an [\<endpointBehaviors>](../configure-apps/file-schema/wcf/endpointbehaviors.md) element to the configuration file.</span></span> <span data-ttu-id="580d8-187">Además, el elemento de comportamiento agregado se debe vincular al punto de conexión del servicio mediante el `behaviorConfiguration` atributo del elemento [ \<endpoint> \<client> de](../configure-apps/file-schema/wcf/endpoint-of-client.md) , tal y como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="580d8-187">Additionally, the added behavior element must be linked to the service's endpoint using the `behaviorConfiguration` attribute of the [\<endpoint> of \<client>](../configure-apps/file-schema/wcf/endpoint-of-client.md) element as shown in the following example.</span></span> <span data-ttu-id="580d8-188">El valor del atributo `behaviorConfiguration` debe coincidir con el valor del atributo `name` del comportamiento.</span><span class="sxs-lookup"><span data-stu-id="580d8-188">The value of the `behaviorConfiguration` attribute must match the value of the behavior `name` attribute.</span></span>  

```xml
<configuration>
  <system.serviceModel>
    <client>
      <endpoint address="http://localhost/servicemodelsamples/service.svc"
                binding="wsHttpBinding"
                bindingConfiguration="Binding1"
                behaviorConfiguration="myEndpointBehavior"
                contract="Microsoft.ServiceModel.Samples.ICalculator" />
    </client>
  </system.serviceModel>
</configuration>
```
  
> [!NOTE]
> <span data-ttu-id="580d8-189">Algunos de los valores de credenciales de cliente no se pueden establecer utilizando los archivos de configuración de la aplicación, por ejemplo, el nombre de usuario y la contraseña, o los valores de usuario y contraseña de Windows.</span><span class="sxs-lookup"><span data-stu-id="580d8-189">Some of the client credential values cannot be set using application configuration files, for example, user name and password, or Windows user and password values.</span></span> <span data-ttu-id="580d8-190">Tales valores de credenciales solo se pueden especificarse mediante código.</span><span class="sxs-lookup"><span data-stu-id="580d8-190">Such credential values can be specified only in code.</span></span>  
  
 <span data-ttu-id="580d8-191">Para obtener más información acerca de cómo establecer las credenciales del cliente, consulte [Cómo: especificar valores de credenciales de cliente](how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="580d8-191">For more information about setting the client credential, see [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="580d8-192">Se omite `ClientCredentialType` cuando `SecurityMode` está establecido en `"TransportWithMessageCredential",` tal y como se muestra en la configuración del ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="580d8-192">`ClientCredentialType` is ignored when `SecurityMode` is set to `"TransportWithMessageCredential",` as shown in the following sample configuration.</span></span>  
  
```xml  
<wsHttpBinding>  
    <binding name="PingBinding">  
        <security mode="TransportWithMessageCredential"  >  
           <message  clientCredentialType="UserName"
               establishSecurityContext="false"
               negotiateServiceCredential="false" />  
           <transport clientCredentialType="Certificate"  />  
         </security>  
    </binding>  
</wsHttpBinding>  
```  
  
## <a name="see-also"></a><span data-ttu-id="580d8-193">Vea también</span><span class="sxs-lookup"><span data-stu-id="580d8-193">See also</span></span>

- <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A>
- <xref:System.ServiceModel.ClientBase%601>
- <xref:System.ServiceModel.Description.ClientCredentials>
- <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A>
- <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A>
- [\<bindings>](../configure-apps/file-schema/wcf/bindings.md)
- [<span data-ttu-id="580d8-194">Herramienta del editor de configuración (SvcConfigEditor.exe)</span><span class="sxs-lookup"><span data-stu-id="580d8-194">Configuration Editor Tool (SvcConfigEditor.exe)</span></span>](configuration-editor-tool-svcconfigeditor-exe.md)
- [<span data-ttu-id="580d8-195">Seguridad de servicios</span><span class="sxs-lookup"><span data-stu-id="580d8-195">Securing Services</span></span>](securing-services.md)
- [<span data-ttu-id="580d8-196">Acceso a los servicios mediante un cliente WCF</span><span class="sxs-lookup"><span data-stu-id="580d8-196">Accessing Services Using a WCF Client</span></span>](accessing-services-using-a-wcf-client.md)
- [<span data-ttu-id="580d8-197">Procedimiento para especificar valores de credenciales de cliente</span><span class="sxs-lookup"><span data-stu-id="580d8-197">How to: Specify Client Credential Values</span></span>](how-to-specify-client-credential-values.md)
- [<span data-ttu-id="580d8-198">Herramienta de utilidad de metadatos de ServiceModel (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="580d8-198">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="580d8-199">Procedimiento para especificar el tipo de credencial de cliente</span><span class="sxs-lookup"><span data-stu-id="580d8-199">How to: Specify the Client Credential Type</span></span>](how-to-specify-the-client-credential-type.md)
