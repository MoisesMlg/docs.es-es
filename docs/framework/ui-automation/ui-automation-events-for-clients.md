---
title: Eventos de UI Automation para clientes
description: Obtenga información sobre cómo los clientes de automatización de la interfaz de usuario usan los eventos de automatización de la interfaz de usuario de Microsoft en .NET. La automatización de la interfaz de usuario permite a los clientes suscribirse a eventos de interés.
ms.date: 03/30/2017
helpviewer_keywords:
- UI Automation, events for clients
- events, UI Automation clients
ms.assetid: b909e388-3f24-4997-b6d4-bd9c35c2dc27
ms.openlocfilehash: fd27443fba3722c6cd2d00d6c2ca9cfc9c151b6e
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96261116"
---
# <a name="ui-automation-events-for-clients"></a><span data-ttu-id="0bfbe-104">Eventos de UI Automation para clientes</span><span class="sxs-lookup"><span data-stu-id="0bfbe-104">UI Automation Events for Clients</span></span>

> [!NOTE]
> <span data-ttu-id="0bfbe-105">Esta documentación está dirigida a los desarrolladores de .NET Framework que quieran usar las clases [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] administradas definidas en el espacio de nombres <xref:System.Windows.Automation>.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-105">This documentation is intended for .NET Framework developers who want to use the managed [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] classes defined in the <xref:System.Windows.Automation> namespace.</span></span> <span data-ttu-id="0bfbe-106">Para ver la información más reciente acerca de [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)], consulte [Windows Automation API: automatización de la interfaz de usuario](/windows/win32/winauto/entry-uiauto-win32).</span><span class="sxs-lookup"><span data-stu-id="0bfbe-106">For the latest information about [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)], see [Windows Automation API: UI Automation](/windows/win32/winauto/entry-uiauto-win32).</span></span>  
  
 <span data-ttu-id="0bfbe-107">En este tema se describe cómo usan los clientes de UI Automation los eventos [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0bfbe-107">This topic describes how [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] events are used by UI Automation clients.</span></span>  
  
 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] <span data-ttu-id="0bfbe-108">permite que los clientes se suscriban a eventos de interés.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-108">allows clients to subscribe to events of interest.</span></span> <span data-ttu-id="0bfbe-109">Esta capacidad mejora el rendimiento eliminando la necesidad de sondear continuamente todos los elementos [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] del sistema para ver si ha cambiado cualquier información, estructura o estado.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-109">This capability improves performance by eliminating the need to continually poll all the [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] elements in the system to see if any information, structure, or state has changed.</span></span>  
  
 <span data-ttu-id="0bfbe-110">La eficacia también mejora gracias a la capacidad para realizar escuchas de eventos que solo se encuentran dentro de un ámbito definido.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-110">Efficiency is also improved by the ability to listen for events only within a defined scope.</span></span> <span data-ttu-id="0bfbe-111">Por ejemplo, un cliente puede estar a la escucha de eventos de cambio de foco en todos los elementos [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] del árbol o solo en un elemento y sus descendientes.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-111">For example, a client can listen for focus change events on all [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] elements in the tree, or on just one element and its descendants.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0bfbe-112">No dé por hecho que todos los eventos posibles los genera un proveedor de [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0bfbe-112">Do not assume that all possible events are raised by a [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] provider.</span></span> <span data-ttu-id="0bfbe-113">Por ejemplo, no todos los cambios de propiedad hacen que los proveedores de proxy estándar generen eventos para los controles de Windows Forms y Win32.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-113">For example, not all property changes cause events to be raised by the standard proxy providers for Windows Forms and Win32 controls.</span></span>  
  
 <span data-ttu-id="0bfbe-114">Para obtener una vista más amplia de [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] los eventos, vea [UI Automation Events Overview](ui-automation-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0bfbe-114">For a broader view of [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] events, see [UI Automation Events Overview](ui-automation-events-overview.md).</span></span>  
  
<a name="Subscribing_to_Events"></a>

## <a name="subscribing-to-events"></a><span data-ttu-id="0bfbe-115">Suscripción a eventos</span><span class="sxs-lookup"><span data-stu-id="0bfbe-115">Subscribing to Events</span></span>  

 <span data-ttu-id="0bfbe-116">Las aplicaciones cliente se suscriben a eventos de un tipo determinado mediante el registro de un controlador de eventos, con uno de los métodos siguientes.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-116">Client applications subscribe to events of a particular kind by registering an event handler, using one of the following methods.</span></span>  
  
|<span data-ttu-id="0bfbe-117">Método</span><span class="sxs-lookup"><span data-stu-id="0bfbe-117">Method</span></span>|<span data-ttu-id="0bfbe-118">Tipo de evento</span><span class="sxs-lookup"><span data-stu-id="0bfbe-118">Event Type</span></span>|<span data-ttu-id="0bfbe-119">Tipo de argumentos de evento</span><span class="sxs-lookup"><span data-stu-id="0bfbe-119">Event Arguments Type</span></span>|<span data-ttu-id="0bfbe-120">Tipo delegado</span><span class="sxs-lookup"><span data-stu-id="0bfbe-120">Delegate Type</span></span>|  
|------------|----------------|--------------------------|-------------------|  
|<xref:System.Windows.Automation.Automation.AddAutomationFocusChangedEventHandler%2A>|<span data-ttu-id="0bfbe-121">Cambio de foco</span><span class="sxs-lookup"><span data-stu-id="0bfbe-121">Focus change</span></span>|<xref:System.Windows.Automation.AutomationFocusChangedEventArgs>|<xref:System.Windows.Automation.AutomationFocusChangedEventHandler>|  
|<xref:System.Windows.Automation.Automation.AddAutomationPropertyChangedEventHandler%2A>|<span data-ttu-id="0bfbe-122">Cambio de propiedad</span><span class="sxs-lookup"><span data-stu-id="0bfbe-122">Property change</span></span>|<xref:System.Windows.Automation.AutomationPropertyChangedEventArgs>|<xref:System.Windows.Automation.AutomationPropertyChangedEventHandler>|  
|<xref:System.Windows.Automation.Automation.AddStructureChangedEventHandler%2A>|<span data-ttu-id="0bfbe-123">Cambio de estructura</span><span class="sxs-lookup"><span data-stu-id="0bfbe-123">Structure change</span></span>|<xref:System.Windows.Automation.StructureChangedEventArgs>|<xref:System.Windows.Automation.StructureChangedEventHandler>|  
|<xref:System.Windows.Automation.Automation.AddAutomationEventHandler%2A>|<span data-ttu-id="0bfbe-124">Todos los demás eventos, identificados por un elemento <xref:System.Windows.Automation.AutomationEvent></span><span class="sxs-lookup"><span data-stu-id="0bfbe-124">All other events, identified by an <xref:System.Windows.Automation.AutomationEvent></span></span>|<span data-ttu-id="0bfbe-125"><xref:System.Windows.Automation.AutomationEventArgs> o <xref:System.Windows.Automation.WindowClosedEventArgs></span><span class="sxs-lookup"><span data-stu-id="0bfbe-125"><xref:System.Windows.Automation.AutomationEventArgs> or <xref:System.Windows.Automation.WindowClosedEventArgs></span></span>|<xref:System.Windows.Automation.AutomationEventHandler>|  
  
 <span data-ttu-id="0bfbe-126">Antes de llamar al método, debe crear un método delegado para controlar el evento.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-126">Before calling the method, you must create a delegate method to handle the event.</span></span> <span data-ttu-id="0bfbe-127">Si lo prefiere, puede controlar tipos diferentes de eventos en un solo método y pasar este método en varias llamadas a uno de los métodos de la tabla.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-127">If you prefer, you can handle different kinds of events in a single method, and pass this method in multiple calls to one of the methods in the table.</span></span> <span data-ttu-id="0bfbe-128">Por ejemplo, es posible configurar un único elemento <xref:System.Windows.Automation.AutomationEventHandler> para controlar varios eventos de manera diferente, según el elemento <xref:System.Windows.Automation.AutomationEventArgs.EventId%2A>.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-128">For example, a single <xref:System.Windows.Automation.AutomationEventHandler> can be set up to handle various events differently according to the <xref:System.Windows.Automation.AutomationEventArgs.EventId%2A>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0bfbe-129">Para procesar eventos de ventana cerrada, convierta el tipo de argumento que se pasa al controlador de eventos a <xref:System.Windows.Automation.WindowClosedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-129">To process window-closed events, cast the argument type that is passed to the event handler as <xref:System.Windows.Automation.WindowClosedEventArgs>.</span></span> <span data-ttu-id="0bfbe-130">Como el elemento [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] para la ventana ya no es válido, no puede utilizar el parámetro `sender` para recuperar información; utilice <xref:System.Windows.Automation.WindowClosedEventArgs.GetRuntimeId%2A> en su lugar.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-130">Because the [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] element for the window is no longer valid, you cannot use the `sender` parameter to retrieve information; use <xref:System.Windows.Automation.WindowClosedEventArgs.GetRuntimeId%2A> instead.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="0bfbe-131">Si la aplicación podría recibir eventos de su propia [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)], no utilice el subproceso [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] de la aplicación para suscribirse a eventos o para cancelar la suscripción.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-131">If your application might receive events from its own [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)], do not use your application's [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] thread to subscribe to events, or to unsubscribe.</span></span> <span data-ttu-id="0bfbe-132">Si lo hace, podría provocar un comportamiento imprevisible.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-132">Doing so might lead to unpredictable behavior.</span></span> <span data-ttu-id="0bfbe-133">Para obtener más información, consulta [UI Automation Threading Issues](ui-automation-threading-issues.md).</span><span class="sxs-lookup"><span data-stu-id="0bfbe-133">For more information, see [UI Automation Threading Issues](ui-automation-threading-issues.md).</span></span>  
  
 <span data-ttu-id="0bfbe-134">Al apagar el equipo, o si los eventos [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] ya no son de interés para la aplicación, los clientes de UI Automation deben llamar a uno de los métodos siguientes.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-134">On shutdown, or when [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] events are no longer of interest to the application, UI Automation clients should call one of the following methods.</span></span>  
  
|<span data-ttu-id="0bfbe-135">Método</span><span class="sxs-lookup"><span data-stu-id="0bfbe-135">Method</span></span>|<span data-ttu-id="0bfbe-136">Descripción</span><span class="sxs-lookup"><span data-stu-id="0bfbe-136">Description</span></span>|  
|------------|-----------------|  
|<xref:System.Windows.Automation.Automation.RemoveAutomationEventHandler%2A>|<span data-ttu-id="0bfbe-137">Anula el registro de un controlador de eventos que se registró mediante <xref:System.Windows.Automation.Automation.AddAutomationEventHandler%2A>.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-137">Unregisters an event handler that was registered by using <xref:System.Windows.Automation.Automation.AddAutomationEventHandler%2A>.</span></span>|  
|<xref:System.Windows.Automation.Automation.RemoveAutomationFocusChangedEventHandler%2A>|<span data-ttu-id="0bfbe-138">Anula el registro de un controlador de eventos que se registró mediante <xref:System.Windows.Automation.Automation.AddAutomationFocusChangedEventHandler%2A>.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-138">Unregisters an event handler that was registered by using <xref:System.Windows.Automation.Automation.AddAutomationFocusChangedEventHandler%2A>.</span></span>|  
|<xref:System.Windows.Automation.Automation.RemoveAutomationPropertyChangedEventHandler%2A>|<span data-ttu-id="0bfbe-139">Anula el registro de un controlador de eventos que se registró mediante <xref:System.Windows.Automation.Automation.AddAutomationPropertyChangedEventHandler%2A>.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-139">Unregisters an event handler that was registered by using <xref:System.Windows.Automation.Automation.AddAutomationPropertyChangedEventHandler%2A>.</span></span>|  
|<xref:System.Windows.Automation.Automation.RemoveAllEventHandlers%2A>|<span data-ttu-id="0bfbe-140">Anula el registro de todos los controladores de eventos registrados.</span><span class="sxs-lookup"><span data-stu-id="0bfbe-140">Unregisters all registered event handlers.</span></span>|  
  
 <span data-ttu-id="0bfbe-141">Para ver un ejemplo de código, vea [suscribirse a eventos de UI Automation](subscribe-to-ui-automation-events.md).</span><span class="sxs-lookup"><span data-stu-id="0bfbe-141">For example code, see [Subscribe to UI Automation Events](subscribe-to-ui-automation-events.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0bfbe-142">Vea también</span><span class="sxs-lookup"><span data-stu-id="0bfbe-142">See also</span></span>

- [<span data-ttu-id="0bfbe-143">Suscribirse a eventos de UI Automation</span><span class="sxs-lookup"><span data-stu-id="0bfbe-143">Subscribe to UI Automation Events</span></span>](subscribe-to-ui-automation-events.md)
- [<span data-ttu-id="0bfbe-144">Información general sobre eventos de UI Automation</span><span class="sxs-lookup"><span data-stu-id="0bfbe-144">UI Automation Events Overview</span></span>](ui-automation-events-overview.md)
- [<span data-ttu-id="0bfbe-145">Información general acerca de las propiedades de UI Automation</span><span class="sxs-lookup"><span data-stu-id="0bfbe-145">UI Automation Properties Overview</span></span>](ui-automation-properties-overview.md)
- [<span data-ttu-id="0bfbe-146">Ejemplo de TrackFocus</span><span class="sxs-lookup"><span data-stu-id="0bfbe-146">TrackFocus Sample</span></span>](https://github.com/Microsoft/WPF-Samples/tree/master/Accessibility/FocusTracker)
